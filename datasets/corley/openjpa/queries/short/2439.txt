Improving compliance to Java 5+