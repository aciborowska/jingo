"InvalidStateException: Detected reentrant flush..." while building an error message for an earlier exception