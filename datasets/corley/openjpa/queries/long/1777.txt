The diagnostic context for each slice had been set on the assumption that the LogFactory interface is implemented by LogFactoryImpl (because setDiagnosticConext()) is not exposed on the LogFactory interface). This change will set the context via reflection to remove the assumption on LogFactoryImpl.