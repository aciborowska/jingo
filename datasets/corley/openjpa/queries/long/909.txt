Running org.apache.openjpa.persistence.annotations.TestOneToMany
0  TestConv  INFO   [main] openjpa.Runtime - Starting OpenJPA 2.0.0-SNAPSHOT
47  TestConv  INFO   [main] openjpa.jdbc.JDBC - Using dictionary class "org.apache.openjpa.jdbc.sql.PostgresDictionary" (PostgreSQL 8.3.5 ,PostgreSQL Native Driver PostgreSQL 8.3 JDBC3 with SSL (build 603)).
java.lang.ClassCastException: org.postgresql.util.PGobject
	at org.apache.openjpa.persistence.annotations.common.apps.annotApp.annotype.AnnoTest2.pcReplaceField(AnnoTest2.java)
	at org.apache.openjpa.kernel.StateManagerImpl.replaceField(StateManagerImpl.java:3044)
	at org.apache.openjpa.kernel.DetachManager$DetachFieldManager.detachVersion(DetachManager.java:523)
	at org.apache.openjpa.kernel.DetachManager.detachInternal(DetachManager.java:455)
	at org.apache.openjpa.kernel.DetachManager.detachAll(DetachManager.java:317)
	at org.apache.openjpa.kernel.BrokerImpl.detachAllInternal(BrokerImpl.java:3293)
	at org.apache.openjpa.kernel.BrokerImpl.free(BrokerImpl.java:4185)
	at org.apache.openjpa.kernel.BrokerImpl.close(BrokerImpl.java:4172)
	at org.apache.openjpa.kernel.DelegatingBroker.close(DelegatingBroker.java:1316)
	at org.apache.openjpa.persistence.EntityManagerImpl.close(EntityManagerImpl.java:1154)
	at org.apache.openjpa.persistence.test.PersistenceTestCase.closeAllOpenEMs(PersistenceTestCase.java:216)
	at org.apache.openjpa.persistence.test.PersistenceTestCase.closeEMF(PersistenceTestCase.java:195)
	at org.apache.openjpa.persistence.common.utils.AbstractTestCase.tearDown(AbstractTestCase.java:125)
	at junit.framework.TestCase.runBare(TestCase.java:130)
	at org.apache.openjpa.persistence.test.PersistenceTestCase.runBare(PersistenceTestCase.java:443)
	at junit.framework.TestResult$1.protect(TestResult.java:106)
	at junit.framework.TestResult.runProtected(TestResult.java:124)
	at junit.framework.TestResult.run(TestResult.java:109)
	at junit.framework.TestCase.run(TestCase.java:118)
	at org.apache.openjpa.persistence.test.PersistenceTestCase.run(PersistenceTestCase.java:173)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at sun.reflect.GeneratedMethodAccessor48.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.apache.maven.surefire.junit.JUnitTestSet.execute(JUnitTestSet.java:213)
	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140)
	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:127)
	at org.apache.maven.surefire.Surefire.run(Surefire.java:177)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:334)
	at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:980)
0  TestConv  INFO   [main] openjpa.Runtime - Starting OpenJPA 2.0.0-SNAPSHOT
47  TestConv  INFO   [main] openjpa.jdbc.JDBC - Using dictionary class "org.apache.openjpa.jdbc.sql.PostgresDictionary" (PostgreSQL 8.3.5 ,PostgreSQL Native Driver PostgreSQL 8.3 JDBC3 with SSL (build 603)).
java.lang.ClassCastException: org.postgresql.util.PGobject
	at org.apache.openjpa.persistence.annotations.common.apps.annotApp.annotype.AnnoTest2.pcReplaceField(AnnoTest2.java)
	at org.apache.openjpa.kernel.StateManagerImpl.replaceField(StateManagerImpl.java:3044)
	at org.apache.openjpa.kernel.DetachManager$DetachFieldManager.detachVersion(DetachManager.java:523)
	at org.apache.openjpa.kernel.DetachManager.detachInternal(DetachManager.java:455)
	at org.apache.openjpa.kernel.DetachManager.detachAll(DetachManager.java:317)
	at org.apache.openjpa.kernel.BrokerImpl.detachAllInternal(BrokerImpl.java:3293)
	at org.apache.openjpa.kernel.BrokerImpl.free(BrokerImpl.java:4185)
	at org.apache.openjpa.kernel.BrokerImpl.close(BrokerImpl.java:4172)
	at org.apache.openjpa.kernel.DelegatingBroker.close(DelegatingBroker.java:1316)
	at org.apache.openjpa.persistence.EntityManagerImpl.close(EntityManagerImpl.java:1154)
	at org.apache.openjpa.persistence.test.PersistenceTestCase.closeAllOpenEMs(PersistenceTestCase.java:216)
	at org.apache.openjpa.persistence.test.PersistenceTestCase.closeEMF(PersistenceTestCase.java:195)
	at org.apache.openjpa.persistence.common.utils.AbstractTestCase.tearDown(AbstractTestCase.java:125)
	at junit.framework.TestCase.runBare(TestCase.java:130)
	at org.apache.openjpa.persistence.test.PersistenceTestCase.runBare(PersistenceTestCase.java:443)
	at junit.framework.TestResult$1.protect(TestResult.java:106)
	at junit.framework.TestResult.runProtected(TestResult.java:124)
	at junit.framework.TestResult.run(TestResult.java:109)
	at junit.framework.TestCase.run(TestCase.java:118)
	at org.apache.openjpa.persistence.test.PersistenceTestCase.run(PersistenceTestCase.java:173)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at sun.reflect.GeneratedMethodAccessor48.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.apache.maven.surefire.junit.JUnitTestSet.execute(JUnitTestSet.java:213)
	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140)
	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:127)
	at org.apache.maven.surefire.Surefire.run(Surefire.java:177)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:334)
	at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:980)
Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 1.875 sec <<< FAILURE!
testOneToMany(org.apache.openjpa.persistence.annotations.TestOneToMany)  Time elapsed: 0.937 sec  <<< ERROR!
<openjpa-2.0.0-SNAPSHOT-r422266:741347M nonfatal general error> org.apache.openjpa.persistence.PersistenceException: org.postgresql.util.PGobject
	at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:968)
	at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:867)
	at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:893)
	at org.apache.openjpa.jdbc.sql.AbstractResult.load(AbstractResult.java:278)
	at org.apache.openjpa.jdbc.sql.SelectImpl$SelectResult.load(SelectImpl.java:2369)
	at org.apache.openjpa.jdbc.meta.strats.RelationToManyInverseKeyFieldStrategy.loadElement(RelationToManyInverseKeyFieldStrategy.java:87)
	at org.apache.openjpa.jdbc.meta.strats.RelationCollectionInverseKeyFieldStrategy.loadElement(RelationCollectionInverseKeyFieldStrategy.java:76)
	at org.apache.openjpa.jdbc.meta.strats.StoreCollectionFieldStrategy.load(StoreCollectionFieldStrategy.java:554)
	at org.apache.openjpa.jdbc.meta.FieldMapping.load(FieldMapping.java:830)
	at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:597)
	at org.apache.openjpa.kernel.DelegatingStoreManager.load(DelegatingStoreManager.java:116)
	at org.apache.openjpa.kernel.ROPStoreManager.load(ROPStoreManager.java:78)
	at org.apache.openjpa.kernel.StateManagerImpl.loadFields(StateManagerImpl.java:2940)
	at org.apache.openjpa.kernel.StateManagerImpl.loadField(StateManagerImpl.java:3018)
	at org.apache.openjpa.kernel.StateManagerImpl.beforeAccessField(StateManagerImpl.java:1511)
	at org.apache.openjpa.kernel.StateManagerImpl.accessingField(StateManagerImpl.java:1496)
	at org.apache.openjpa.persistence.annotations.common.apps.annotApp.annotype.AnnoTest1.pcGetoneMany(AnnoTest1.java)
	at org.apache.openjpa.persistence.annotations.common.apps.annotApp.annotype.AnnoTest1.getOneMany(AnnoTest1.java:271)
	at org.apache.openjpa.persistence.annotations.TestOneToMany.testOneToMany(TestOneToMany.java:62)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at junit.framework.TestCase.runTest(TestCase.java:154)
	at junit.framework.TestCase.runBare(TestCase.java:127)
	at org.apache.openjpa.persistence.test.PersistenceTestCase.runBare(PersistenceTestCase.java:443)
	at junit.framework.TestResult$1.protect(TestResult.java:106)
	at junit.framework.TestResult.runProtected(TestResult.java:124)
	at junit.framework.TestResult.run(TestResult.java:109)
	at junit.framework.TestCase.run(TestCase.java:118)
	at org.apache.openjpa.persistence.test.PersistenceTestCase.run(PersistenceTestCase.java:173)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at sun.reflect.GeneratedMethodAccessor48.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.apache.maven.surefire.junit.JUnitTestSet.execute(JUnitTestSet.java:213)
	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140)
	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:127)
	at org.apache.maven.surefire.Surefire.run(Surefire.java:177)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:334)
	at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:980)
Caused by: java.lang.ClassCastException: org.postgresql.util.PGobject
	at org.apache.openjpa.kernel.SingleFieldManager.proxy(SingleFieldManager.java:83)
	at org.apache.openjpa.kernel.StateManagerImpl.storeObjectField(StateManagerImpl.java:2474)
	at org.apache.openjpa.kernel.StateManagerImpl.storeField(StateManagerImpl.java:2571)
	at org.apache.openjpa.kernel.StateManagerImpl.storeField(StateManagerImpl.java:804)
	at org.apache.openjpa.kernel.StateManagerImpl.store(StateManagerImpl.java:800)
	at org.apache.openjpa.kernel.StateManagerImpl.assignVersionField(StateManagerImpl.java:666)
	at org.apache.openjpa.kernel.StateManagerImpl.setVersion(StateManagerImpl.java:651)
	at org.apache.openjpa.jdbc.meta.strats.ColumnVersionStrategy.load(ColumnVersionStrategy.java:265)
	at org.apache.openjpa.jdbc.meta.Version.load(Version.java:343)
	at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:942)
	at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:919)
	at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initializeState(JDBCStoreManager.java:364)
	at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initialize(JDBCStoreManager.java:264)
	at org.apache.openjpa.kernel.DelegatingStoreManager.initialize(DelegatingStoreManager.java:111)
	at org.apache.openjpa.kernel.ROPStoreManager.initialize(ROPStoreManager.java:57)
	at org.apache.openjpa.kernel.BrokerImpl.initialize(BrokerImpl.java:987)
	at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:945)
	... 45 more
