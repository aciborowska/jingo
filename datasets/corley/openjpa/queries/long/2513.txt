While digging into OPENJPA-2502, I discovered that CriteriaExpressionBuilder.evalAccessPaths(..) doesn't process subqueries when determining accessPaths. I don't have a very great understanding of the accessPath concept, but when comparing the access path of a JPQL query to a criteria query I can see that criteria doesn't do it the same as JPQL.

I added a TODO in CriteriaExpressionBuilder.evalAccessPaths denoting where I think we have additional work.