OpenJPA fails to complete the initialization phase if it is used as an internal library inside web application and this application is deployed to the JBoss AS. The problem is that PersistenceMetaDataFactory tries to parse the directory as an unparsed XML file. It takes the URL to this XML file from the list of the unparsed files. But the URL that points to a directory is added to this list. This URL is added to the unparsed files in the mapPersistentTypeNames method of the PersistenceMetaDataFactory class.
I've attached the stack trace of the original error and the patch with possible fix.