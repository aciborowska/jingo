c client issues (memory leaks) reported by valgrind