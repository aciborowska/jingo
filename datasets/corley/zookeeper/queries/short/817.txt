improve the efficiency of tracing