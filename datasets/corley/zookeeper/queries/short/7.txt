Use enums rather than ints for types and state