c client doesn't wait for server response upon closing handle, generates EndOfStreamException and CancelledKeyExceptions warnings