Flushing DataOutputStream before calling toByteArray on the underlying ByteArrayOutputStream