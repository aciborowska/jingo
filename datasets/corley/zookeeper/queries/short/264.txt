docs should include a state transition diagram for client state