Dubious synchronization in Zookeeper and ClientCnxnSocketNIO classes