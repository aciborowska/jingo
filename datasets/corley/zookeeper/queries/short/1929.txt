std::length_error on update children