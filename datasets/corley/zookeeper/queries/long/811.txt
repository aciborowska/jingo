Refactor server to server failure detection code to use the FailureDetector interface proposed in the parent JIRA. The failure detection method and its parameters should also be configurable in this case. 

Patches submitted in this JIRA use the latest patch of the parent JIRA as baseline.