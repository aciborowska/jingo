The variable can be removed and instead where it is evaluated one can just check whether the request.type was OpCode.closesession. Removes one indirection from your head in a method that's long enough already.