The snapshot and transaction log files are not validating the magic numbers when read.

Mahadev, can you update the code and tests for this? Possible for 3.0 or wait post 3.0? (feel free to fix now or reassign version)

Please add tests for this.