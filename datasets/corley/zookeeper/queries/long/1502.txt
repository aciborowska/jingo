We recently ran into an issue where two zookeepers servers which were a part of two separate quorums were configured to use the same data directory.  Interestingly, the zookeeper servers did not seem to complain and both seemed to work fine until one of them was restarted.  Once that happened all sort of chaos ensued.  I understand that this is a misconfiguration should zookeeper complain about this or do users need to protect themselves in some external fashion?  Is a simple file lock enough or are there other things I should take into consideration if itâ€™s up to me to handle?  