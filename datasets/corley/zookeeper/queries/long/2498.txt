In C client, we use reference counting to decide if a given zh handle can be destroyed or not. This requires we always make sure to call api_prolog (which increment the counter) and api_epilog (which decrease the counter) in pairs, for a given call context. 

In zookeeper_process, there is a place where the code will return without invoking api_epilog, which would lead to potential zh resource leak.