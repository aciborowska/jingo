Either the AUTH_FAILED state should be removed, or an AuthFailedException should cause the ZooKeeper client to transition to the AUTH_FAILED state.