Currently, Bookie does a lot of things, managing storage, managing bookie state (readonly or shutdown), handling zookeeper connections. It would be better to put SyncThread, Journal and LedgerStorage under a bookie store interface. so bookie just interacts with BookieStore for storage, interacts with ZooKeeper for membership management and manage the state transition through a StateTransitor (turn to readonly or shutdown).

A BookieStore interface is easy to evaluate storage performance itself, and easy for plugging different storage implementation in future.