When storage usage goes above threshold, there won't be any writable ledger dirs available and bookie turns RO. There can be multiple ways bookie can start compaction including isForceGCAllowWhenNoSpace enabled or by other means. When this happens the compaction process need to create a new entrylog to make progress on compaction. Creation of entrylog will fail because there are no writable ledger dirs.

This is to allow entrylog creation if there is enough disk space even though used space is above threshold. Because after compaction space will stay the same or go below the threshold.