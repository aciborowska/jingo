In setMessageHandler function, when subscribeMsgQueue is not empty, the main thread will consume the message in subscribeMsgQueue, at the same time, the messageHandler have been set, so the worker thread will consume new coming message in handleSubscribeMessage. So the message Sequence will be confused