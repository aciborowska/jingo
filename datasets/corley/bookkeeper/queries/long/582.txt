Make the client and the bookie use protobufs internally. This is the first step to using protobufs on the wire, but for the moment, BookieRequestHandler decodes the old wire protocol into the protobuf messages. Once this is in, enabling on the wire will be very simple, and the old manual serialization can be made "legacy" (still supported, but deprecated).