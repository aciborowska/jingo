Change the protocol to protobuf, which is easy to extend the protocol in future.

Aniruddha already did some works for it. he would generate the patch later. created this jira in case of duplicated works.