At present there is a lot of calls taking place to-from between PigServer and GruntServer. For example, PigServer.registerScript(..) calls GruntServer.parseStopOnError for parsing which in turn calls PigServer.executeBatch(). The code seems more complex than it should be and should be refactored. 

Also, several methods on PigServer are not clear in what they do and should be well documented (probably in another JIRA).