Along with mapred.reduce.tasks, auto local mode conversion should also ignore mapreduce.job.reduces parameter from default configuration.