Currently there is no easy mechanisim from unit tests to get hold of the compiled JobConf (or Job) for a script from a unit test testcase. This may require some design changes like having public methods in PigServer and JobControlCompiler to be able to compile a script upto launch and then get hold of the JobConf or Job to ensure things are set up right. The need for this showed up in PIG-901 as described in https://issues.apache.org/jira/browse/PIG-901?focusedCommentId=12739044&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_12739044. That use case can be used as one of the requirements for the design change.