Currently, if UDF writer does not specify outputSchema the default is bytearray which is not what you would want most of the time. Making chararray a default would make things backward compatible.