This test started failing on TEZ after we merged PoS. The test checks if there is a "Combiner plan" among the vertices of Tez execution plan.
The last step of the query is pigServer.registerQuery("d = limit c 2 ; "); which is decisive in the case of Tez. It looks like if we check the plan for "d" there is no combiner part, but there is one if we check it for "c" - so without applying limit.

The reason this didn't come out before is because the alias supplied to checkCombinerUsed method was disregarded and alias "c" was checked always. This was recently fixed with the PoS merge. (See diff of TestCombiner here )