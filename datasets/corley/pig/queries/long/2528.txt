For the purposes of tracing usage and statistics of Pig scripts, I'd like to be able to correlate the information PPNL can now collect with the script that was actually running. Currently, a script id gets passed into every PPNL call, but it's just a UUID, so one can't compare it to other executions of the same script.

It seems to me like most of what I need would be taken care of by adding a setScriptPlan(String lp) method to the PPNL interface, and calling it from ScriptState's setScriptFeatures(LogicalPlan lp). My PPNL could then walk the plan and come up with some representation that would be reusable between different runs of the same script.

This would be a backwards incompatible change, as it requires adding a method to an interface. PPNL is labeled as evolving, and I don't believe that it's widely used at the moment.