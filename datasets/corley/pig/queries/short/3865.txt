Remodel the XMLLoader to work to be faster and more maintainable