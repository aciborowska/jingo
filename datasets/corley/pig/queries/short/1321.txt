Logical Optimizer: Merge cascading foreach