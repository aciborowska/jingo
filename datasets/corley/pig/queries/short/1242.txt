register directive should accept files and directories as well as jar files