error handling - enforce error codes