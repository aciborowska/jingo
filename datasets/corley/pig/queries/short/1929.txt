Type checker failed to catch invalid type comparison