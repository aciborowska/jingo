improve exception handling for function instantiation