Allow TOMAP to accept dynamically sized input 