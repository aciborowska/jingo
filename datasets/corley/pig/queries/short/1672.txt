order of relations in replicated join gets switched in a query where first relation has two mergeable foreach statements