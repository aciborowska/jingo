### Task List

- [x] Steps to reproduce provided
- [x] Full description of the issue provided (see below)

### Steps to Reproduce

1. mn create-federation -i -s s1,s2 -p service -f kotlin,spock,swagger-kotlin

### Expected Behaviour

A set of services s1 and s2 created with given features

### Actual Behaviour

First service is kotlin, everything else is java, profile specified not used

### Environment Information

- **Operating System**: Mac OSX
- **Micronaut Version:** 1.0.0.RC2
- **JDK Version:** 1.8

Example output:

    mn> create-federation -i -s s1,s2 -p service -f kotlin,spock,swagger-kotlin
    | Warning Feature spock does not exist in the profile federation!
    | Warning Feature swagger-kotlin does not exist in the profile federation!
    | Warning Feature kotlin does not exist in the profile federation!
    | Federation created at /Users/mark.fisher/dev/mn/foo-fed
    | Generating Kotlin project...
    | Generating Java project...

The features aren't applied to all the services created and the profile seems to be set to "federation" and not the one specified as "service" giving the warnings.
