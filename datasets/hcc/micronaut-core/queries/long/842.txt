### Steps to Reproduce

1. Create an application with swagger/openapi feature
2. Create a base POJO e.g. Pet.  Apply jackson swagger annotations at class level
```    @JsonTypeInfo(include = JsonTypeInfo.As.PROPERTY, use = JsonTypeInfo.Id.NAME, property = "type", visible = true)
    @JsonSubTypes({ @JsonSubTypes.Type(value = Cat.class, name = "cat"),
            @JsonSubTypes.Type(value = Dog.class, name = "dog") })
    @Schema(description = "This is the Pet type")
    class Pet {
        private String name;
    }
```
3. Create child POJOs that extend PET e.g. Cat and Dog.  Apply jackson swagger annotations
```
    @Schema(description = "dog", allOf = { Pet.class })
    class Dog extends Pet {
        private String breed;
    }
```
4. Create controller endpoint that returns a Cat or Dog e.g.
```
   @Get(uri = "/cats/{name}")
    public Cat getCat(@NotBlank String name) {
        return new Cat();
    }
```

### Expected Behaviour

The openapi should model the base/child relationship by using 'allOf' notation
https://swagger.io/docs/specification/data-models/inheritance-and-polymorphism/
```
    Pet:
      type: object
      properties:
        name:
          type: string
    Dog:
      allOf:     # Combines the Pet and the inline model
        - $ref: '#/components/schemas/Pet'
        - type: object
          properties:
            breed:
              type: string
```

### Actual Behaviour

The openapi generator fails with an exception:
```
Caused by: java.lang.IllegalArgumentException: com.fasterxml.jackson.databind.node.ObjectNode cannot be cast to com.fasterxml.jackson.databind.node.TextNode (through reference chain: io.swagger.v3.oas.models.media.ComposedSchema["allOf"]->java.util.ArrayList[0])
        at com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:3750)
        at com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:3668)
        at io.swagger.v3.core.util.ModelDeserializer.deserialize(ModelDeserializer.java:41)
        at io.swagger.v3.core.util.ModelDeserializer.deserialize(ModelDeserializer.java:28)
        at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:3984)
        at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2276)
        at com.fasterxml.jackson.databind.ObjectMapper.treeToValue(ObjectMapper.java:2758)
        at io.micronaut.openapi.visitor.AbstractOpenApiVisitor.getSchemaDefinition(AbstractOpenApiVisitor.java:481)
        at io.micronaut.openapi.visitor.AbstractOpenApiVisitor.resolveSchema(AbstractOpenApiVisitor.java:306)
        at io.micronaut.openapi.visitor.OpenApiControllerVisitor.buildContent(OpenApiControllerVisitor.java:516)
        at io.micronaut.openapi.visitor.OpenApiControllerVisitor.lambda$visitMethod$4(OpenApiControllerVisitor.java:170)
        at io.micronaut.openapi.visitor.OpenApiControllerVisitor.visitMethod(OpenApiControllerVisitor.java:84)
        at io.micronaut.annotation.processing.visitor.LoadedVisitor.visit(LoadedVisitor.java:133)
        at io.micronaut.annotation.processing.TypeElementVisitorProcessor$ElementVisitor.lambda$visitExecutable$3(TypeElementVisitorProcessor.java:200)
        at io.micronaut.annotation.processing.TypeElementVisitorProcessor$ElementVisitor.visitExecutable(TypeElementVisitorProcessor.java:200)
        at com.sun.tools.javac.code.Symbol$MethodSymbol.accept(Symbol.java:1644)
        at io.micronaut.annotation.processing.TypeElementVisitorProcessor$ElementVisitor.visitType(TypeElementVisitorProcessor.java:183)
        at com.sun.tools.javac.code.Symbol$ClassSymbol.accept(Symbol.java:1150)
        at io.micronaut.annotation.processing.TypeElementVisitorProcessor.lambda$process$3(TypeElementVisitorProcessor.java:136)
        at io.micronaut.annotation.processing.TypeElementVisitorProcessor.process(TypeElementVisitorProcessor.java:133)
        at org.gradle.api.internal.tasks.compile.processing.DelegatingProcessor.process(DelegatingProcessor.java:62)
        at org.gradle.api.internal.tasks.compile.processing.NonIncrementalProcessor.process(NonIncrementalProcessor.java:45)
        at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:794)
        at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:705)
        at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1800(JavacProcessingEnvironment.java:91)
        at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1035)
        at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1176)
        at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1170)
        at com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:856)
        at com.sun.tools.javac.main.Main.compile(Main.java:523)
        ... 61 more
Caused by: com.fasterxml.jackson.databind.JsonMappingException: com.fasterxml.jackson.databind.node.ObjectNode cannot be cast to com.fasterxml.jackson.databind.node.TextNode (through reference chain: io.swagger.v3.oas.models.media.ComposedSchema["allOf"]->java.util.ArrayList[0])
        at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:394)
        at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:365)
        at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:302)
        at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:245)
        at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:27)
        at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:127)
        at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:288)
        at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)
        at com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:3745)
        ... 90 more
Caused by: java.lang.ClassCastException: com.fasterxml.jackson.databind.node.ObjectNode cannot be cast to com.fasterxml.jackson.databind.node.TextNode
        at io.swagger.v3.core.util.ModelDeserializer.deserialize(ModelDeserializer.java:49)
        at io.swagger.v3.core.util.ModelDeserializer.deserialize(ModelDeserializer.java:28)
        at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:286)
        ... 96 more
```

### Environment Information

- **Operating System**: Linux
- **Micronaut Version:** 1.0.0
- **JDK Version:** openjdk version "1.8.0_181"

### Example Application

See attached unit test


[testcase.zip](https://github.com/micronaut-projects/micronaut-core/files/2545437/testcase.zip)
