Transaction is not rolled back when fail on commit