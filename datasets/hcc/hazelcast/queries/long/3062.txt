Test case: https://github.com/hazelcast/hazelcast-code-samples/blob/ba74b46ea67082df9d0c049772d7daf72943e7c5/distributed-map/entry-processor/src/main/java/EntryProcessorMember.java

The update made EP by is lost. 

According to @pveentjer it works when InMemoryFormat is set to OBJECT. That's certainly a surprising behaviour. 
