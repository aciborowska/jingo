In this [line](https://github.com/hazelcast/hazelcast/blob/ab32f6ec6d48470dc1e601b53708831c261a50b0/hazelcast/src/main/java/com/hazelcast/cache/impl/CacheRecordStore.java#L239) values can have different in memory formats but they can still be equal. 

[This](https://github.com/hazelcast/hazelcast/blob/0b997748e2afd6dd343bbb187ca330b63feefe11/hazelcast/src/main/java/com/hazelcast/map/impl/recordstore/DefaultRecordStore.java#L762
) is the comparison from imap for the same case.