2 nodes, 1 superclient.
MapStore writes to (shared) DB. Write-delay set to 60, backup count to 1.
1. Start both nodes, wait til they've found eachother and shared partitioning info
2. Start superclient and use it to insert 10 million values into a map. Both nodes inserts values into the DB using storeAll.
3. Wait for everything to be written to DB, observe the last call to storeAll, then wait another 5 minutes to be sure.
4. getLifeCycleService.shutdown() on superclient, shutdown is immediate.
5. getLifeCycleService.shutdown() on one node, shutdown is immediate.

Here is the question/problem:
6. getLifeCycleService.shutdown() on the remaining node. Watch as it  proceeds to do a storeAll( 10 million values ).

It should only write entries that are dirty, not all of them.. If it writes all of them, something may break when there are a lot of values, potentially exceeding the default wait of hazelcast.graceful.shutdown.max.wait.

See: https://groups.google.com/forum/?fromgroups=#!topic/hazelcast/O48Ra_CfFF0
