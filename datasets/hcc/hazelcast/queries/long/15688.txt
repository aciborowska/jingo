In Hazelcast 3.x,  `IMap#submitToKey(K, EntryProcessor, ExecutionCallback` returns immediately. The supplied `ExecutionCallback` is executed after `EntryProcessor` is done, invoking its `onResponse/onFailure` methods respectively. If execution of `ExecutionCallback` fails due to the async executor rejecting execution (eg during Hazelcast shutdown), user is notified by invoking its onFailure method with the `RejectedExecutionException` as argument.

In Hazelcast 4.0, execution callback is submitted via `whenCompleteAsync`, [adapted to a `BiConsumer`](https://github.com/hazelcast/hazelcast/blob/83d814eefb9864187b3a43736d29422a1581f0aa/hazelcast/src/main/java/com/hazelcast/map/impl/proxy/MapProxySupport.java#L1262). If the `BiConsumer` is not executed due to `RejectedExecutionException`, then `ExecutionCallback.onFailure` is not executed -> user is not notified of the failure to execute their callback.

Same issue also applies for other `IExecutorService` methods which accept `ExecutionCallback` as argument.