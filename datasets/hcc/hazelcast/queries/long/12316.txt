Members with different licensing (EE+OS) are able to form cluster, but subsequently the join fails on  deserialization issues.

**Suggested improvement**
We should not even allow to join members of the different types. We should make the enterprise flag part of the `ConfigCheck`. Problem which comes here to solve is the `ConfigCheck` is not versioned, so it's not easy to chage it and keep it backward compatible.

**Sample logs**

Log from EE master:
```
Feb 12, 2018 10:26:12 AM com.hazelcast.system
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Hazelcast Enterprise 3.10-SNAPSHOT (20180212 - 3d33754, 1951b52) starting at [172.17.0.1]:5701
Feb 12, 2018 10:26:12 AM com.hazelcast.system
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Copyright (c) 2008-2018, Hazelcast, Inc. All Rights Reserved.
Feb 12, 2018 10:26:12 AM com.hazelcast.instance.NodeExtension
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Checking Hazelcast Enterprise license...
Feb 12, 2018 10:26:12 AM com.hazelcast.instance.NodeExtension
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] License{allowedNumberOfNodes=2, expiryDate=10/20/2099, featureList=[ Management Center, Web Session, Clustered Rest, Clustered JMX, Security, Wan Replication, Continuous Query Cache ], No Version Restriction}
Feb 12, 2018 10:26:12 AM com.hazelcast.spi.impl.operationservice.impl.BackpressureRegulator
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Backpressure is disabled
Feb 12, 2018 10:26:13 AM com.hazelcast.instance.Node
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Creating MulticastJoiner
Feb 12, 2018 10:26:13 AM com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Starting 4 partition threads and 3 generic threads (1 dedicated for priority tasks)
Feb 12, 2018 10:26:13 AM com.hazelcast.internal.diagnostics.Diagnostics
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.
Feb 12, 2018 10:26:13 AM com.hazelcast.core.LifecycleService
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] [172.17.0.1]:5701 is STARTING
Feb 12, 2018 10:26:15 AM com.hazelcast.system
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Cluster version set to 3.10
Feb 12, 2018 10:26:15 AM com.hazelcast.internal.cluster.ClusterService
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] 

Members {size:1, ver:1} [
	Member [172.17.0.1]:5701 - aba2d8f2-0797-4e9f-9ed1-f0ac3fbe6ef5 this
]

Feb 12, 2018 10:26:15 AM com.hazelcast.core.LifecycleService
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] [172.17.0.1]:5701 is STARTED
Feb 12, 2018 10:26:20 AM com.hazelcast.nio.tcp.TcpIpAcceptor
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Accepting socket connection from /192.168.1.105:37851
Feb 12, 2018 10:26:20 AM com.hazelcast.nio.tcp.TcpIpConnectionManager
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Established socket connection between /172.17.0.1:5701 and /192.168.1.105:37851
Feb 12, 2018 10:26:26 AM com.hazelcast.internal.cluster.ClusterService
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] 

Members {size:2, ver:2} [
	Member [172.17.0.1]:5701 - aba2d8f2-0797-4e9f-9ed1-f0ac3fbe6ef5 this
	Member [172.17.0.1]:5702 - 7978c746-d2b8-4da0-b87a-a16f331ed2ed
]

Feb 12, 2018 10:26:26 AM com.hazelcast.nio.tcp.TcpIpConnection
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Connection[id=1, /172.17.0.1:5701->/192.168.1.105:37851, endpoint=[172.17.0.1]:5702, alive=false, type=MEMBER] closed. Reason: Connection closed by the other side
Feb 12, 2018 10:26:26 AM com.hazelcast.nio.tcp.TcpIpConnector
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Connecting to /172.17.0.1:5702, timeout: 0, bind-any: true
Feb 12, 2018 10:26:26 AM com.hazelcast.nio.tcp.TcpIpConnector
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Could not connect to: /172.17.0.1:5702. Reason: SocketException[Connection refused to address /172.17.0.1:5702]
Feb 12, 2018 10:26:26 AM com.hazelcast.nio.tcp.TcpIpConnector
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Connecting to /172.17.0.1:5702, timeout: 0, bind-any: true
Feb 12, 2018 10:26:26 AM com.hazelcast.nio.tcp.TcpIpConnector
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Could not connect to: /172.17.0.1:5702. Reason: SocketException[Connection refused to address /172.17.0.1:5702]
Feb 12, 2018 10:26:26 AM com.hazelcast.nio.tcp.TcpIpConnector
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Connecting to /172.17.0.1:5702, timeout: 0, bind-any: true
Feb 12, 2018 10:26:26 AM com.hazelcast.nio.tcp.TcpIpConnector
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Could not connect to: /172.17.0.1:5702. Reason: SocketException[Connection refused to address /172.17.0.1:5702]
Feb 12, 2018 10:26:26 AM com.hazelcast.nio.tcp.TcpIpConnector
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Connecting to /172.17.0.1:5702, timeout: 0, bind-any: true
Feb 12, 2018 10:26:26 AM com.hazelcast.nio.tcp.TcpIpConnector
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Could not connect to: /172.17.0.1:5702. Reason: SocketException[Connection refused to address /172.17.0.1:5702]
Feb 12, 2018 10:26:26 AM com.hazelcast.nio.tcp.TcpIpConnectionErrorHandler
WARNING: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Removing connection to endpoint [172.17.0.1]:5702 Cause => java.net.SocketException {Connection refused to address /172.17.0.1:5702}, Error-Count: 5
Feb 12, 2018 10:26:26 AM com.hazelcast.internal.cluster.impl.MembershipManager
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Removing Member [172.17.0.1]:5702 - 7978c746-d2b8-4da0-b87a-a16f331ed2ed
Feb 12, 2018 10:26:26 AM com.hazelcast.transaction.TransactionManagerService
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] Committing/rolling-back alive transactions of Member [172.17.0.1]:5702 - 7978c746-d2b8-4da0-b87a-a16f331ed2ed, UUID: 7978c746-d2b8-4da0-b87a-a16f331ed2ed
Feb 12, 2018 10:26:26 AM com.hazelcast.internal.cluster.ClusterService
INFO: [172.17.0.1]:5701 [dev] [3.10-SNAPSHOT] 

Members {size:1, ver:3} [
	Member [172.17.0.1]:5701 - aba2d8f2-0797-4e9f-9ed1-f0ac3fbe6ef5 this
]
```

Log from the joining OS:
```
Feb 12, 2018 10:26:19 AM com.hazelcast.system
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Hazelcast 3.10-SNAPSHOT (20180212 - 1951b52) starting at [172.17.0.1]:5702
Feb 12, 2018 10:26:19 AM com.hazelcast.system
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Copyright (c) 2008-2018, Hazelcast, Inc. All Rights Reserved.
Feb 12, 2018 10:26:19 AM com.hazelcast.system
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Configured Hazelcast Serialization version: 1
Feb 12, 2018 10:26:19 AM com.hazelcast.spi.impl.operationservice.impl.BackpressureRegulator
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Backpressure is disabled
Feb 12, 2018 10:26:19 AM com.hazelcast.instance.Node
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Creating MulticastJoiner
Feb 12, 2018 10:26:19 AM com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Starting 4 partition threads and 3 generic threads (1 dedicated for priority tasks)
Feb 12, 2018 10:26:19 AM com.hazelcast.internal.diagnostics.Diagnostics
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.
Feb 12, 2018 10:26:19 AM com.hazelcast.core.LifecycleService
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] [172.17.0.1]:5702 is STARTING
Feb 12, 2018 10:26:20 AM com.hazelcast.internal.cluster.impl.MulticastJoiner
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Trying to join to discovered node: [172.17.0.1]:5701
Feb 12, 2018 10:26:20 AM com.hazelcast.nio.tcp.TcpIpConnector
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Connecting to /172.17.0.1:5701, timeout: 0, bind-any: true
Feb 12, 2018 10:26:20 AM com.hazelcast.nio.tcp.TcpIpConnectionManager
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Established socket connection between /172.17.0.1:37851 and /172.17.0.1:5701
Feb 12, 2018 10:26:26 AM com.hazelcast.internal.cluster.impl.operations.FinalizeJoinOp
SEVERE: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Node could not join cluster.
com.hazelcast.nio.serialization.HazelcastSerializationException: No DataSerializerFactory registered for namespace: -28
	at com.hazelcast.internal.serialization.impl.DataSerializableSerializer.readInternal(DataSerializableSerializer.java:137)
	at com.hazelcast.internal.serialization.impl.DataSerializableSerializer.read(DataSerializableSerializer.java:105)
	at com.hazelcast.internal.serialization.impl.DataSerializableSerializer.read(DataSerializableSerializer.java:50)
	at com.hazelcast.internal.serialization.impl.StreamSerializerAdapter.read(StreamSerializerAdapter.java:48)
	at com.hazelcast.internal.serialization.impl.AbstractSerializationService.readObject(AbstractSerializationService.java:273)
	at com.hazelcast.internal.serialization.impl.ByteArrayObjectDataInput.readObject(ByteArrayObjectDataInput.java:574)
	at com.hazelcast.internal.cluster.impl.operations.OnJoinOp.readInternal(OnJoinOp.java:124)
	at com.hazelcast.spi.Operation.readData(Operation.java:662)
	at com.hazelcast.internal.cluster.impl.operations.FinalizeJoinOp.readInternalImpl(FinalizeJoinOp.java:179)
	at com.hazelcast.internal.cluster.impl.operations.MembersUpdateOp.readInternal(MembersUpdateOp.java:134)
	at com.hazelcast.spi.Operation.readData(Operation.java:662)
	at com.hazelcast.internal.serialization.impl.DataSerializableSerializer.readInternal(DataSerializableSerializer.java:158)
	at com.hazelcast.internal.serialization.impl.DataSerializableSerializer.read(DataSerializableSerializer.java:105)
	at com.hazelcast.internal.serialization.impl.DataSerializableSerializer.read(DataSerializableSerializer.java:50)
	at com.hazelcast.internal.serialization.impl.StreamSerializerAdapter.read(StreamSerializerAdapter.java:48)
	at com.hazelcast.internal.serialization.impl.AbstractSerializationService.toObject(AbstractSerializationService.java:191)
	at com.hazelcast.spi.impl.NodeEngineImpl.toObject(NodeEngineImpl.java:312)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:390)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:115)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:100)

Feb 12, 2018 10:26:26 AM com.hazelcast.instance.Node
WARNING: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Terminating forcefully...
Feb 12, 2018 10:26:26 AM com.hazelcast.instance.Node
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Shutting down multicast service...
Feb 12, 2018 10:26:26 AM com.hazelcast.instance.Node
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Shutting down connection manager...
Feb 12, 2018 10:26:26 AM com.hazelcast.nio.tcp.TcpIpConnection
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Connection[id=1, /172.17.0.1:37851->/172.17.0.1:5701, endpoint=[172.17.0.1]:5701, alive=false, type=MEMBER] closed. Reason: TcpIpConnectionManager is stopping
Feb 12, 2018 10:26:26 AM com.hazelcast.instance.Node
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Shutting down node engine...
Feb 12, 2018 10:26:26 AM com.hazelcast.instance.NodeExtension
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Destroying node NodeExtension.
Feb 12, 2018 10:26:26 AM com.hazelcast.instance.Node
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Hazelcast Shutdown is completed in 16 ms.
Feb 12, 2018 10:26:27 AM com.hazelcast.instance.Node
SEVERE: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Could not join cluster in 300000 ms. Shutting down now!
Feb 12, 2018 10:26:27 AM com.hazelcast.core.LifecycleService
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] [172.17.0.1]:5702 is SHUTTING_DOWN
Feb 12, 2018 10:26:27 AM com.hazelcast.instance.Node
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Node is already shutting down... Waiting for shutdown process to complete...
Feb 12, 2018 10:26:27 AM com.hazelcast.core.LifecycleService
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] [172.17.0.1]:5702 is SHUTDOWN
Feb 12, 2018 10:26:27 AM com.hazelcast.instance.Node
WARNING: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Config seed port is 5701 and cluster size is 1. Some of the ports seem occupied!
Feb 12, 2018 10:26:27 AM com.hazelcast.util.PhoneHome
WARNING: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Could not schedule phone home! Most probably Hazelcast is failed to start.
Feb 12, 2018 10:26:27 AM com.hazelcast.instance.Node
INFO: [172.17.0.1]:5702 [dev] [3.10-SNAPSHOT] Node is already shutting down... Waiting for shutdown process to complete...
Exception in thread "main" java.lang.IllegalStateException: Node failed to start!
	at com.hazelcast.instance.HazelcastInstanceImpl.<init>(HazelcastInstanceImpl.java:140)
	at com.hazelcast.instance.HazelcastInstanceFactory.constructHazelcastInstance(HazelcastInstanceFactory.java:195)
	at com.hazelcast.instance.HazelcastInstanceFactory.newHazelcastInstance(HazelcastInstanceFactory.java:174)
	at com.hazelcast.instance.HazelcastInstanceFactory.newHazelcastInstance(HazelcastInstanceFactory.java:124)
	at com.hazelcast.core.Hazelcast.newHazelcastInstance(Hazelcast.java:92)
	at cz.cacek.test.App.main(App.java:14)
```
