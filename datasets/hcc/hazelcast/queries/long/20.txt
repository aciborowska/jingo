Hi,
i'm trying to use Hazelcast in a OpenEJB stateful EJB.

Why does ManagedConnectionFactoryImpl::createConnectionFactory() returns
createConnectionFactory(null) (instead of throwing an exception) ?

The connection factory will always throws a null exception on getConnection() calls because connection manager is null.

is there another solution to set the connection manager ?

<p>Migrated from http://code.google.com/p/hazelcast/issues/detail?id=319</p><hr/><h2>earlier comments</h2>
<p><strong>rniamo2@netcourrier.com said, at 2010-07-23T11:14:33.000Z:</strong></p>

<p>when the connection is allocated, it is casted in ConnectionImpl, is it possible to cast it in Connection (the interface) ?

Using interface avoids to have class cast exception if the container uses a proxy.

If it is to verify that the connection is a ConnectionImpl, instanceof should be enough (i think).
</p><p><strong>oztalip said, at 2010-08-18T21:08:40.000Z:</strong></p>

<p>How can I reproduce the error? Can you post your code and explain me how I can reproduce it?</p><p><strong>rniamo2@netcourrier.com said, at 2010-08-19T07:02:31.000Z:</strong></p>

<p>here is the code http://openejb.979440.n4.nabble.com/file/n2300346/hazelcast-openejb.zip

in this project, i recompiled hazelcast ra removing the cast replacing it by a cast with the interface and printing a message.

i added a wrapper to create the connection factory too.

to reproduce the error use the hazelcast rar instead of mine.</p>
