Hi,
I'm using hazelcast 3.5 and sometimes I get NullPointerException when using MapStores. It happens when the some code access an IMap instance  which triggers DefaultRecordStore.isLoaded() and this method calls FutureUtil.allDone(loadingFutures) where somehow loadingFutures has one null entry. I observed that this null entry is added from loadAllFromStore method in line 100 this null value comes from recordStoreLoader instance that is actually a RecordStoreLoader.EMPTY_LOADER created at AbstractRecordStore.createRecordStoreLoader method. Now what I don't understand is why mapStoreContext.getMapStoreWrapper() at line 213 somethimes returns null, I really couldn't get the pattern.

protected RecordStoreLoader createRecordStoreLoader(MapStoreContext mapStoreContext) {
        return mapStoreContext.getMapStoreWrapper() == null
                ? RecordStoreLoader.EMPTY_LOADER : new BasicRecordStoreLoader(this);
    }
