The lock acquisition in `ConcurentReferenceHashMap.Segment.clear()` depends on the shared `counter`  field value.

The race condition can cause duplicate execution of the critical section. IMO it doesn't break functionality, but still it doesn't seem nice and it makes Coverity unhappy.

https://scan4.coverity.com/reports.htm#v32322/p13030/fileInstanceId=29224862&defectInstanceId=5757094&mergedDefectId=202141