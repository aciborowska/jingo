If `Hazelcast.getAllHazelcastInstances()` is called from a discovery service, the call does not return.

Reproducer for 4.0,
```
import java.util.Collections;
import java.util.Map;
import java.util.Set;

import com.hazelcast.config.Config;
import com.hazelcast.config.JoinConfig;
import com.hazelcast.core.Hazelcast;
import com.hazelcast.core.HazelcastInstance;
import com.hazelcast.spi.discovery.DiscoveryNode;
import com.hazelcast.spi.discovery.integration.DiscoveryService;
import com.hazelcast.spi.discovery.integration.DiscoveryServiceProvider;
import com.hazelcast.spi.discovery.integration.DiscoveryServiceSettings;

public class Application implements DiscoveryServiceProvider {

    public static void main(String[] args) throws Exception {
        Application application = new Application();
        application.run();
    }
    
    void run() throws Exception {
        Config config = new Config();
        
        config.setProperty("hazelcast.discovery.enabled", Boolean.TRUE.toString());
        JoinConfig joinConfig = config.getNetworkConfig().getJoin();
        joinConfig
                .getMulticastConfig()
                .setEnabled(false);
        joinConfig
                .getDiscoveryConfig()
                .setDiscoveryServiceProvider(this);

        Hazelcast.newHazelcastInstance(config);
    }

    @Override
    public DiscoveryService newDiscoveryService(DiscoveryServiceSettings settings) {
        return new InnerDiscoveryService();
    }

    private class InnerDiscoveryService implements DiscoveryService {

        @Override
        public void start() {
        }

        @Override
        public Iterable<DiscoveryNode> discoverNodes() {
            return Collections.emptyList();
        }

        @Override
        public void destroy() {
        }

        @Override
        public Map<String, String> discoverLocalMetadata() {
            System.out.println("discoverLocalMetadata() - BEFORE");
            Set<HazelcastInstance> instances = Hazelcast.getAllHazelcastInstances();
            System.out.println("discoverLocalMetadata() - AFTER, instances.size()==" + instances.size());
            return Collections.emptyMap();
        }
        
    }
}
```