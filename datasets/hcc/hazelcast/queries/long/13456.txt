Hi guys, we've ran into a serious issue. We've been trying to solve it ourselves for quite long time without a success so we decided to ask for a little help with the investigation and possibly with the solution as well.

Our problematic infrastructure is consisted of two nodes with the embedded Hazelcast (cluster of two). We're using the IMap collection that is loaded initially by a Map Loader. After the initial load is done the data are altered programmatically - put operations on the IMap and so on. To query the data stored in the IMap we're using the Predicates.

The issue occurs when we do a rolling update of the application - first instance is turned off, updated and after it is done the second instance takes place. After such a rolling update (without the downtime) we can see that apx. 40 % of the data are lost.

Actually the data are not lost completely - they are stored in the map itself. Unfortunately in case we query the map using the Predicate that uses the index not all the data are returned. We suppose that the index gets corrupted somehow, unfortunately we was not able to figure out why...

Here is the configuration of the map:

```
<hz:map name="marketplaceLoans" in-memory-format="OBJECT">
    <hz:map-store enabled="true" write-delay-seconds="0" implementation="marketplaceLoansMapLoader"/>
    <hz:indexes>
        <hz:index attribute="datePublished" ordered="true"/>
        <hz:index attribute="interestRate" ordered="true"/>
        <hz:index attribute="covered" ordered="false"/>
        <hz:index attribute="termInMonths" ordered="true"/>
        <hz:index attribute="purpose" ordered="true"/>
        <hz:index attribute="rating" ordered="true"/>
        <hz:index attribute="topped" ordered="false"/>
        <hz:index attribute="remainingInvestment" ordered="true"/>
        <hz:index attribute="repaymentPeriodCategory" ordered="true"/>
        <hz:index attribute="investments[any].investorId" ordered="true"/>
        <hz:index attribute="insuranceActive" ordered="false"/>
    </hz:indexes>
</hz:map>
```

And here an info about SW:
- Hazelcast 3.10.1
- Cluster Size - 2 nodes
- Java: Java(TM) SE Runtime Environment (build 1.8.0_161-b12)
- OS: Ubuntu 16.04.4 LTS (Xenial Xerus), kernel 4.4.0-116-generic
