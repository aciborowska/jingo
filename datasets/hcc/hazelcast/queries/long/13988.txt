
https://hazelcast-l337.ci.cloudbees.com/view/icmp/job/block-all/63/console

`clusterAAMerged HzMember1HZAA timeout=99 running bench`

the cluster failed to merge on the 2nd iteration of the test.
the cluster is loaded with 400 maps each containing 100 entries.


http://54.82.84.143/~jenkins/workspace/block-all/3.12-SNAPSHOT/2018_10_23-02_57_02/block-all


/disk1/jenkins/workspace/block-all/3.12-SNAPSHOT/2018_10_23-02_57_02/block-all

/output/HZ/HzMember1HZAA/out.txt
```
2018-10-23 00:18:12,659 DEBUG [hz._hzInstance_1_HZ.cached.thread-2]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] [10.0.0.176]:5701 will ping [10.0.0.170]:5701
2018-10-23 00:18:12,660 DEBUG [hz._hzInstance_1_HZ.cached.thread-2]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] [10.0.0.176]:5701 pinged [10.0.0.170]:5701 successfully
2018-10-23 00:18:12,672 DEBUG [hz._hzInstance_1_HZ.InvocationMonitorThread]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] Invocations:5 timeouts:0 backup-timeouts:0
2018-10-23 00:18:13,315 DEBUG [hz._hzInstance_1_HZ.cached.thread-9]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] Returning null timeout<0, -10
2018-10-23 00:18:13,315 DEBUG [hz._hzInstance_1_HZ.cached.thread-9]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] Sending SplitBrainJoinMessage to [10.0.0.170]:5703
2018-10-23 00:18:13,659 DEBUG [hz._hzInstance_1_HZ.cached.thread-2]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] [10.0.0.176]:5701 will ping [10.0.0.170]:5701
2018-10-23 00:18:13,660 DEBUG [hz._hzInstance_1_HZ.cached.thread-2]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] [10.0.0.176]:5701 pinged [10.0.0.170]:5701 successfully
2018-10-23 00:18:13,672 DEBUG [hz._hzInstance_1_HZ.InvocationMonitorThread]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] Invocations:5 timeouts:0 backup-timeouts:0
2018-10-23 00:18:14,659 DEBUG [hz._hzInstance_1_HZ.cached.thread-2]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] [10.0.0.176]:5701 will ping [10.0.0.170]:5701
2018-10-23 00:18:14,660 DEBUG [hz._hzInstance_1_HZ.cached.thread-2]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] [10.0.0.176]:5701 pinged [10.0.0.170]:5701 successfully
2018-10-23 00:18:14,672 DEBUG [hz._hzInstance_1_HZ.InvocationMonitorThread]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] Invocations:5 timeouts:0 backup-timeouts:0
2018-10-23 00:18:15,659 DEBUG [hz._hzInstance_1_HZ.cached.thread-2]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] [10.0.0.176]:5701 will ping [10.0.0.170]:5701
2018-10-23 00:18:15,660 DEBUG [hz._hzInstance_1_HZ.cached.thread-2]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] [10.0.0.176]:5701 pinged [10.0.0.170]:5701 successfully
2018-10-23 00:18:15,672 DEBUG [hz._hzInstance_1_HZ.InvocationMonitorThread]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] Invocations:5 timeouts:0 backup-timeouts:0
2018-10-23 00:18:16,659 DEBUG [hz._hzInstance_1_HZ.cached.thread-2]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] [10.0.0.176]:5701 will ping [10.0.0.170]:5701
2018-10-23 00:18:16,660 DEBUG [hz._hzInstance_1_HZ.cached.thread-2]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] [10.0.0.176]:5701 pinged [10.0.0.170]:5701 successfully
2018-10-23 00:18:16,672 DEBUG [hz._hzInstance_1_HZ.InvocationMonitorThread]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] Invocations:5 timeouts:0 backup-timeouts:0
2018-10-23 00:18:17,612 DEBUG [hz._hzInstance_1_HZ.priority-generic-operation.thread-0]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] Received heartbeat from Member [10.0.0.170]:5701 - 96
88471b-0671-4e33-ade0-4557b20be0c3 (now: 2018-10-23 00:18:17.611, timestamp: 2018-10-23 00:18:17.611)
2018-10-23 00:18:17,659 DEBUG [hz._hzInstance_1_HZ.cached.thread-2]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] [10.0.0.176]:5701 will ping [10.0.0.170]:5701
2018-10-23 00:18:17,660 DEBUG [hz._hzInstance_1_HZ.cached.thread-2]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] [10.0.0.176]:5701 pinged [10.0.0.170]:5701 successfully
2018-10-23 00:18:17,672 DEBUG [hz._hzInstance_1_HZ.InvocationMonitorThread]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] Invocations:5 timeouts:0 backup-timeouts:0
2018-10-23 00:18:18,394 DEBUG [hz._hzInstance_1_HZ.cached.thread-9]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] Returning null timeout<0, -10
2018-10-23 00:18:18,394 DEBUG [hz._hzInstance_1_HZ.cached.thread-9]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] Sending SplitBrainJoinMessage to [10.0.0.38]:5701
2018-10-23 00:18:18,395 DEBUG [hz._hzInstance_1_HZ.cached.thread-9]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] Checking if we should merge to: SplitBrainJoinMessage{packetVersion=4, bu
ildNumber=20181022, memberVersion=3.12.0, clusterVersion=3.12, address=[10.0.0.38]:5701, uuid='829dcb5f-56ec-46c7-bb00-8df7afe272d8', liteMember=false, memberCount=3, dataMemberCoun
t=3, memberListVersion=13}
2018-10-23 00:18:18,395 INFO  [hz._hzInstance_1_HZ.cached.thread-9]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] We should merge to [10.0.0.38]:5701 because their data member count is bi
gger than ours [3 > 2]
2018-10-23 00:18:18,395 WARN  [hz._hzInstance_1_HZ.cached.thread-9]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] [10.0.0.176]:5701 is merging [tcp/ip] to [10.0.0.38]:5701
2018-10-23 00:18:18,398 INFO  [hz._hzInstance_1_HZ.cached.thread-9]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] Locking cluster state. Initiator: [10.0.0.176]:5701, lease-time: 60000
2018-10-23 00:18:18,398 ERROR [hz._hzInstance_1_HZ.cached.thread-9]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] Still have pending migration tasks, cannot lock cluster state! New state:
 ClusterStateChange{type=class com.hazelcast.cluster.ClusterState, newState=FROZEN}, current state: ACTIVE
java.lang.IllegalStateException: Still have pending migration tasks, cannot lock cluster state! New state: ClusterStateChange{type=class com.hazelcast.cluster.ClusterState, newState
=FROZEN}, current state: ACTIVE
	at com.hazelcast.internal.cluster.impl.ClusterStateManager.checkMigrationsAndPartitionStateVersion(ClusterStateManager.java:283)
	at com.hazelcast.internal.cluster.impl.ClusterStateManager.lockClusterState(ClusterStateManager.java:215)
	at com.hazelcast.internal.cluster.impl.operations.LockClusterStateOp.run(LockClusterStateOp.java:83)
	at com.hazelcast.spi.Operation.call(Operation.java:170)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:208)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:197)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl.run(OperationExecutorImpl.java:407)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl.runOrExecute(OperationExecutorImpl.java:434)
	at com.hazelcast.spi.impl.operationservice.impl.Invocation.doInvokeLocal(Invocation.java:586)
	at com.hazelcast.spi.impl.operationservice.impl.Invocation.doInvoke(Invocation.java:571)
	at com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke0(Invocation.java:530)
	at com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke(Invocation.java:220)
	at com.hazelcast.spi.impl.operationservice.impl.OperationServiceImpl.invokeOnTarget(OperationServiceImpl.java:324)
	at com.hazelcast.internal.cluster.impl.ClusterStateManager.lockClusterStateOnAllMembers(ClusterStateManager.java:433)
	at com.hazelcast.internal.cluster.impl.ClusterStateManager.changeClusterState(ClusterStateManager.java:385)
	at com.hazelcast.internal.cluster.impl.ClusterStateManager.changeClusterState(ClusterStateManager.java:362)
	at com.hazelcast.internal.cluster.impl.ClusterServiceImpl.changeClusterState(ClusterServiceImpl.java:862)
	at com.hazelcast.internal.cluster.impl.ClusterServiceImpl.changeClusterState(ClusterServiceImpl.java:857)
	at com.hazelcast.internal.cluster.impl.AbstractJoiner.prepareClusterState(AbstractJoiner.java:335)
	at com.hazelcast.internal.cluster.impl.AbstractJoiner.startClusterMerge(AbstractJoiner.java:280)
	at com.hazelcast.cluster.impl.TcpIpJoiner.searchForOtherClusters(TcpIpJoiner.java:523)
	at com.hazelcast.internal.cluster.impl.SplitBrainHandler.searchForOtherClusters(SplitBrainHandler.java:75)
	at com.hazelcast.internal.cluster.impl.SplitBrainHandler.run(SplitBrainHandler.java:42)
	at com.hazelcast.spi.impl.executionservice.impl.DelegateAndSkipOnConcurrentExecutionDecorator$DelegateDecorator.run(DelegateAndSkipOnConcurrentExecutionDecorator.java:66)
	at com.hazelcast.util.executor.CachedExecutorServiceDelegate$Worker.run(CachedExecutorServiceDelegate.java:227)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1152)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:622)
	at java.lang.Thread.run(Thread.java:748)
	at com.hazelcast.util.executor.HazelcastManagedThread.executeRun(HazelcastManagedThread.java:64)
	at com.hazelcast.util.executor.HazelcastManagedThread.run(HazelcastManagedThread.java:80)
2018-10-23 00:18:18,399 DEBUG [hz._hzInstance_1_HZ.cached.thread-9]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] failure during cluster state change
java.lang.IllegalStateException: Still have pending migration tasks, cannot lock cluster state! New state: ClusterStateChange{type=class com.hazelcast.cluster.ClusterState, newState
=FROZEN}, current state: ACTIVE
	at com.hazelcast.internal.cluster.impl.ClusterStateManager.checkMigrationsAndPartitionStateVersion(ClusterStateManager.java:283)
	at com.hazelcast.internal.cluster.impl.ClusterStateManager.lockClusterState(ClusterStateManager.java:215)
	at com.hazelcast.internal.cluster.impl.operations.LockClusterStateOp.run(LockClusterStateOp.java:83)
	at com.hazelcast.spi.Operation.call(Operation.java:170)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:208)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:197)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl.run(OperationExecutorImpl.java:407)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl.runOrExecute(OperationExecutorImpl.java:434)
	at com.hazelcast.spi.impl.operationservice.impl.Invocation.doInvokeLocal(Invocation.java:586)
	at com.hazelcast.spi.impl.operationservice.impl.Invocation.doInvoke(Invocation.java:571)
	at com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke0(Invocation.java:530)
	at com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke(Invocation.java:220)
	at com.hazelcast.spi.impl.operationservice.impl.OperationServiceImpl.invokeOnTarget(OperationServiceImpl.java:324)
	at com.hazelcast.internal.cluster.impl.ClusterStateManager.lockClusterStateOnAllMembers(ClusterStateManager.java:433)
	at com.hazelcast.internal.cluster.impl.ClusterStateManager.changeClusterState(ClusterStateManager.java:385)
	at com.hazelcast.internal.cluster.impl.ClusterStateManager.changeClusterState(ClusterStateManager.java:362)
	at com.hazelcast.internal.cluster.impl.ClusterServiceImpl.changeClusterState(ClusterServiceImpl.java:862)
	at com.hazelcast.internal.cluster.impl.ClusterServiceImpl.changeClusterState(ClusterServiceImpl.java:857)
	at com.hazelcast.internal.cluster.impl.AbstractJoiner.prepareClusterState(AbstractJoiner.java:335)
	at com.hazelcast.internal.cluster.impl.AbstractJoiner.startClusterMerge(AbstractJoiner.java:280)
	at com.hazelcast.cluster.impl.TcpIpJoiner.searchForOtherClusters(TcpIpJoiner.java:523)
	at com.hazelcast.internal.cluster.impl.SplitBrainHandler.searchForOtherClusters(SplitBrainHandler.java:75)
	at com.hazelcast.internal.cluster.impl.SplitBrainHandler.run(SplitBrainHandler.java:42)
	at com.hazelcast.spi.impl.executionservice.impl.DelegateAndSkipOnConcurrentExecutionDecorator$DelegateDecorator.run(DelegateAndSkipOnConcurrentExecutionDecorator.java:66)
	at com.hazelcast.util.executor.CachedExecutorServiceDelegate$Worker.run(CachedExecutorServiceDelegate.java:227)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1152)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:622)
	at java.lang.Thread.run(Thread.java:748)
	at com.hazelcast.util.executor.HazelcastManagedThread.executeRun(HazelcastManagedThread.java:64)
	at com.hazelcast.util.executor.HazelcastManagedThread.run(HazelcastManagedThread.java:80)
	at ------ submitted from ------.(Unknown Source)
	at com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.resolve(InvocationFuture.java:127)
	at com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.resolveAndThrowIfException(InvocationFuture.java:79)
	at com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:178)
	at com.hazelcast.util.FutureUtil.executeWithDeadline(FutureUtil.java:379)
	at com.hazelcast.util.FutureUtil.waitWithDeadline(FutureUtil.java:363)
	at com.hazelcast.util.FutureUtil.waitWithDeadline(FutureUtil.java:337)
	at com.hazelcast.internal.cluster.impl.ClusterStateManager.lockClusterStateOnAllMembers(ClusterStateManager.java:438)
	at com.hazelcast.internal.cluster.impl.ClusterStateManager.changeClusterState(ClusterStateManager.java:385)
	at com.hazelcast.internal.cluster.impl.ClusterStateManager.changeClusterState(ClusterStateManager.java:362)
	at com.hazelcast.internal.cluster.impl.ClusterServiceImpl.changeClusterState(ClusterServiceImpl.java:862)
	at com.hazelcast.internal.cluster.impl.ClusterServiceImpl.changeClusterState(ClusterServiceImpl.java:857)
	at com.hazelcast.internal.cluster.impl.AbstractJoiner.prepareClusterState(AbstractJoiner.java:335)
	at com.hazelcast.internal.cluster.impl.AbstractJoiner.startClusterMerge(AbstractJoiner.java:280)
	at com.hazelcast.cluster.impl.TcpIpJoiner.searchForOtherClusters(TcpIpJoiner.java:523)
	at com.hazelcast.internal.cluster.impl.SplitBrainHandler.searchForOtherClusters(SplitBrainHandler.java:75)
	at com.hazelcast.internal.cluster.impl.SplitBrainHandler.run(SplitBrainHandler.java:42)
	at com.hazelcast.spi.impl.executionservice.impl.DelegateAndSkipOnConcurrentExecutionDecorator$DelegateDecorator.run(DelegateAndSkipOnConcurrentExecutionDecorator.java:66)
	at com.hazelcast.util.executor.CachedExecutorServiceDelegate$Worker.run(CachedExecutorServiceDelegate.java:227)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1152)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:622)
	at java.lang.Thread.run(Thread.java:748)
	at com.hazelcast.util.executor.HazelcastManagedThread.executeRun(HazelcastManagedThread.java:64)
	at com.hazelcast.util.executor.HazelcastManagedThread.run(HazelcastManagedThread.java:80)
2018-10-23 00:18:18,402 DEBUG [hz._hzInstance_1_HZ.cached.thread-9]: [10.0.0.176]:5701 [HZ] [3.12-SNAPSHOT] failure during cluster state change
java.lang.IllegalStateException: Still have pending migration tasks, cannot lock cluster state! New state: ClusterStateChange{type=class com.hazelcast.cluster.ClusterState, newState
=FROZEN}, current state: ACTIVE
```