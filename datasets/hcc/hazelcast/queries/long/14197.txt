The OS can prevent a process getting a larger socket buffer than being requested and this is done silently. So you might configure e.g. 32MB for a wan connection, but you will only be granted e.g. 256KB.

When this happens, we should detect and hint for a solution. e.g. change 'net.core.rmem_max' in sysctl.

Detecting is easy; just make the change and check if the desired value is actually set by reading the new value and making sure it is the desired value.