After upgrading from 3.1.1 to 3.1.2 I see these exceptions in my log files:

15:41:24,903 ERROR hz._hzInstance_1_lp-page-server-2-integration.cached.thread-5 [com.hazelcast.map.operation.InvalidateNearCacheOperation] [192.168.1.142]:5701 [lp-page-server-2-integration] null
java.lang.NullPointerException
    at java.util.concurrent.ConcurrentHashMap.hash(ConcurrentHashMap.java:333)
    at java.util.concurrent.ConcurrentHashMap.get(ConcurrentHashMap.java:988)
    at com.hazelcast.spi.impl.ServiceManager.getServiceInfo(ServiceManager.java:199)
    at com.hazelcast.spi.impl.NodeEngineImpl.getService(NodeEngineImpl.java:251)
    at com.hazelcast.spi.Operation.getService(Operation.java:136)
    at com.hazelcast.map.operation.InvalidateNearCacheOperation.run(InvalidateNearCacheOperation.java:44)
    at com.hazelcast.spi.impl.OperationServiceImpl.doRunOperation(OperationServiceImpl.java:274)
    at com.hazelcast.spi.impl.OperationServiceImpl.access$800(OperationServiceImpl.java:52)
    at com.hazelcast.spi.impl.OperationServiceImpl$RemoteOperationProcessor.run(OperationServiceImpl.java:744)
    at com.hazelcast.util.executor.ManagedExecutorService$Worker.run(ManagedExecutorService.java:166)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    at java.lang.Thread.run(Thread.java:744)
    at com.hazelcast.util.executor.PoolExecutorThreadFactory$ManagedThread.run(PoolExecutorThreadFactory.java:59)

This happens with a two-node cluster, with near cache configured, and a data in a map.

I'm configuring via code not XML: is there something new needed in 3.1.2 when you configure by code to prevent this kind of issue?
