With Hazelcast 2.1.2, Amazon EC2 nodes configured with EC2 auto-discovery that get isolated due to a network outage do not rejoin the cluster when the network outage is fixed.  

Here is the procedure I used on AMIs running Ubuntu 10.04.3.
1. Configure three or more nodes to use EC2 auto-discovery  

```
    <join>

        <tcp-ip enabled="false">
        ...
        <aws enabled="true">
        ...
```
1. Start the nodes, wait for all join the cluster.
2. Simulate a network outage on one node.  I use the following firewall commands entered in an ssh console:

```
    iptables -I INPUT -p tcp ! --dport 22 -j DROP
    iptables -I OUTPUT -p tcp ! --sport 22 -j DROP
    iptables -I INPUT -p icmp -j DROP
    iptables -I OUTPUT -p icmp -j DROP
```
1. Wait several minutes after all nodes show the isolated node has left the cluster.
2. Restore the network.  I use the following firewall commands entered in an ssh console:

```
    iptables -D INPUT -p tcp ! --dport 22 -j DROP
    iptables -D OUTPUT -p tcp ! --sport 22 -j DROP
    iptables -D INPUT -p icmp -j DROP
    iptables -D OUTPUT -p icmp -j DROP
```
1. Notice the isolated node never rejoins the cluster.
2. Stop the nodes and reconfigure to use TCP-IP discovery 

```
    <join>
        <tcp-ip enabled="true">...
        <aws enabled="false">...
```
1. Repeat steps 2 - 6, but notice the isolated node DOES successfully rejoin the cluster.

I expect clusters using EC2 auto-discovery to heal following a network outage as they do when using TCP-IP.
