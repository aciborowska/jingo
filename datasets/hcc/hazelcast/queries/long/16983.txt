I have two applications one Hazelcast embed and another application is Kafka consumer which consumes the messages from topic and put the data in embed cache. It was working without Spring hazel cast dependency.

1) Working code maven dependencies.
a) Embed Hazelcast Application
```xml
       <dependency>
			<groupId>com.hazelcast</groupId>
			<artifactId>hazelcast</artifactId>
			<version>3.6.3</version>
		</dependency>
		<dependency>
			<groupId>com.hazelcast</groupId>
			<artifactId>hazelcast-client</artifactId>
			<version>3.6.3</version>
		</dependency>
```

b) Kafka application which consumes the messages from topic and read the data from HazelCast cache.

Working dependencies for Kafka application.
```xml
        <dependency>
			<groupId>org.apache.kafka</groupId>
			<artifactId>kafka-clients</artifactId>
			<version>0.10.0.0</version>
		</dependency>
		<dependency>
			<groupId>mysql</groupId>
			<artifactId>mysql-connector-java</artifactId>
		</dependency>
		<dependency>
			<groupId>com.hazelcast</groupId>
			<artifactId>hazelcast</artifactId>
		</dependency>
		<dependency>
			<groupId>com.hazelcast</groupId>
			<artifactId>hazelcast-client</artifactId>
		</dependency>
		<dependency>
			<groupId>org.hsqldb</groupId>
			<artifactId>hsqldb</artifactId>
			<scope>test</scope>
		</dependency>
```

------------------------------

2) Changed the code with latest version of hazelcast spring
a) hazelcast embed application
```xml
       <dependency>
			<groupId>com.hazelcast</groupId>
			<artifactId>hazelcast-spring</artifactId>
		</dependency>
		<dependency>
			<groupId>com.hazelcast</groupId>
			<artifactId>hazelcast-kubernetes</artifactId>
			<version>1.3.1</version>
		</dependency>
```

b) kafka application which consume the messages from topic and reads the data from cache
```xml
        <dependency>
            <groupId>com.hazelcast</groupId>
            <artifactId>hazelcast-spring</artifactId>
        </dependency>
        <dependency>
            <groupId>com.hazelcast</groupId>
            <artifactId>hazelcast-kubernetes</artifactId>
            <version>1.3.1</version>
        </dependency>
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-core</artifactId>
        </dependency>
```
c) HazelCast configuration java code.
```java
         import com.hazelcast.config.*;
         import com.hazelcast.core.Hazelcast;
         import com.hazelcast.core.HazelcastInstance;
         import org.springframework.context.annotation.Bean;
         import org.springframework.context.annotation.Configuration;

          @Configuration
          public class HazelcastConfiguration {
          @Bean
          public Config hazelCastConfig() {
          Config config = new Config();
          config.setInstanceName("default")
                .addMapConfig(
                        new MapConfig()
                                .setName("node-by-external-id")
                                .setInMemoryFormat(InMemoryFormat.BINARY)
                                .setBackupCount(1)
                                .setReadBackupData(false)
                                .setAsyncBackupCount(0)
                                .setMaxSizeConfig(new MaxSizeConfig(200, MaxSizeConfig.MaxSizePolicy.PER_NODE))
                                .setEvictionPolicy(EvictionPolicy.NONE)
                                .setTimeToLiveSeconds(0)
                                .setMaxIdleSeconds(0))

                .addMapConfig(
                        new MapConfig()
                                .setName("node")
                                .setInMemoryFormat(InMemoryFormat.OBJECT)
                                .setBackupCount(1)
                                .setReadBackupData(false)
                                .setAsyncBackupCount(0)
                                .setMaxSizeConfig(new MaxSizeConfig(200, MaxSizeConfig.MaxSizePolicy.PER_NODE))
                                .setEvictionPolicy(EvictionPolicy.NONE)
                                .setTimeToLiveSeconds(0)
                                .setMaxIdleSeconds(0));
        return config;
    }

          @Bean
          public HazelcastInstance hazelcastInstance(final Config config) {
          return Hazelcast.getOrCreateHazelcastInstance(config);
         }
       }
```

d) hazelcast.xml
```xml
          <?xml version="1.0" encoding="UTF-8"?>
          <hazelcast xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		   xsi:schemaLocation="http://www.hazelcast.com/schema/config
                               http://www.hazelcast.com/schema/config/hazelcast-config-3.12.xsd"
		   xmlns="http://www.hazelcast.com/schema/config">

	<group>
		<name>hibernate</name>
		<password>password</password>
	</group>
	<network>
		<port auto-increment="true" port-count="100">5701</port>
		<outbound-ports>
			<ports>0</ports>
		</outbound-ports>
		<join>
			<kubernetes enabled="false"></kubernetes>
			<tcp-ip enabled="true">
				<required-member></required-member>
				<member>10.0.0.22</member>
				<member>10.0.0.23</member>
			</tcp-ip>
		</join>
		<interfaces enabled="true">
			<interface>10.0.0.22</interface>
		</interfaces>
	</network>
     </hazelcast>
```

**Now the issue is Kafka application is not able to get the cache data from cache service. Also please check [the flow image uploaded][1].**


  [1]: https://i.stack.imgur.com/pQS8l.jpg