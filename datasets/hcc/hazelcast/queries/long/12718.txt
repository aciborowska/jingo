It is very rare for this job to fail,

Client reported data loss from cluster, when a member node was shutdown using, hzInstance.shutdown();

This issue is very rare, could it but due to environment issues ? however i see no evidence for this in the logs,  the cluster took the expected form during the test,  


jenkins job.
https://hazelcast-l337.ci.cloudbees.com/view/shutdown/job/shutdown-data-loss/

Rare failed job run.
https://hazelcast-l337.ci.cloudbees.com/view/shutdown/job/shutdown-data-loss/331/console

location on disk.
/disk1/jenkins/workspace/shutdown-data-loss/3.10-SNAPSHOT/2018_03_26-03_00_01/data-loss

web link to data.
http://54.82.84.143/~jenkins/workspace/shutdown-data-loss/3.10-SNAPSHOT/2018_03_26-03_00_01/data-loss

fail
`fail HzClient3HZ get_mapBak0 hzcmd.map.GetNotNull threadId=2 global.AssertionException: DATA LOSS! for map mapBak0 key 852`


but all Clients reported the same exception 
http://54.82.84.143/~jenkins/workspace/shutdown-data-loss/3.10-SNAPSHOT/2018_03_26-03_00_01/data-loss/output/HZ/HzClient1HZ/exception.txt
http://54.82.84.143/~jenkins/workspace/shutdown-data-loss/3.10-SNAPSHOT/2018_03_26-03_00_01/data-loss/output/HZ/HzClient2HZ/exception.txt
http://54.82.84.143/~jenkins/workspace/shutdown-data-loss/3.10-SNAPSHOT/2018_03_26-03_00_01/data-loss/output/HZ/HzClient3HZ/exception.txt
http://54.82.84.143/~jenkins/workspace/shutdown-data-loss/3.10-SNAPSHOT/2018_03_26-03_00_01/data-loss/output/HZ/HzClient4HZ/exception.txt


GC charts  (looks normal)
http://54.82.84.143/~jenkins/workspace/shutdown-data-loss/3.10-SNAPSHOT/2018_03_26-03_00_01/data-loss/gc.html


Client1 log snipit
```
Mar 26, 2018 12:02:27 AM com.hazelcast.client.spi.impl.ClientMembershipListener
INFO: hz.client_0 [HZ] [3.10-SNAPSHOT] 

Members [3] {
	Member [10.0.0.90]:5701 - b34b2f35-40e8-46cc-bda9-b5b30d5ac5f3
	Member [10.0.0.177]:5701 - dcbb649d-3426-41fe-92a9-a3d64a8baa17
	Member [10.0.0.233]:5701 - 8cb519f0-cff3-4c13-8d7d-33b0a9147edc
}

Mar 26, 2018 12:02:27 AM com.hazelcast.client.connection.nio.ClientConnection
WARNING: hz.client_0 [HZ] [3.10-SNAPSHOT] ClientConnection{alive=false, connectionId=4, channel=NioChannel{/10.0.0.177:32928->/10.0.0.234:5701}, remoteEndpoint=[10.0.0.234]:5701, lastReadTime=2018-03-26 00:02:27.035, lastWriteTime=2018-03-26 00:02:27.035, closedTime=2018-03-26 00:02:27.039, lastHeartbeatRequested=2018-03-26 00:01:54.704, lastHeartbeatReceived=2018-03-26 00:01:54.704, connected server version=3.10-SNAPSHOT} closed. Reason: com.hazelcast.spi.exception.TargetDisconnectedException[The client has closed the connection to this member, after receiving a member left event from the cluster. ClientConnection{alive=true, connectionId=4, channel=NioChannel{/10.0.0.177:32928->/10.0.0.234:5701}, remoteEndpoint=[10.0.0.234]:5701, lastReadTime=2018-03-26 00:02:27.035, lastWriteTime=2018-03-26 00:02:27.035, closedTime=never, lastHeartbeatRequested=2018-03-26 00:01:54.704, lastHeartbeatReceived=2018-03-26 00:01:54.704, connected server version=3.10-SNAPSHOT}]
com.hazelcast.spi.exception.TargetDisconnectedException: The client has closed the connection to this member, after receiving a member left event from the cluster. ClientConnection{alive=true, connectionId=4, channel=NioChannel{/10.0.0.177:32928->/10.0.0.234:5701}, remoteEndpoint=[10.0.0.234]:5701, lastReadTime=2018-03-26 00:02:27.035, lastWriteTime=2018-03-26 00:02:27.035, closedTime=never, lastHeartbeatRequested=2018-03-26 00:01:54.704, lastHeartbeatReceived=2018-03-26 00:01:54.704, connected server version=3.10-SNAPSHOT}
	at com.hazelcast.client.spi.impl.ClientMembershipListener.newTargetDisconnectedExceptionCausedByMemberLeftEvent(ClientMembershipListener.java:203)
	at com.hazelcast.client.spi.impl.ClientMembershipListener.memberRemoved(ClientMembershipListener.java:159)
	at com.hazelcast.client.spi.impl.ClientMembershipListener.handle(ClientMembershipListener.java:77)
	at com.hazelcast.client.impl.protocol.codec.ClientAddMembershipListenerCodec$AbstractEventHandler.handle(ClientAddMembershipListenerCodec.java:182)
	at com.hazelcast.client.spi.impl.ClientMembershipListener.handle(ClientMembershipListener.java:48)
	at com.hazelcast.client.spi.impl.listener.AbstractClientListenerService$ClientEventProcessor.run(AbstractClientListenerService.java:129)
	at com.hazelcast.util.executor.StripedExecutor$Worker.process(StripedExecutor.java:226)
	at com.hazelcast.util.executor.StripedExecutor$Worker.run(StripedExecutor.java:209)

Mar 26, 2018 12:02:27 AM com.hazelcast.client.connection.ClientConnectionManager
INFO: hz.client_0 [HZ] [3.10-SNAPSHOT] Removed connection to endpoint: [10.0.0.234]:5701, connection: ClientConnection{alive=false, connectionId=4, channel=NioChannel{/10.0.0.177:32928->/10.0.0.234:5701}, remoteEndpoint=[10.0.0.234]:5701, lastReadTime=2018-03-26 00:02:27.040, lastWriteTime=2018-03-26 00:02:27.043, closedTime=2018-03-26 00:02:27.039, lastHeartbeatRequested=2018-03-26 00:01:54.704, lastHeartbeatReceived=2018-03-26 00:01:54.704, connected server version=3.10-SNAPSHOT}
Mar 26, 2018 12:02:27 AM com.hazelcast.client.connection.ClientConnectionManager
INFO: hz.client_0 [HZ] [3.10-SNAPSHOT] Authenticated with server [10.0.0.234]:5701, server version:3.10-SNAPSHOT Local address: /10.0.0.177:46528

global.AssertionException: DATA LOSS! for cache cacheBak0HD key 690
```


All Member logs look similar and of similar size.
http://54.82.84.143/~jenkins/workspace/shutdown-data-loss/3.10-SNAPSHOT/2018_03_26-03_00_01/data-loss/output/HZ/HzMember1HZ/out.txt
http://54.82.84.143/~jenkins/workspace/shutdown-data-loss/3.10-SNAPSHOT/2018_03_26-03_00_01/data-loss/output/HZ/HzMember2HZ/out.txt
http://54.82.84.143/~jenkins/workspace/shutdown-data-loss/3.10-SNAPSHOT/2018_03_26-03_00_01/data-loss/output/HZ/HzMember3HZ/out.txt
http://54.82.84.143/~jenkins/workspace/shutdown-data-loss/3.10-SNAPSHOT/2018_03_26-03_00_01/data-loss/output/HZ/HzMember4HZ/out.txt


