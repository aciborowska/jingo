from a 3.6.8  client, connecting to a 3.9-SNAPSHOT cluster

```
javax.cache.CacheException: Error opening URI [hazelcast]
    at com.hazelcast.cache.impl.AbstractHazelcastCachingProvider.getCacheManager(AbstractHazelcastCachingProvider.java:97)
Caused by: java.lang.NullPointerException
    at com.hazelcast.cache.EnterpriseCacheService.isWanReplicationEnabled(EnterpriseCacheService.java:649)
    at com.hazelcast.cache.EnterpriseCacheService.createOperationProvider(EnterpriseCacheService.java:470)
    at com.hazelcast.cache.EnterpriseCacheService.getCacheOperationProvider(EnterpriseCacheService.java:484)
    at com.hazelcast.cache.impl.AbstractCacheProxyBase.<init>(AbstractCacheProxyBase.java:89)
    at com.hazelcast.cache.impl.AbstractInternalCacheProxy.<init>(AbstractInternalCacheProxy.java:89)
    at com.hazelcast.cache.impl.AbstractCacheProxy.<init>(AbstractCacheProxy.java:63)
    at com.hazelcast.cache.impl.CacheProxy.<init>(CacheProxy.java:86)
    at com.hazelcast.cache.impl.AbstractCacheService.createDistributedObject(AbstractCacheService.java:187)
    at com.hazelcast.spi.impl.proxyservice.impl.ProxyRegistry.doCreateProxy(ProxyRegistry.java:191)
    at com.hazelcast.spi.impl.proxyservice.impl.ProxyRegistry.createProxy(ProxyRegistry.java:184)
    at com.hazelcast.spi.impl.proxyservice.impl.ProxyServiceImpl.initializeDistributedObject(ProxyServiceImpl.java:133)
    at com.hazelcast.spi.impl.proxyservice.impl.operations.InitializeDistributedObjectOperation.run(InitializeDistributedObjectOperation.java:44)
    at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:194)
    at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:409)
    at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:115)
    at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:100)
    at ------ submitted from ------.(Unknown Source)
    at com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.resolve(InvocationFuture.java:127)
    at com.hazelcast.spi.impl.AbstractInvocationFuture$1.run(AbstractInvocationFuture.java:243)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    at java.lang.Thread.run(Thread.java:745)
    at com.hazelcast.util.executor.HazelcastManagedThread.executeRun(HazelcastManagedThread.java:64)
    at com.hazelcast.util.executor.HazelcastManagedThread.run(HazelcastManagedThread.java:80)
    at ------ End remote and begin local stack-trace ------.(Unknown Source)
    at com.hazelcast.client.spi.impl.ClientInvocationFuture.resolveResponse(ClientInvocationFuture.java:128)
    at com.hazelcast.client.spi.impl.ClientInvocationFuture.get(ClientInvocationFuture.java:95)
    at com.hazelcast.client.spi.impl.ClientInvocationFuture.get(ClientInvocationFuture.java:74)
    at com.hazelcast.client.spi.ProxyManager.initialize(ProxyManager.java:301)
    at com.hazelcast.client.spi.ProxyManager.initializeWithRetry(ProxyManager.java:257)
    at com.hazelcast.client.spi.ProxyManager.getOrCreateProxy(ProxyManager.java:238)
    at com.hazelcast.client.impl.HazelcastClientInstanceImpl.getDistributedObject(HazelcastClientInstanceImpl.java:511)
    at com.hazelcast.client.impl.HazelcastClientProxy.getDistributedObject(HazelcastClientProxy.java:241)
    at com.hazelcast.client.cache.impl.HazelcastClientCacheManager.<init>(HazelcastClientCacheManager.java:68)
    at com.hazelcast.client.cache.impl.HazelcastClientCachingProvider.createHazelcastCacheManager(HazelcastClientCachingProvider.java:67)
    at com.hazelcast.client.cache.impl.HazelcastClientCachingProvider.createHazelcastCacheManager(HazelcastClientCachingProvider.java:38)
    at com.hazelcast.cache.impl.AbstractHazelcastCachingProvider.getCacheManager(AbstractHazelcastCachingProvider.java:94)
    ... 8 more
```

NPE here: https://github.com/vbekiaris/hazelcast-enterprise/blob/e6b7b1463162e50cdc873a96104d80a7484b59b7/hazelcast-enterprise/src/main/java/com/hazelcast/cache/EnterpriseCacheService.java#L649


@danny so 3.6 client creates this “special” `Cache` named `setupRef`, however there is no `CacheConfig` for `setupRef` --> new code (`EnterpriseCacheService:649`) gets a `null` `CacheConfig` --> NPE /cc @matko_medenjak


there is no nice way to fix this :disappointed: and unfortunately we can’t get rid of this special cache name until 4.0

yes, was added here: https://github.com/vbekiaris/hazelcast-enterprise/commit/277e9b05e5da20c3f6d58c2b2e268f76673a6f79#diff-a6261feddc498b386a52f5f9aad3859bR655


I guess the fix is to check for a `null` `CacheConfig` from `getCacheConfig` and have `isWanReplicationEnabled` return `false` in that case