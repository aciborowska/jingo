This is a bug in the method
`public static ObjectInputStream newObjectInputStream(final ClassLoader classLoader, final InputStream in) throws IOException`
of the class [com.hazelcast.nio.IOUtil](https://github.com/hazelcast/hazelcast/blob/master/hazelcast/src/main/java/com/hazelcast/nio/IOUtil.java).
The current implementation is:

```
    public static ObjectInputStream newObjectInputStream(final ClassLoader classLoader, final InputStream in) throws IOException {
        return new ObjectInputStream(in) {
            protected Class<?> resolveClass(final ObjectStreamClass desc) throws ClassNotFoundException {
                return ClassLoaderUtil.loadClass(classLoader, desc.getName());
            }
        };
    }

```

The method
`protected Class<?> resolveProxyClass(String[] interfaces) throws IOException, ClassNotFoundException`
of the ObjectInputStream must be overridden as well.
This bug affects all versions of hazelcast.
