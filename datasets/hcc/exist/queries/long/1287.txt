`EmbeddedUpload` takes a READ_LOCK, but it should take a WRITE_LOCK; Also it releases the lock too early.

See https://github.com/eXist-db/exist/blob/develop/src/org/exist/protocolhandler/embedded/EmbeddedUpload.java#L147