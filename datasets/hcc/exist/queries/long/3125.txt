The attached 47-line query successfully produces PDF output in 5.0.0 but throws an NPE in 5.1.0.  The error is just this:

Oracle JDK 8:

`An exception occurred during query execution: exerr:ERROR exerr:ERROR Error. [at line 46, column 13] [at line 46, column 13]`

OpenJDK 11:

`An exception occurred during query execution: exerr:ERROR exerr:ERROR java.lang.NullPointerException [at line 46, column 13] [at line 46, column 13]
`

and the stack trace from OpenJDK 11 is the following:

```
org.xmldb.api.base.XMLDBException: exerr:ERROR java.lang.NullPointerException [at line 46, column 13]
	at org.exist.xmldb.RemoteXPathQueryService.throwException(RemoteXPathQueryService.java:175)
	at org.exist.xmldb.RemoteXPathQueryService.query(RemoteXPathQueryService.java:112)
	at org.exist.xmldb.RemoteXPathQueryService.query(RemoteXPathQueryService.java:81)
	at org.exist.xmldb.RemoteXPathQueryService.execute(RemoteXPathQueryService.java:349)
	at org.exist.client.QueryDialog$QueryRunnable.run(QueryDialog.java:577)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.exist.xquery.XPathException: exerr:ERROR exerr:ERROR java.lang.NullPointerException [at line 46, column 13] [at line 46, column 13]
	at org.exist.xmldb.RemoteXPathQueryService.throwException(RemoteXPathQueryService.java:174)
	... 5 more
```

There is nothing in exist.log.

### Context information

[eXist Version : 5.1.0] 
[eXist Build : 20191117145049] 
[Git commit : 1533551563661d2c2061d3ed1304cb257f216327] 
[Operating System : Mac OS X 10.14.6 x86_64] 

The problem happens with both Oracle JRE 1.8.0_231 and OpenJDK 11.0.4+11, though only the latter indicates the problem is an NPE.

- Any custom changes: no

[broken_xslfo.xql.zip](https://github.com/eXist-db/exist/files/3881625/broken_xslfo.xql.zip)
