### What is the problem

We  get unexpected results from xqueries, e.g. documents or fragments thereof are not returned in xquery results when they should be.

### What did you expect
We expect the existing documents fragment's to be returned by the xquery

### Describe how to reproduce or add a test
I am not sure how to recreate the issue. The 'fix' is to reindex the collection.

After upgrading from 2.2 eXist to 3.6 on December 3rd, 2017 I've found that documents are becoming 'un-indexed'. That is, queries work correctly for a while, but eventually they do not return expected results until I re-index the collection that contains the documents.

This is possibly related to #1648 or #1691 

If there is a corruption issue when indexes are updated during regular document updates, then as documents are updated they may randomly be removed from the index, or subsequent queries may return the wrong results.

So far we've found that re-indexing the collection fixes the issue, for about 24 hours at most depending on update/insert volume.

Under 2.1 and older releases we had similar symptoms - queries failed to return expected results, but re-indexing "fixed" the issue.  In the past we had setup a cronjob to re-index our most active collections. I think this was fixed in 2.2, but I cannot do that this time because these collections are large and re-indexing takes too long.

The most recent re-index was needed for a collection that contained approximately 930 documents.

the exist.log file doesn't show any exceptions during re-indexing, nor when querying a collection that is not working correctly.

### Context information
We're using the docker image evolvedbinary/exist-db   tag eXist-3.6.1
(strangely monex doesn't display version information..)

the related collection.xconf is shown below

```
<collection xmlns="http://exist-db.org/collection-config/1.0">
    <index>
        <fulltext default="none" attributes="false" alphanum="false"/>
        <range>
            <create qname="invoicenumber" type="xs:string"/>
            <create qname="due_date" type="xs:string"/>
            <create qname="carrierid" type="xs:string"/>
            <create qname="superseded" type="xs:string"/>
            <create qname="supersedes" type="xs:string"/>
            <create qname="vendorid" type="xs:float"/>
            <create qname="state" type="xs:string"/>
            <create qname="trackingnumber" type="xs:string"/>
            <create qname="flags" type="xs:string"/>
            <create qname="hash" type="xs:string"/>
            <create qname="key" type="xs:string"/>
            <create qname="normalized_serviceid" type="xs:string"/>
            <create qname="shipmentid" type="xs:string"/>
        </range>
    </index>
</collection>
```