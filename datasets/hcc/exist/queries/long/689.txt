I found a really strange bug that is reproducible with my exist-2.2 installation:

The query

```
declare function local:f() {
    xmldb:xcollection("/db/tmp")//html/body[table/@border = '1']
};
map { 'bla' := local:f() }
```

exits with the error message "context is missing for node ...", assuming a matching document exists in `/db/tmp`. 

It seems like every element in the query is necessary to reproduce the bug - the function must be called from within a map constructor, simply calling the function works. The simpler query `xmldb:xcollection(...)//body[table/@border='1']` inside the function works. Even the query `xmldb:xcollection(...)//body[../self::html][table/@border='1']` does not trigger the bug.
