Consider an HTML file like this:

```
<html>
    <head/>
    <body>
        <span id="foo1">
            <span id="foo2">Foo!</span>
        </span>
    </body>
</html>
```

Now we try the query below:

```
doc('/db/apps/test/test.html')//span[@id='foo2']/parent::span[@id='foo1']
```

This works perfectly fine without an index (and also in Oxygen). Once you set a new range index for @id with the following lines

```
<range>
    <create qname="@id" type="xs:string"/>  
</range>
```

-- it won't work anymore. It works for a single step, i.e. you can either go to the first span or to the second. It also works top-down, going first to the "higher" span than to the lower, but going up the tree with parent:: and ancestor:: doesn't work after setting the index for @id.

This was tested and reproduced on two eXist 3.0 RC1 installtions on Windows 7 and Mac iOs.
