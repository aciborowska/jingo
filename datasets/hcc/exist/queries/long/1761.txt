[update_insert_preceding_bug.zip](https://github.com/eXist-db/exist/files/1777843/update_insert_preceding_bug.zip)

### What is the problem

The following statement works in eXist 3.4.1 (and prior) but fails in 3.5.0 through 4.0.0:

```XQuery
let $setid := update insert attribute id {$id} preceding $doc//annotation-item[@temp-id=$temp]/@status
```

See below for full context and reproducer.

### What did you expect

The statement should be inserting an `id` attribute before an existing `temp-id` attribute, and it does this in 3.4 and before but fails to do so in 3.5.0 and later.  When it fails, it fails silently and does not return such that statements following the update insert statement are not reached.

### Describe how to reproduce or add a test

The attached zip file has two files in it:

```
$ unzip -l update_insert_preceding_bug.zip
Archive:  update_insert_preceding_bug.zip
  Length      Date    Time    Name
---------  ---------- -----   ----
      639  03-03-2018 11:32   A00969_annotations.xml
      548  03-03-2018 11:32   testupdate.xql
---------                     -------
     1187                     2 files
```

Create a collection called `testupdate`, load those two files into it, start the remote console in Monex, and then run `testupdate.xql` from eXide.  In 3.4.1 and earlier, the `id` attribute will be successfully inserted and the "after update" message will be printed to the console.

In any failing version of eXist, the update fails silently.  The document it's trying to update is not changed, and the "after update" message never appears on the console.

### Context information

```
$ git describe --long
eXist-4.0.0-0-gcc66ebc3c
```

```
$ java -version
java version "1.8.0_121"
Java(TM) SE Runtime Environment (build 1.8.0_121-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)
```

```
$ sw_vers
ProductName:	Mac OS X
ProductVersion:	10.13.3
BuildVersion:	17D102
```

