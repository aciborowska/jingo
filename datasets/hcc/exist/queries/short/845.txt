Use of "order by" in recursively called function drops NPE