Thread self deadlock on subtree delete