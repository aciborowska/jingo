Found with rev 7205d752b75

We set up 4 servers (2 DS 2 RS) in a replicated topology with a proxy on top of it.
We configure them to be in 2 different groups then stop and start the servers.
When starting first server, we get the following error:

[03/Jun/2019:18:44:59 +0000] category=CORE severity=NOTICE msgID=134 msg=ForgeRock Directory Services 7.0.0-SNAPSHOT (build 20190603164924, revision number 7205d752b75661ccd3bfbdad9caacadb73d43df5) starting up
[03/Jun/2019:18:44:59 +0000] category=JVM severity=NOTICE msgID=21 msg=Installation Directory:  /root/workspace/OpenDJ-build_master-CPMER56E632EMKNXZEURRUYWFHY72MGZDGZHN7BYLM5SGO6GS6PA/results/20190603-171850/proxy_group/PreferredGroupIdAsString/DJ1/opendj
[03/Jun/2019:18:44:59 +0000] category=JVM severity=NOTICE msgID=23 msg=Instance Directory:      /root/workspace/OpenDJ-build_master-CPMER56E632EMKNXZEURRUYWFHY72MGZDGZHN7BYLM5SGO6GS6PA/results/20190603-171850/proxy_group/PreferredGroupIdAsString/DJ1/opendj
[03/Jun/2019:18:44:59 +0000] category=JVM severity=NOTICE msgID=17 msg=JVM Information: 1.8.0_181-b13 by Oracle Corporation, 64-bit architecture, 28631367680 bytes heap size
[03/Jun/2019:18:44:59 +0000] category=JVM severity=NOTICE msgID=18 msg=JVM Host: openam.example.com my group 1/dj1, running Linux 3.10.0-862.3.2.el7.x86_64 amd64, 337829969920 bytes physical memory size, number of processors available 48
[03/Jun/2019:18:44:59 +0000] category=JVM severity=NOTICE msgID=19 msg=JVM Arguments: "-XX:+UnlockExperimentalVMOptions", "-XX:+UseCGroupMemoryLimitForHeap", "-Dorg.opends.server.scriptName=start-ds"
[03/Jun/2019:18:45:00 +0000] category=BACKEND severity=NOTICE msgID=513 msg=The database backend ProxyTests containing 0 entries has started
[03/Jun/2019:18:45:00 +0000] category=EXTENSIONS severity=NOTICE msgID=221 msg=DIGEST-MD5 SASL mechanism using a server fully qualified domain name of: openam.example.com
[03/Jun/2019:18:45:01 +0000] category=CORE severity=NOTICE msgID=139 msg=The Directory Server has sent an alert notification generated by class org.opends.server.core.DirectoryServer (alert type org.opends.server.DirectoryServerShutdown, alert ID org.opends.messages.core-141): The Directory Server has started the shutdown process. The shutdown was initiated by an instance of class org.opends.server.core.DirectoryServer and the reason provided for the shutdown was An error occurred while attempting to bootstrap the Directory Server: An error occurred while attempting to initialize the Directory Server synchronization provider referenced in configuration entry cn=Multimaster Synchronization,cn=Synchronization Providers,cn=config: NullPointerException (ConcurrentHashMap.java:936 Topology.java:323 ReplicationBroker.java:1423 ReferencePipeline.java:174 HashMap.java:1625 AbstractPipeline.java:481 AbstractPipeline.java:471 ForEachOps.java:151 ForEachOps.java:174 AbstractPipeline.java:234 ReferencePipeline.java:418 ReplicationBroker.java:1424 ReplicationBroker.java:1220 ReplicationBroker.java:659 ReplicationBroker.java:271 ReplicationDomain.java:2111 LDAPReplicationDomain.java:576 MultimasterReplication.java:363 MultimasterReplication.java:337 MultimasterReplication.java:415 MultimasterReplication.java:103 ...)
[03/Jun/2019:18:45:01 +0000] category=BACKEND severity=NOTICE msgID=370 msg=The backend ProxyTests is now taken offline
[03/Jun/2019:18:45:01 +0000] category=CORE severity=NOTICE msgID=203 msg=The Directory Server is now stopped



This is a regression and can be reproduced with:

./run-pybot.py -s proxy_group.PreferredGroupIdAsString -t Verify_Preferred_Group_Id_Is_Chosen opendj

