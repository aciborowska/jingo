When creating new local db index emmployeeType in dsconfig, this results in Unchecked exception being sent back to the ldap client.

Using dsconfig, create new Local DB index for employee type.

This is sent back to ldap client.

org.forgerock.opendj.ldap.ErrorResultException: Other: Unchecked exception during database transaction: ConcurrentModificationException (HashMap.java:894 HashMap.java:922 EntryContainer.java:3110 EntryContainer.java:2329 BackendImpl.java:875 LocalBackendModifyOperation.java:624 LocalBackendWorkflowElement.java:551 WorkflowImpl.java:197 WorkflowTopologyNode.java:100 ModifyOperationBasis.java:520 TraditionalWorkerThread.java:167)
 at org.forgerock.opendj.ldap.ErrorResultException.newErrorResult(ErrorResultException.java:184)
 at com.forgerock.opendj.ldap.AbstractLDAPFutureResultImpl.setResultOrError(AbstractLDAPFutureResultImpl.java:125)
 at com.forgerock.opendj.ldap.LDAPClientFilter$1.modifyResult(LDAPClientFilter.java:324)
 at com.forgerock.opendj.ldap.LDAPClientFilter$1.modifyResult(LDAPClientFilter.java:79)
 at com.forgerock.opendj.ldap.LDAPReader.decodeModifyResult(LDAPReader.java:1056)
 at com.forgerock.opendj.ldap.LDAPReader.decodeProtocolOp(LDAPReader.java:1144)
 at com.forgerock.opendj.ldap.LDAPReader.decode(LDAPReader.java:167)
 at com.forgerock.opendj.ldap.LDAPClientFilter.handleRead(LDAPClientFilter.java:499)
 at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
 at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
 at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:219)
 at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:149)
 at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:127)
 at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:78)
 at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:835)
 at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:103)
 at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:111)
 at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:55)
 at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:131)
 at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:572)
 at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:552)
 at java.lang.Thread.run(Thread.java:662)



There is nothing in errors log. Needs to be investigated.