Found with rev (d7fd10d3f36)


Error message seems to be truncated when ssl is not enabled on dsml gateway but is on dj side:


expected:

	Failed to match batchResponse with expected results.
 --- 

+++ 

@@ -2,7 +2,7 @@

 b'  <SOAP-ENV:Body>'
 b'    <batchResponse xmlns="urn:oasis:names:tc:DSML:2:0:core" requestID="search">'
 b'      <errorResponse type="couldNotConnect">'
-b'        <message>Server Connection Closed: Connection refused by the remote server. A secure communication (SSL or StartTLS) may be required</message>'
 b'      </errorResponse>'
 b'    </batchResponse>'
 b'  </SOAP-ENV:Body>'

Got:

	Failed to match batchResponse with expected results.
 --- 

+++ 

@@ -2,7 +2,7 @@

 b'  <SOAP-ENV:Body>'
 b'    <batchResponse xmlns="urn:oasis:names:tc:DSML:2:0:core" requestID="search">'
 b'      <errorResponse type="couldNotConnect">'
+b'        <message>Server Connection Closed</message>'
 b'      </errorResponse>'
 b'    </batchResponse>'
 b'  </SOAP-ENV:Body>'



Test to reproduce:


./run-pybot.py -s dsml_group -t  570_sslclient_bind opendj

