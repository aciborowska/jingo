Steps to reproduce:

1. Start a setup interactive session ./setup
2. Answer 'yes' to activate production mode

Harden the default configuration for production use? (yes / no) [no]: yes



3. Chose to enable LDAP but disable StartTLS on LDAP port:

Enable LDAP? (yes / no) [yes]: yes
LDAP port [1389]:  1389
Enable StartTLS on LDAP port? (yes / no) [yes]: no



You can see your choices in final summary:

All Server Parameters
------------------------------------------------------------------------------------------
Server instance path                   /home/gaetan/dj/opendj/opendj-server/target/opendj
Root user DN                           cn=Directory Manager
Root user password                     ******
Hardened configuration for production  Enabled
Server's fully qualified host name     gaetan-laptop
Administration connector port          4444
Start server after setup               Enabled
Server security                        Generates a key pair with a self-signed certificate
LDAP (cleartext)                       Listening on port 1389
Start TLS (secure) for LDAP            Disabled
LDAPS (secure)                         Listening on port 1636
HTTP (cleartext)                       Disabled
HTTPS (secure)                         Listening on port 8443
Data storage option                    Leave the database empty
Base DN to create                      dc=example,dc=com
Data storage (backend) type            JE Backend



The server will be successfully setup but startTLS will be enabled on LDAP port since the production mode has been enabled.

To improve user experience and prompt correct information in summary, we shouldn't prompt the user for StartTLS activation if the production mode has been chosen before.