When a child entry doesn't use the same capitalization in LDIF as the parent, the child can be rejected.

I found this issue after importing Example.ldif (the one with Babs Jensen).

The LDIF has an ou=Groups,dc=example,dc=com entry, and some children:


dn: ou=Groups,dc=example,dc=com
...

dn: cn=Accounting Managers,ou=groups,dc=example,dc=com
...

dn: cn=Directory Administrators,ou=Groups,dc=example,dc=com
...

dn: cn=HR Managers,ou=groups,dc=example,dc=com
...

dn: cn=PD Managers,ou=groups,dc=example,dc=com
...

dn: cn=QA Managers,ou=groups,dc=example,dc=com
...



During import with the default (JE) backend, only cn=Directory Administrators is imported. The other groups are not. I get this rejects file:


# The parent entry 'ou=groups,dc=example,dc=com' does not exist
cn=QA Managers,ou=groups,dc=example,dc=com
dn: cn=QA Managers,ou=groups,dc=example,dc=com
objectClass: top
objectClass: groupofuniquenames
uniquemember: uid=abergin, ou=People, dc=example,dc=com
uniquemember: uid=jwalker, ou=People, dc=example,dc=com
description: People who can manage QA entries
cn: QA Managers
ou: groups
entryUUID: 4d5326b0-bfd8-3f93-91ae-459a5b0f893f

# The parent entry 'ou=groups,dc=example,dc=com' does not exist
cn=HR Managers,ou=groups,dc=example,dc=com
dn: cn=HR Managers,ou=groups,dc=example,dc=com
objectClass: top
objectClass: groupofuniquenames
uniquemember: uid=kvaughan, ou=People, dc=example,dc=com
uniquemember: uid=cschmith, ou=People, dc=example,dc=com
description: People who can manage HR entries
cn: HR Managers
ou: groups
entryUUID: 7d8b2038-980d-3077-ae18-6d37a53d3a2b

# The parent entry 'ou=groups,dc=example,dc=com' does not exist
cn=PD Managers,ou=groups,dc=example,dc=com
dn: cn=PD Managers,ou=groups,dc=example,dc=com
objectClass: top
objectClass: groupofuniquenames
uniquemember: uid=kwinters, ou=People, dc=example,dc=com
uniquemember: uid=trigden, ou=People, dc=example,dc=com
description: People who can manage engineer entries
cn: PD Managers
ou: groups
entryUUID: c4761f71-aa23-3359-a884-7f83a6f43373

# The parent entry 'ou=groups,dc=example,dc=com' does not exist
cn=Accounting Managers,ou=groups,dc=example,dc=com
dn: cn=Accounting Managers,ou=groups,dc=example,dc=com
objectClass: top
objectClass: groupofuniquenames
uniquemember: uid=scarter, ou=People, dc=example,dc=com
uniquemember: uid=tmorris, ou=People, dc=example,dc=com
description: People who can manage accounting entries
cn: Accounting Managers
ou: groups
entryUUID: fc90ebef-8937-3f99-b0e9-74a7de06f336



Of course, the parent entry does in fact exist according to a search:


$ ldapsearch -p 1389 -D "cn=Directory Manager" -w password -b ou=groups,dc=example,dc=com -s base "(&)" 
dn: ou=Groups,dc=example,dc=com
objectClass: top
objectClass: organizationalunit
ou: Groups




My build has the fix for OPENDJ-1857.