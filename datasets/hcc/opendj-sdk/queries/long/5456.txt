Found using DS-6.5.0-SNAPSHOT revÂ (d370c5695e1) and daily tests.

When running setup with profiles on Windows we hit an error.

With:

.\setup.bat directory-server -h ig-win2016.internal.forgerock.com -p 1420 -D "cn=myself" -w password --adminConnectorPort 4475 -Z 1667 -O --profile am-user-store --set amUserStoreAdminPassword:SuperSecretPassword --monitorUserDn uid=Monitor --monitorUserPassword password

We hit:


- rc -- returned 1, expected [0] 
-- stdout -- 
Validating parameters.....Error...... 
-- stderr -- 
An error occurred during execution of script 'parameters.groovy' associated to profile 'am-user-store:6.5.0': groovy.util.ResourceException: Malformed URL: file:/E:/jenkins/workspace/OpenDJ-6.5.x/tests_daily/Configs/results/20180914-053400/setup_group/ProfilesUserDatastore/DJ_USERSTORE1/opendj/template/setup-profiles/AM/user-store/6.5/, E:\jenkins\workspace\OpenDJ-6.5.x\tests_daily\Configs\results\20180914-053400\setup_group\ProfilesUserDatastore\DJ_USERSTORE1\opendj\template\setup-profiles\AM\user-store\6.5\parameters.groovy. Please ensure that script performs valid operations See C:\Users\ADMINI~1\AppData\Local\Temp\opendj-setup-8226765752047147097.log for a detailed log of the failed operation. Please report this error and provide the log file mentioned above.


We hit this in all our tests for profiles on Windows. I didn't see this error on Linux.

It's possible to run pyforge test on windows with:


python3 run-pybot.py -s "setup_group.profiles*" -v dj
