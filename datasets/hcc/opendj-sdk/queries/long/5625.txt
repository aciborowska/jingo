When trying a build from the master branch just updated, I see that this error message:
[INFO] — opendj-doc-maven-plugin:6.5.0-SNAPSHOT:generate-refentry (generate-server-man-pages) @ opendj-doc-generated-ref —
 [ERROR] Failed to write page. Tool exit code: 1
 To debug the problem, run the following command and connect your IDE:
 /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=8000 -classpath /home/mark/Repositories/opendj/opendj-doc-generated-ref/target/opendj/lib/bootstrap.jar:/home/mark/Repositories/opendj/opendj-doc-generated-ref/target/dependency/freemarker-2.3.24-incubating.jar -Dorg.forgerock.opendj.gendoc=true -Dorg.opends.server.ServerRoot=/tmp -Dcom.forgerock.opendj.ldap.tools.scriptName=supportextract -Dorg.forgerock.opendj.gendoc.trailing=<xinclude:include href='exit-codes-0-gt0.xml' /><xinclude:include href='supportextract-examples.xml' /> org.opends.server.tools.supportextract.SupportExtract -?

When I run the command (including the missing quotes around the trailing sections argument value), I see the man page is generated, but followed by a message:


$ /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=8000 -classpath /home/mark/Repositories/opendj/opendj-doc-generated-ref/target/opendj/lib/bootstrap.jar:/home/mark/Repositories/opendj/opendj-doc-generated-ref/target/dependency/freemarker-2.3.24-incubating.jar -Dorg.forgerock.opendj.gendoc=true -Dorg.opends.server.ServerRoot=/tmp -Dcom.forgerock.opendj.ldap.tools.scriptName=supportextract -Dorg.forgerock.opendj.gendoc.trailing="<xinclude:include href='exit-codes-0-gt0.xml' /><xinclude:include href='supportextract-examples.xml' />" org.opends.server.tools.supportextract.SupportExtract -?
Listening for transport dt_socket at address: 8000
<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright 2015-2018 ForgeRock AS. All Rights Reserved
 
  Use of this code requires a commercial software license with ForgeRock AS.
  or with one of its affiliates. All use shall be exclusively subject
  to such license between the licensee and ForgeRock AS.
-->
<refentry xml:id="supportextract-1"
...

   <xinclude:include href='exit-codes-0-gt0.xml' /><xinclude:include href='supportextract-examples.xml' />
</refentry>
Invalid state - trying to add a file to a closed zip archive

