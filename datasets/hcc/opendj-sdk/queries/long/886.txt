With the RS, running, searching under cn=monitor shows each DS is connected to the RS:



bin/ldapsearch -h rih.local -p 1389 -b cn=monitor -s sub "(connected-to=*)" connected-to
dn: cn=Replication Domain 10865,cn=cn_admin data,cn=replication,cn=monitor
connected-to: rih.local/172.20.2.253:8989

dn: cn=Replication Domain 29916,cn=cn_schema,cn=replication,cn=monitor
connected-to: rih.local/172.20.2.253:8989

dn: cn=Replication Domain 22956,cn=dc_example_dc_com,cn=replication,cn=monitor
connected-to: rih.local/172.20.2.253:8989



However if you shut the RS down, the connected-to attributes are not updated. netstat confirms there are no TCP connections. The errors log for a DS contains:



[26/Apr/2013:10:20:51 +0100] category=SYNC severity=SEVERE_WARNING msgID=14811344 msg=Directory server DS(8735) was unable to connect to any replication servers for domain "cn=admin data"
[26/Apr/2013:10:20:51 +0100] category=SYNC severity=SEVERE_WARNING msgID=14811344 msg=Directory server DS(31245) was unable to connect to any replication servers for domain "dc=example,dc=com"
[26/Apr/2013:10:20:51 +0100] category=SYNC severity=SEVERE_WARNING msgID=14811344 msg=Directory server DS(5218) was unable to connect to any replication servers for domain "cn=schema"

