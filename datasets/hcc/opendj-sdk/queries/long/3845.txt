After setting up a proxy server:



./setup proxy-server \
          --rootUserDn cn=Directory\ Manager \
          --rootUserPassword password \
          --hostname matts-laptop \
          --adminConnectorPort 4444 \
          --ldapPort 1389 \
          --enableStartTls \
          --ldapsPort 1636 \
          --httpsPort 8443 \
          --staticPrimaryServer localhost:2389 \
          --staticPrimaryServer localhost:3389 \
          --proxyUserBindDn cn=proxy \
          --proxyUserBindPassword password \
          --baseDn dc=proxy \
          --loadBalancingAlgorithm affinity



I created a local backend to store some local users:



./bin/dsconfig create-backend \
          --bindDn cn=Directory\ Manager \
          --bindPassword password \
          --hostname matts-laptop \
          --port 4444 \
          --trustAll \
          --set base-dn:dc=example,dc=com \
          --set enabled:true \
          --type je \
          --backend-name userRoot \
          --no-prompt



But I could not import any data to the new backend:



./bin/import-ldif -n userRoot -F -l ~/workspace/ldif/example-10000.ldif --offline



Because I got the following error:



[09/03/2017:18:32:33 +0100] category=TOOLS seq=0 severity=SEVERE msg=Unable to create an instance of class org.opends.server.backends.ProxyBackend referenced in configuration entry ds-cfg-backend-id=proxyRoot,cn=Backends,cn=config as a Directory Server backend:  ClassCastException(org.opends.server.backends.ProxyBackend cannot be cast to org.opends.server.api.LocalBackend)

