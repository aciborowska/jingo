This issue is blocking the backport of OPENDJ-2752.

Enumerated syntaxes can be created as follows:



SchemaBuilder builder = ...;
builder.addSyntax("( 1.2.3 DESC 'Primary colors' X-ENUM ( 'red' 'green' 'blue' ))", true);



Or like this:



SchemaBuilder builder = ...;
builder.addEnumerationSyntax("1.2.3", "Primary colors", true, "red", "green", "blue");



But not like this:



Schema otherSchema = ...
Syntax primaryColors = otherSchema.getSyntax("1.2.3");
SchemaBuilder builder = ...;
builder.buildSyntax(primaryColors).addToSchema();



The last case fails because the associated matching rule is not automatically added during the call to addToSchema().

We may also want to check that x-pattern and x-subst syntaxes are registered correctly for all possible construction code paths.