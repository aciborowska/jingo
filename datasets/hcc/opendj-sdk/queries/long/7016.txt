In script friendly mode, the status command outputs pretty-printed lines of JSON to stdout. However it wraps each line to 80 columns, which can cause the output to be malformed JSON if the JSON values are sufficiently long and contain spaces. The version, installPath and instancePath fields are often too long, and the version string always contains spaces.

e.g. if we have patches installed, ds-mon-full-version will be something like the single string read from cn=monitor


ds-mon-full-version: ForgeRock Directory Services 6.5.4-SNAPSHOT+OPENDJ-1234,OPENDJ-4567,OPENDJ-8910


And the corresponding script-friendly output looks like this:



{
  "isRunning" : true,
  "hostname" : "localhost",
  "adminConnectorPort" : 4444,
  "openConnections" : 1,
"version" : "ForgeRock Directory Services
6.5.4-SNAPSHOT+OPENDJ-1234,OPENDJ-4567,OPENDJ-8910",
"installPath" :
"/Users/cjr/Documents/Idea/opendj-git/opendj-server/target/opendj",
"instancePath" :
"/Users/cjr/Documents/Idea/opendj-git/opendj-server/target/opendj",
  "javaVersion" : "1.8.0_242",
  "javaVendor" : "AdoptOpenJDK",
[...]


 
Note the leading pretty-printed spaces have also disappeared from the version/installPath/instancePath lines.

We should not be wrapping the JSON output at all, as the intended reader is a script and not a person.