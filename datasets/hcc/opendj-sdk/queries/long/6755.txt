Found with rev (9b5f613b6e4)


supportextract tool seems to work fine on windows, it generates a zip even if it is not designed to get os statistics, but yet, it returns 1 and there is a "null" message in stderr:


 E:\jenkins\workspace\OpenDJ-7.0.x\tests_daily\Configs\results\20190617-165042\clu_group\DJ1\opendj\bat\supportextract.bat -D "cn=myself" -w "password" -d "E:\jenkins\workspace\OpenDJ-7.0.x\tests_daily\Configs\results\20190617-165042\clu_group\DJ1\opendj\tmp" 	
17:59:27.957 	WARN 	ERROR:
-- rc --
returned 1, expected to be in [0]

-- stdout --
The instance is running
No value was provided for --jdkToolsDirectory, JDK tool directory is set to
C:\jdk1.8\bin
VERSION: 7.0.0.9b5f613b6e450fafd4940d8be8312292896bb978
Collecting the monitoring info from cn=monitor
Collecting process statistics
Cannot extract process statistics (by running "top" command) on OS 'Server
2008'. Only 'jstack' dump samples will be collected
- Generating stack dump, sample number : 1
- Generating stack dump, sample number : 2
- Generating stack dump, sample number : 3
- Generating stack dump, sample number : 4
- Generating stack dump, sample number : 5
- Generating stack dump, sample number : 6
- Generating stack dump, sample number : 7
- Generating stack dump, sample number : 8
- Generating stack dump, sample number : 9
- Generating stack dump, sample number : 10
Collecting the configuration files
- Adding rootUser.ldif
- Adding monitorUser.ldif
- Adding schema files
- Adding archived configs
- Adding HTTP configuration file(s)
- Listing the security stores
  * config\keystore
  * config\truststore
  * db/ads-truststore/ads-truststore
Collecting system node information
- OS information
- Network information
- Disk information
- Processor information
Collecting ChangelogDb information
- No changelogDb data found (is a DS or is not replicated)
Collecting backend statistics
- appData: total jdb files 1
- Adding je.info.0
- Adding je.config.csv
- Adding je.stat.csv
Collecting the log files
-
E:\jenkins\workspace\OpenDJ-7.0.x\tests_daily\Configs\results\20190617-165042\clu_group\DJ1\opendj\logs\access
-
E:\jenkins\workspace\OpenDJ-7.0.x\tests_daily\Configs\results\20190617-165042\clu_group\DJ1\opendj\logs\http-access
-
E:\jenkins\workspace\OpenDJ-7.0.x\tests_daily\Configs\results\20190617-165042\clu_group\DJ1\opendj\logs\filtered-ldap-access.audit.json
-
E:\jenkins\workspace\OpenDJ-7.0.x\tests_daily\Configs\results\20190617-165042\clu_group\DJ1\opendj\logs\ldap-access.audit.json
-
E:\jenkins\workspace\OpenDJ-7.0.x\tests_daily\Configs\results\20190617-165042\clu_group\DJ1\opendj\logs\http-access.audit.json
-
E:\jenkins\workspace\OpenDJ-7.0.x\tests_daily\Configs\results\20190617-165042\clu_group\DJ1\opendj\logs\audit
-
E:\jenkins\workspace\OpenDJ-7.0.x\tests_daily\Configs\results\20190617-165042\clu_group\DJ1\opendj\logs\errors
-
E:\jenkins\workspace\OpenDJ-7.0.x\tests_daily\Configs\results\20190617-165042\clu_group\DJ1\opendj\logs\replication
-
E:\jenkins\workspace\OpenDJ-7.0.x\tests_daily\Configs\results\20190617-165042\clu_group\DJ1\opendj\logs\debug
Collecting the GC log files

The following archive has been created :
E:\jenkins\workspace\OpenDJ-7.0.x\tests_daily\Configs\results\20190617-165042\clu_group\DJ1\opendj\tmp\opendj-support-data-20190617-045907.zip

-- stderr --
null



To reproduce:

./run-pybot.py -v -s clu_group.SupportExtract -t Gc_ opendj

