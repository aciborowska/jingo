When using the name and optional syntax with the Referential Integrity plugin the plugin fails to start due to a missing equality index.

Steps to reproduce:
1) Create a name and optional syntax ldap attribute like so:


attributeTypes: ( 1.3.6.1.4.1.36733.2.3.1.68
  NAME 'fr-idm-managed-user-roles'
  DESC 'Reference to a users roles'
  SYNTAX 1.3.6.1.4.1.36733.2.1.3.12
  EQUALITY nameAndOptionalCaseIgnoreJsonIdEqualityMatch
  X-STABILITY 'Internal' )


2) Create a backend index for the attribute


./bin/dsconfig create-backend-index \
--backend-name idmRepo \
--index-name fr-idm-managed-user-roles \
--set index-type:extensible \
--set index-extensible-matching-rule:1.3.6.1.4.1.36733.2.1.4.7 \
--set index-extensible-matching-rule:1.3.6.1.4.1.36733.2.1.4.9 \
--hostname localhost \
--port 34444 \
--bindDN uid=admin \
--bindPassword 5up3r53cr3t \
--no-prompt \
--trustAll


3) Add the attribute to the referential integrity plugin


./bin/dsconfig set-plugin-prop \
--plugin-name "Referential Integrity" \
--add attribute-type:fr-idm-managed-user-roles \
--hostname localhost \
--port 34444 \
--bindDN uid=admin \
--bindPassword 5up3r53cr3t \
--no-prompt \
--trustAll


4) Try to enable the referential integrity plugin


./bin/dsconfig set-plugin-prop \
--plugin-name "Referential Integrity" \
--set enabled:true \
--hostname localhost \
--port 34444 \
--bindDN uid=admin \
--bindPassword 5up3r53cr3t \
--no-prompt \
--trustAll

The Referential Integrity Plugin could not be modified because of the
following reason:
    *  Unwilling to Perform: Entry cn=Referential
       Integrity,cn=Plugins,cn=config cannot be modified because one of the
       configuration change listeners registered for that entry rejected the
       change: An error occurred while attempting to initialize an instance of
       class org.opends.server.plugins.ReferentialIntegrityPlugin as a
       Directory Server plugin using the information in configuration entry
       cn=Referential Integrity,cn=Plugins,cn=config: InitializationException:
       The configuration for the plugin defined in configuration entry
       cn=Referential Integrity,cn=Plugins,cn=config was not acceptable: The
       referential integrity plugin defined in configuration entry
       cn=Referential Integrity,cn=Plugins,cn=config is configured to operate
       on attribute fr-idm-managed-user-roles but there is no equality
       index defined for this attribute in backend idmRepo
       (PluginConfigManager.java:387 PluginConfigManager.java:3301
       PluginConfigManager.java:3337 PluginConfigManager.java:150
       ServerManagedObjectChangeListenerAdaptor.java:54
       ConfigChangeListenerAdaptor.java:310
       ConfigChangeListenerAdaptor.java:271 ConfigurationHandler.java:644
       ConfigurationBackend.java:337 ModifyOperation.java:605
       ModifyOperation.java:440 ModifyOperation.java:370
       SynchronousStrategy.java:47 LdapClientConnection.java:465
       LdapClientConnection.java:754 LdapClientConnection.java:721
       LdapClientConnection.java:577 ModifyRequestImpl.java:54
       LdapClientConnection.java:577 LdapClientConnection.java:557
       LdapClientConnection.java:516 ...). This plugin will be disabled



When enabling the referential plugin the plugin with fail to start due to a missing equality index on `fr-idm-managed-user-roles`. You are unable to create an equality index on `fr-idm-managed-user-roles` since it requires an extensible index to support its embedded json ldap attribute.