The tools are: backup, restore, export-ldif, import-ldif, rebuild-index (scheduled as a task) and manage-tasks, manage-account, stop-ds

Steps to reproduce:

1) Setup a DS with and LDAPS port using a certificate that is signed by a CA in client's truststore, but somehow invalid (e.g. expired)

2) Run any of the listed tools using the mentioned LDAPS port and truststore


/bin/backup -P /home/viktor/repos/pyforge/results/20180305-154931/opendj4536/tmp/java-client-truststore.jks -T truststorepass -p 1640 -h viktor.internal.forgerock.com -D "cn=Directory Manager" -w password -n userRoot -d /home/viktor/repos/pyforge/results/20180305-154931/opendj4536/tmp


3) Expect prompt showing the invalid certificate with option to trust it anyway, get an error:


You have provided options for scheduling this operation as a task but options	
provided for connecting to the server's tasks backend resulted in the	
following error: 'Unable to create an SSL connection to the server:	
sun.security.validator.ValidatorException: PKIX path validation failed:	
java.security.cert.CertPathValidatorException: validity check failed'

