This issue was originally reported in OPENDJ-3578. 

Duplicate links are intermittently created in a 2-node idm cluster with an external Directory Server repository.  It looks like the sequence of events is this customer’s environment is:
1. Creation of managed object
2. Creation of Directory Server account via implicit sync
3. Live sync from Directory Server searches for link, doesn’t find it, updates managed object and creates link.
4. Concurrently, Implicit sync searches for link, doesn’t find it, and creates link.

This situation appears to be handled by jdbc repositories by setting unique indexes, as in the MySQL openidm.sql script:



UNIQUE INDEX `idx_links_first` (`linktype` ASC, `linkqualifier` ASC, `firstid` ASC) ,
UNIQUE INDEX `idx_links_second` (`linktype` ASC, `linkqualifier` ASC, `secondid` ASC) 



