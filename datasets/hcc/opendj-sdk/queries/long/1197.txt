Currently the API only seems to allow to specify an LDAP operations timeout by using

http://docs.forgerock.org/en/opendj/2.6.0/apidocs/org/forgerock/opendj/ldap/LDAPOptions.html#setTimeout(long,%20java.util.concurrent.TimeUnit)

but this timeout does not help if the target box where the Directory Server is running is not up and running (hence can not send TCP-RST).

a code-level workaround provided by Matt would be ...


int connectTimeout = 3 //example
ConnectionFactory factory = ...;
FutureResult<Connection> future = factory.getConnectionAsync(null /* no handler */);
try {
    Connection connection = future.get(connectTimeout, TimeUnit.SECONDS);
    /* use/return the connection */
} catch (TimeoutException te) {
    future.cancel(true);
    try {
        future.get().close();
    } catch (Exception e) { /* ignore */ }
}





if Sun/Oracle JVM is used and JVM-wide settings do not matter one could also set


sun.net.client.defaultConnectTimeout



JVM option
