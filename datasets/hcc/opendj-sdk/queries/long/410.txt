We have recently received a couple of reports of index corruption in the ds-sync-hist ordering index. Note that this is the only ordering index configured by default, so it is impossible to say whether the issue is a generic ordering index issue, or a specific problem with the ds-sync-hist ordering matching rule.

Users see the following error:

[03/Jan/2012:09:19:40 -0500] category=JEB severity=NOTICE msgID=8847510 msg=Due to changes in the configuration, index dc_opensso_dc_java_dc_net_ds-sync-hist is currently operating in a degraded state and must be rebuilt before it can be used
[05/Jan/2012:06:50:47 -0500] category=JEB severity=SEVERE_ERROR msgID=8650903 msg=An error occurred while reading from index dc_opensso_dc_java_dc_net_ds-sync-hist.ordering. The index seems to be corrupt and is now operating in a degraded state. The index must be rebuilt before it can return to normal operation

And may see errors when performing verify-index like this:

[19/janv./2012:10:25:20 +0100] 72 message error thread=
{main(1)}
method=
{verifyAttribute(VerifyJob.java:1930)}
 Missing ID 39
File: ......._ds-sync-hist.ordering
Key:
      30                                                 0

In some cases rebuilding the index seems to fix the problem, but it may come back again later. In other cases, rebuilding the index does not seem to help.
