I always get compile errors using ant package task. And then I executed only "resolve" task and I get the message "0 artifacts copied", but ivy had retrieved all dependencies in its cache and there is no file copied to lib/compile folder. It seems that the "firstmatchmapper" does not work in "ivy:retrieve". But this just happened on Windows and it works in Linux and Mac OS X.

Code might be related to this problem in build.xml:


  <target name="resolve" depends="install-ivy" description="--> retrieve dependencies with ivy">
    <ivy:retrieve pattern="${lib.dir}/[type]/[artifact].[ext]">
      <firstmatchmapper>
        <regexpmapper from="(.*/(source|javadoc)/.*)" to="\1"/>
        <!-- Separate test and compile jars ala Maven -->
        <regexpmapper from="(.*)/(jar|bundle)/(.*(?:assertj-core|hamcrest-core|mockito-core|objenesis)\.jar)" to="\1/test/\3"/>
        <regexpmapper from="(.*)/(jar|bundle)/(.*)" to="\1/compile/\3"/>
      </firstmatchmapper>
    </ivy:retrieve>
  </target>