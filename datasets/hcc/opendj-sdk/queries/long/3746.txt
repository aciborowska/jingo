Found using OpenDJ 4.0.0 rev c753debe636

Doing a whole subtree search we have sometimes the following error:

C:> .\DJ1\opendj\bat\ldapsearch.bat -h localhost -p 1389 -D "cn=myself" -w password -b "dc=com"  "objectclass=person" 	
13:09:02.838	WARN	ERROR:
-- rc --
returned 81, expected 0
-- stdout --
dn: cn=Aaccf Amar,ou=unit1,ou=People,dc=example,dc=com
objectClass: person
objectClass: top
userPassword: {SSHA}CnAYf/OeVA3uqF9njPLhlsRQ/mqpt5Ta9yCxxg==
description: My name is Aaccf Amar.
cn: Aaccf Amar
sn: Amar

dn: cn=Aaren Atp,ou=unit1,ou=People,dc=example,dc=com
objectClass: person
objectClass: top
userPassword: {SSHA}Lr9x1+awBhUrm2tFeStHWwIcMjY+aHk6d6LA4A==
description: My name is Aaren Atp.
cn: Aaren Atp
sn: Atp
...
-- stderr --
Feb 13, 2017 12:09:02 PM org.glassfish.grizzly.filterchain.DefaultFilterChain execute
WARNING: GRIZZLY0013: Exception during FilterChain execution
java.lang.IndexOutOfBoundsException
	at org.glassfish.grizzly.memory.HeapBuffer.get(HeapBuffer.java:355)
	at org.glassfish.grizzly.memory.BuffersBuffer.get(BuffersBuffer.java:750)
	at org.glassfish.grizzly.memory.BuffersBuffer.get(BuffersBuffer.java:736)
	at org.forgerock.opendj.grizzly.Asn1BufferReader.needFirstLengthByteState(Asn1BufferReader.java:443)
	at org.forgerock.opendj.grizzly.Asn1BufferReader.elementAvailable(Asn1BufferReader.java:87)
	at org.forgerock.opendj.io.LdapReader.hasMessageAvailable(LdapReader.java:111)
	at org.forgerock.opendj.grizzly.LdapMessageCodec.handleRead(LdapMessageCodec.java:60)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:526)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)
	at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)
	at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:593)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:573)
	at java.lang.Thread.run(Thread.java:745)

The LDAP search request failed: 81 (Server Connection Closed)

