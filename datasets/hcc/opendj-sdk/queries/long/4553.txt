Reproducible with revision 6.0.0-SNAPSHOT (40e255cb9000453637f78ab303d1acc4c85d30a3)

Steps to reproduce

	Setup a fresh OpenDJ instance
	Use dsconfig either in interactive or in no prompt mode to create a new graphite reporter plugin, then perform more than one modify operations on the plugin configuration:

$ bin/dsconfig create-plugin --set graphite-server:localhost:2004 --set metric-name-prefix:opendj.ds1 --set enabled:true --type graphite-monitor-reporter --plugin-name Test\ Graphite --hostname localhost --port 4444 --bindDn cn=Directory\ Manager --trustAll --bindPassword password --no-prompt

$ bin/dsconfig set-plugin-prop --plugin-name Test\ Graphite --set excluded-metric-pattern:monitor\.jvm-memory.* --hostname localhost --port 4444 --bindDn cn=directory\ manager --bindPassword password --trustAll --no-prompt

$ bin/dsconfig set-plugin-prop --plugin-name Test\ Graphite --set included-metric-pattern:monitor\.connection-handlers.* --hostname localhost --port 4444 --bindDn cn=directory\ manager --bindPassword password --trustAll --no-prompt





Expected behavior
Since all dsconfig commands above are correct, plugin should be created and its configuration modified.

Actual behavior
The plugin is effectively created and its configuration reflects the operations listed above but the last dsconfig command reports an error on the console and exists with error return code 1:


$ bin/dsconfig set-plugin-prop --plugin-name Test\ Graphite --set included-metric-pattern:monitor\.connection-handlers.* --hostname localhost --port 4444 --bindDn cn=directory\ manager --bindPassword password --trustAll --no-prompt

The Graphite Monitor Reporter Plugin could not be modified due to a
communications problem: Undefined



Bug cause
The cause of the communication error reported by the dsconfig client can be found in server logs, here is a dump of the root exception stacktrace from logs/server.out:

	... 54 more
Caused by: java.lang.NullPointerException
	at org.opends.server.util.CronExecutorService$FutureTaskResult.isCancelled(CronExecutorService.java:94)
	at com.codahale.metrics.ScheduledReporter.stop(ScheduledReporter.java:212)
	at com.codahale.metrics.graphite.GraphiteReporter.stop(GraphiteReporter.java:276)
	at org.opends.server.plugins.GraphiteMonitorReporterPlugin.stopGraphiteReporter(GraphiteMonitorReporterPlugin.java:189)
	at org.opends.server.plugins.GraphiteMonitorReporterPlugin.applyConfigurationChange(GraphiteMonitorReporterPlugin.java:122)
	at org.opends.server.plugins.GraphiteMonitorReporterPlugin.applyConfigurationChange(GraphiteMonitorReporterPlugin.java:49)
	at org.forgerock.opendj.config.server.ServerManagedObjectChangeListenerAdaptor.applyConfigurationChange(ServerManagedObjectChangeListenerAdaptor.java:50)
	at org.forgerock.opendj.config.server.ConfigChangeListenerAdaptor.applyConfigurationChange(ConfigChangeListenerAdaptor.java:279)
	at org.opends.server.config.ConfigurationHandler.replaceEntry(ConfigurationHandler.java:619)
	at org.opends.server.backends.ConfigurationBackend.replaceEntry(ConfigurationBackend.java:375)
	at org.opends.server.core.ModifyOperation.processModify(ModifyOperation.java:643)

