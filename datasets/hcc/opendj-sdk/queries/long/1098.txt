Customers install patches from support into the classes/ directory. A patch for 2.4.x will be completely incompatible with another major/minor/maintenance release, so the upgrade tool must not use these patches.

It could do this by renaming classes to classes.disabled and creating a new empty classes directory in the upgrade script wrapper, before executing the real upgrade tool.

Note this will prevent us from being able to patch the upgrade tool.