The following command triggers a NPE in the server:



dsconfig -D "uid=admin" -w password -p 4444 -X --no-prompt --batch <<END_OF_COMMAND_INPUT
    set-global-configuration-prop     --set "server-id:3"
    set-synchronization-provider-prop --provider-name "Multimaster synchronization" --set "bootstrap-replication-server:openam.example.com:8989" --set "bootstrap-replication-server:openam.example.com:8990"
    create-replication-server --provider-name "Multimaster synchronization" --set "replication-port:8991"
END_OF_COMMAND_INPUT



The stacktrace in the logs is:

    [05/Dec/2019:14:30:09 +0100] category=org.opends.messages.external severity=WARNING msgID=1 msg=GRIZZLY0011:
     Uncaught exception on thread Thread[Administration Connector 0.0.0.0:4446(1) SelectorRunner,5,main]
     exception=UndeliverableException: The exception could not be delivered to the consumer because it has already
     canceled/disposed the flow or the exception has nowhere to go to begin with.
     Further reading: https://github.com/ReactiveX/RxJava/wiki/What's-different-in-2.0#error-handling
    | Other: The Directory Server encountered an unexpected error while attempting to add the client request to the work queue:
     NullPointerException(Topology.java:229) (RxJavaPlugins.java:367 FlowableCreate.java:275 LdapClientConnection.java:748
     LdapClientConnection.java:579 LdapClientConnection.java:566 AddRequestImpl.java:47 LdapClientConnection.java:566
     LdapClientConnection.java:546 LdapClientConnection.java:509 FlowableCreate.java:71 Flowable.java:14936
     FlowableDoOnLifecycle.java:38 Flowable.java:14936 Flowable.java:14886 FlowableLift.java:49 Flowable.java:14936
     FlowableOnErrorNext.java:40 Flowable.java:14936 Flowable.java:14883 FlowableLift.java:49 Flowable.java:14936 ...)



Granted, changing the server id requires a server restart, but throwing a NPE for such a trivial (and likely!) use of dsconfig commands is not acceptable.