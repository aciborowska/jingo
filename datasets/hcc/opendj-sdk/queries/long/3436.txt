I configured ActiveMQ and Consumer for ActiveMQ and I verified that it works using admin interface. Admin interface provides an option to send a message to specific topic (in my case audit). I was able to see this message in consumer's log file and also the counter of messages on this topic increased in admin interface.

After that I configured JMS log publisher as external access log publisher:

dsconfig -h pyforge.example.com -p 4444 -D "cn=myself" -w password -X create-log-publisher --publisher-name "jms" --type external-access --set enabled:true --set config-file:/tmp/jms-config.json -n


Config file attached.
Now I tried to things:
1. 
I unpacked activemq-client-5.13.3-osgi.jar under classes folder (workaround for issue OPENDJ-3516).
To check functionality of publisher I tried to run simple ldapsearch.
I checked the admin interface if there is any new message in a queue and I also checked a log of Consumer ActiveMQ. Unfortunately I didn't see any new message.

2.
I unpacked activemq-client-5.13.3-osgi.jar under classes folder (workaround for issue OPENDJ-3516) and restarted DJ instance.
During startup of DJ instance I noticed following error in the output:

category=org.opends.messages.external severity=ERROR msgID=1 msg=Unable to create JmsAuditEventHandler 'jms': null exception=AuditException: Unable to create JmsAuditEventHandler 'jms': null (DependencyProviderAuditEventHandlerFactory.java:60 AuditServiceBuilder.java:212 AuditServiceBuilder.java:198 CommonAudit.java:381 CommonAudit.java:229 AbstractLogger.java:403 AbstractLogger.java:249 AbstractLogger.java:233 LoggerConfigManager.java:283 LoggerConfigManager.java:56 ServerManagedObjectAddListenerAdaptor.java:50 ConfigAddListenerAdaptor.java:158 ConfigurationHandler.java:486 ConfigurationBackend.java:404 LocalBackendAddOperation.java:460 LocalBackendAddOperation.java:161 LocalBackendWorkflowElement.java:736 LocalBackendWorkflowElement.java:1051 LocalBackendWorkflowElement.java:894 AddOperationBasis.java:499 SynchronousStrategy.java:39 ...)



I also tried to run same scenario but I unpacked more jar files under classes folder (workaround for issue OPENDJ-3516):

	activemq-client-5.13.3-osgi.jar
	geronimo-j2ee-management_1.1_spec-1.0.1.jar
	hawtbuf-1.11.jar
The result was same.

