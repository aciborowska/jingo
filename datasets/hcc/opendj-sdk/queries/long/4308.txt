Our replication_group tests run significantly slower on 5.5.0 compared to 3.5.3. By closer examination, I found out that almost all the tools (ldapsearch,ldapmodify,ldapdelete,...) take around 1-2s longer on 5.5.0. Here are some examples:


	ldapmodify


bin/ldapmodify -h fourme.internal.forgerock.com -p 1389 -D "cn=myself" -w password
dn: uid=dmiller,ou=People,dc=example,dc=com 
changetype: modify 
replace: telephonenumber 
telephonenumber: 011


	ldapsearch


bin/ldapsearch -h fourme.internal.forgerock.com -p 1389 -D "cn=myself" -w password -b "cn=dc=com,cn=domains,cn=multimaster synchronization,cn=synchronization providers,cn=config" -s base "(objectclass=*)"


	ldapmodify --defaultAdd


bin/ldapmodify -h fourme.internal.forgerock.com -p 1389 -D "cn=myself" -w password --defaultAdd -f /external/testuser/jenkins/workspace/ReplicationSuiteCmp/Replication_3.5.x/results/20170912-163426/replication_group/tmp/labs.ldif


	ldapdelete


bin/ldapdelete -h fourme.internal.forgerock.com -p 1389 -D "cn=myself" -w password


	dsreplication status


bin/dsreplication status -h fourme.internal.forgerock.com -p 4444 -b dc=com -I admin -w password --script-friendly -X -n


	dsreplication pre-external-initialization


bin/dsreplication pre-external-initialization -h fourme.internal.forgerock.com -p 4444 -b dc=com -I admin -w password -X -n





 




 Tool 
 3.5.3 
 4.0.0 
 5.5.0 
 diff between 5.5.0/3.5.3 


 ldapmodify 
 0.66s 
 2.40s 
 3.13s 
 +2.47s 


 ldapsearch 
 0.63s 
 2.50s 
 2.94s 
 +2.31s 


 ldapmodify --defaultAdd 
 1.44s 
 3.42s 
 3.89s 
 +2.45s 


 ldapdelete 
 0.65s 
 2.44s 
 2.85s 
 +2.2s 


 dsreplication status 
 2.32s 
 3.41s 
 3.69s 
 +1.37s 


 dsreplication pre-external-initialization 
 2.61s 
 3.94s 
 3.92s 
 +1.31s 





 

There is a visible difference between 4.0.0 and 5.5.0 as well, but the jump from 3.x -> 5.5.x is much bigger. For the whole comparison, you can take look at this SS: https://docs.google.com/spreadsheets/d/1AsndfEm5hIICm_dfp-I4YpWvuBzXKZH4umOuV_fxzKQ/edit#gid=1685114490