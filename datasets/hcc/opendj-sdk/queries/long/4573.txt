Found with OpenDJ 6.0.0 rev 63edc92c57447f31b2bce35c680ba63e3361ea4

We setup a dj server and run a graphite/grafana docker image.
Then we configure dj to send data to graphite:

./DJ/opendj/bin/dsconfig -h localhost -p 4444 -D "cn=myself" -w password -X create-plugin --type graphite-monitor-reporter --plugin-name "Auto Test Graphite" --set graphite-server:nameserver.example.com:2004 --set metric-name-prefix:opendj.DJ --set enabled:true -n



We check we have data with the render endpoint:

http://localhost:9080/graphite/render?target=summarize(opendj.DJ.monitor.connection-handlers.ldap-connection-handler.requests.m1_rate,'1min','last')&format=json
m1_rate: [{u'target': u'summarize(opendj.DJ.monitor.connection-handlers.ldap-connection-handler.requests.m1_rate, "1min", "last")', u'datapoints': ...
[13.54, 1512980520], [8.4, 1512980580]]}]



Then we disable the plugin and expect to have None in the datapoints value:

./DJ/opendj/bin/dsconfig -h localhost -p 4444 -D "cn=myself" -w password -X set-plugin-prop --plugin-name "Auto Test Graphite" --set enabled:false -n
sleep 60
http://localhost:9080/graphite/render?target=summarize(opendj.DJ.monitor.connection-handlers.ldap-connection-handler.requests.m1_rate,'1min','last')&format=json
m1_rate: [{u'target': u'summarize(opendj.DJ.monitor.connection-handlers.ldap-connection-handler.requests.m1_rate, "1min", "last")', u'datapoints': [...[0.37, 1512980520], [0.25, 1512980580], [0.24, 1512980640]]}]



To make sure i'm doing the right thing, i'm checking the grafana graphs and indeed, it continues graphing stuff.