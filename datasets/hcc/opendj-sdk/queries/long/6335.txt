It appears that tests such as the one updated in https://stash.forgerock.org/projects/OPENDJ/repos/opendj-docs/pull-requests/1124 are not failing when they should be. Here's the change:

- {"isUsable":false,"unavailable":{"inactive":false,"reset":false,"expired":false,"remainingGrace":3,"locked":{"secondsUntilUnlock":<seconds>}}}
+ {"status":"locked","unlockIn":<seconds>} 

IIRC, the former response was broken before the test was changed. So the test should've been failing.

And the test does this:

  # Replace the variables "<...>" in the expected output with '[\d]+', making $expected a regex.
  expected=$(sed 's/<.*>/[^\\\d]*/g' <<< '[rest_operations.bash:#get-account-usability-expected]')
  # Check that $output matches the $expected regex. Without unbalanced brackets that confuse grep.
  check_expected_regex_matches_output "$(strip_brackets "$expected")" "$(strip_brackets "$output")" 

Looks like there's something broken in the way expected JSON is compared with actual JSON, because this test was much too lenient.

So I could be wrong about the function that's broken. In this case it is check_expected_regex_matches_output rather than check_json_matches_output.