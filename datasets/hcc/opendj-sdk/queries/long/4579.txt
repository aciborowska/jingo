dsconfig with the --offline option prints a success message before it actually writes the changes to the configuration file. When it cannot write to the configuration file it prints an error message too. So one might end up with a success message and an error message in the same output.

Reproduce case:

cd opendj
chmod 400 config/config.ldif
bin/dsconfig set-log-publisher-prop --publisher-name "File-Based Access Logger" --set enabled:false --offline


You will find in the output: 
 "The File Based Access Log Publisher was modified successfully"
 and
 "FileNotFoundException(/Users/cyril/deploy/opendj/config/config.ldif
 (Permission denied))"

 

There are two things to consider here:

	The success message should be printed after the changes were flushed to the configuration file. 
	We should check that the file is writable before entering the interactive mode to avoid asking the user for inputs that will be lost anyway. 

