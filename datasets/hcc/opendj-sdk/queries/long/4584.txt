When SSL is used with tools, the default trusted CA are not used during the handshake. The effect is that all valid certificates still need to be manually accepted.

Using OpenDJ-2.6.4:

#$ ldapsearch -Z -h forgerock.com -p 443 -w p -D "cn=whatever" -b "whatever" "(objectClass=*)" "(&)"

The server is using the following certificate: 
    Subject DN:  CN=*.forgerock.com
    Issuer DN:  CN=RapidSSL SHA256 CA, O=GeoTrust Inc., C=US
    Validity:  Fri May 06 02:00:00 CEST 2016 through Tue May 07 01:59:59 CEST 2019
Do you wish to trust this certificate and continue connecting to the server?
Please enter "yes" or "no":



The expected behavior is that server certificates issued from trusted authorities should be trusted automatically without prompt.
Like this is the case when the default truststore is manually provided:


#$ ldapsearch -Z -P /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/security/cacerts -W changeit -h forgerock.com -p 443 -w p -D "cn=whatever" -b "cn=whatever" "(objectClass=*)" "(&)"

Cannot read the bind response from the server. The port you are using may require a secured communication (--useSSL). Cannot decode the provided ASN.1 sequence as an LDAP message because the first element of the sequence could not be decoded as an integer message ID:  org.opends.server.protocols.asn1.ASN1Exception: Cannot decode the provided ASN.1 integer element because the length of the element value was not between one and four bytes (actual length was 80) (id=2293807)
Result Code:  84 (Decoding Error)



