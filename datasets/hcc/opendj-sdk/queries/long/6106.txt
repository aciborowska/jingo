Found with rev  15871913657

We set up a replication topology with 2 DSRSs with some data.
Then we either kill or stop a server, perform ldap operations, restart the server.
We follow up the changenumber and make sure changelogs are in sync.
But at some point, we get the following error:


./DJ1/opendj/bin/ldapsearch -h nameserver.example.com -p 1389 -D "cn=myself" -w password -b "cn=changelog"  "(changenumber>=8)" "*" changeinitiatorsname targetentryuuid changelogcookie

dn: changeNumber=8,cn=changelog
objectclass: top
objectclass: changeLogEntry
changeNumber: 8
changes:: cmVwbGFjZTogZGVzY3JpcHRpb24KZGVzY3JpcHRpb246IG1lZGl1bV9jb25zaXN0ZW5jeV9wb2ludF9kZXNjX3N0b3AwCi0KcmVwbGFjZTogbW9kaWZpZXJzTmFtZQptb2RpZmllcnNOYW1lOiBjbj1teXNlbGYKLQpyZXBsYWNlOiBtb2RpZnlUaW1lc3RhbXAKbW9kaWZ5VGltZXN0YW1wOiAyMDE5MDMxNTEwMDA1MVoKLQo=
changeTime: 20190315100051Z
changeType: modify
targetDN: uid=bhall,ou=people,dc=example,dc=com
changeinitiatorsname: cn=myself
changelogcookie: dc=com:0103016980cc10bb000000d1dj1;
targetentryuuid: afa6ec21-1cff-3cf7-aeb2-a25194eec25f

# The LDAP search request failed: 80 (Other)
# Additional Information:  Unexpected: could not find replica update message matching change number index record changeNumber=9 baseDN=dc=com csn=0103016980cc3af3000000e3dj1 (sid=dj1,tsd=Fri Mar 15 11:01:01 CET 2019,ts=1552644061939,seqnum=227), because no more replica update messages with a csn newer than 0103016980cc3af3000000e3dj1 (sid=dj1,tsd=Fri Mar 15 11:01:01 CET 2019,ts=1552644061939,seqnum=227) exist (1).



This is a regression between 4233a9fdfa0 and 15871913657.

Can be reproduced running the following test:


./run-pybot.py -n -v -s replication_group2.ExternalChangelogFailover -t  "Medium Consistency Point Cope With Server Stopped" opendj



and if not, just triggering the whole test suite is showing this problem.

./run-pybot.py -n -v -s replication_group2.ExternalChangelogFailover opendj

