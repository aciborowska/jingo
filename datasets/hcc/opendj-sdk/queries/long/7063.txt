Found using DS 7.0.0-811df5ce22a58995d94ad7f34e6552e9e8b4a8c0

As part of Forgeops we build images on top of ds-empty image with specific profiles.
 So there is a ds-cts image in which we do:

AM_CTS="am-cts"

Select DS profile version
 if [[ ! -z $version ]]; then 
 AM_CTS="${AM_CTS}:${version}"
 fi

setup-profile --profile ${AM_CTS} \
 --set am-cts/tokenExpirationPolicy:ds \
 --set am-cts/amCtsAdminPassword:password


And when we build the image we have a java.nio.file.ProviderNotFoundException: Provider "jar" not found, looks like the setup-profile does not fail anyway:

$ docker build .
Sending build context to Docker daemon  7.168kB
Step 1/8 : FROM gcr.io/forgerock-io/ds-empty/pit1:7.0.0-811df5ce22a58995d94ad7f34e6552e9e8b4a8c0 ---> aa03b808569c
Step 2/8 : USER root ---> Using cache ---> 055e9d72cb0d
Step 3/8 : RUN chown -R forgerock:root /opt/opendj ---> Using cache ---> faca71573e47
Step 4/8 : USER forgerock ---> Using cache ---> d8c0129bc8b4
Step 5/8 : COPY --chown=forgerock:root .  /opt/opendj/ ---> 1af8cc5f028f
Step 6/8 : ARG profile_version ---> Running in f70b70e5a26f
Removing intermediate container f70b70e5a26f ---> ed6b4e2519e3
Step 7/8 : USER forgerock ---> Running in 8220685408d8
Removing intermediate container 8220685408d8 ---> 0196b42297f1
Step 8/8 : RUN bin/setup.sh "$profile_version"  && rm bin/setup.sh ---> Running in ce1525a08f33
java.nio.file.ProviderNotFoundException: Provider "jar" not found
 at java.base/java.nio.file.FileSystems.newFileSystem(Unknown Source)
 at java.base/java.nio.file.FileSystems.newFileSystem(Unknown Source)
 at org.codehaus.groovy.vmplugin.v9.ClassFinder.newFileSystem(ClassFinder.java:158)
 at org.codehaus.groovy.vmplugin.v9.ClassFinder.find(ClassFinder.java:118)
 at org.codehaus.groovy.vmplugin.v9.ClassFinder.find(ClassFinder.java:107)
 at org.codehaus.groovy.vmplugin.v9.Java9.doFindClasses(Java9.java:107)
 at org.codehaus.groovy.vmplugin.v9.Java9.getDefaultImportClasses(Java9.java:89)
 at org.codehaus.groovy.control.ResolveVisitor.<clinit>(ResolveVisitor.java:641)
 at org.codehaus.groovy.runtime.InvokerHelper.<clinit>(InvokerHelper.java:807)
 at groovy.lang.GroovyObjectSupport.getDefaultMetaClass(GroovyObjectSupport.java:44)
 at groovy.lang.GroovyObjectSupport.<init>(GroovyObjectSupport.java:31)
 at groovy.lang.Binding.<init>(Binding.java:36)
 at org.forgerock.opendj.setup.model.Profile.runGroovy(Profile.java:3205)
 at org.forgerock.opendj.setup.model.Profile.loadParameterDefinitions(Profile.java:3081)
 at org.forgerock.opendj.setup.model.Profile.resolveParameterValues(Profile.java:3117)
 at org.forgerock.opendj.setup.cli.ProfileCliUtils.resolveProfilesParameterValues(ProfileCliUtils.java:695)
 at org.forgerock.opendj.setup.cli.ProfileCliUtils.parseProfileFromArguments(ProfileCliUtils.java:637)
 at org.forgerock.opendj.setup.cli.SetupProfileCli.validateProfileArguments(SetupProfileCli.java:291)
 at org.forgerock.opendj.setup.cli.SetupProfileCli.run(SetupProfileCli.java:248)
 at org.forgerock.opendj.setup.cli.SetupProfileCli.run(SetupProfileCli.java:202)
 at com.forgerock.opendj.cli.Utils.runTool(Utils.java:790)
 at com.forgerock.opendj.cli.Utils.runToolAndExit(Utils.java:767)
 at org.forgerock.opendj.setup.cli.SetupProfileCli.main(SetupProfileCli.java:148)
Configuring profile AM CTS data store....... Done
Removing intermediate container ce1525a08f33 ---> 75cc0b395e5e
Successfully built 75cc0b395e5e

