When trying to start up OpenAM in WildFly container the following warning message can be seen:

2017-05-22 09:13:43,398 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0059: Class Path entry metrics-core-3.1.2.jar in /Users/aldaris/wildfly/standalone-1/deployments/openam.war/WEB-INF/lib/opendj-ldap-toolkit-4.0.0.jar  does not point to a valid jar for a Class-Path reference.



This is because opendj-ldap-toolkit-4.0.0.jar depends on metrics-core-3.1.2, whilst AM brings in the metrics-core version from the commons BOM as metrics-core-3.2.2.

Whilst this is absolutely fine - given that AM was updated to refer to commons BOM and we kept on using the same DJ version -, we should make sure that this is resolved for future DJ releases, so that DJ and AM will consistently use the same version of metrics-core.

To achieve this, preferably DJ should be updated to import the metrics-core version from the commons BOM.