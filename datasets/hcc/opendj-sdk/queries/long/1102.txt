If a search request contains an OID in the attribute selection, OpenDJ returns the attribute using the OID instead of the corresponding short name.

The following example requests the "sn" attribute by using its OID 2.5.4.4:

$ ldapsearch -LLL -h localhost -p 1389 -x -b "dc=example,dc=com" 'uid=user.1' 2.5.4.4
dn: uid=user.1,ou=People,dc=example,dc=com
2.5.4.4: Atp



RFC 4511, Section 4.5.2 ("Search Result") says the following about the usage of short names:

If the server's schema defines short names [RFC4512] for an attribute
type, then the server SHOULD use one of those names in attribute
descriptions for that attribute type (in preference to using the
<numericoid> [RFC4512] format of the attribute type's object identifier). [â€¦]



If I am interpreting this clause correctly, OpenDJ's behavior is not correct. Instead of returning the OID, it should return the attribute's short name.

I think that this was introduced by the changes made in https://java.net/jira/browse/OPENDS-3561