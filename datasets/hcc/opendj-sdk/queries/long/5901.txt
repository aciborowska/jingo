Found with rev (56560b7558c)

We set up a server with multiple profiles (hence multiple backends):


./ProfileDJ/opendj/setup directory-server -h nameserver.example.com -p 1391 -D "cn=myself" -w password --adminConnectorPort 4446 -Z 1638 -O --profile am-cts --set am-cts/amCtsAdminPassword:NotSoSecretPassword --profile am-identity-store --set am-identity-store/amIdentityStoreAdminPassword:NotSoSecretPassword --profile idm-repo --profile ds-evaluation --set ds-evaluation/domain:forgerock.fr --monitorUserDn uid=Monitor --monitorUserPassword password



Then we disable the je shared cache and stop/start the server:


./ProfileDJ/opendj/bin/dsconfig -h nameserver.example.com -p 4446 -D "cn=myself" -w password -X set-global-configuration-prop --set "je-backend-shared-cache-enabled:false" --advanced -n

./ProfileDJ/opendj/bin/stop-ds
./ProfileDJ/opendj/bin/start-ds 	

[08/Jan/2019:14:32:06 +0100] category=CORE severity=NOTICE msgID=134 msg=ForgeRock Directory Services 7.0.0-SNAPSHOT (build 20190108011352, revision number 56560b7558c02fcba0b9d645cceab2fea46a8c99) starting up
[08/Jan/2019:14:32:06 +0100] category=JVM severity=NOTICE msgID=21 msg=Installation Directory:  /local/GIT/pyforge/results/20190108-143043/backends_group/GlobalConfigurationSettings/ProfileDJ/opendj
[08/Jan/2019:14:32:06 +0100] category=JVM severity=NOTICE msgID=23 msg=Instance Directory:      /local/GIT/pyforge/results/20190108-143043/backends_group/GlobalConfigurationSettings/ProfileDJ/opendj
[08/Jan/2019:14:32:06 +0100] category=JVM severity=NOTICE msgID=17 msg=JVM Information: 1.8.0_151-b12 by Oracle Corporation, 64-bit architecture, 3717201920 bytes heap size
[08/Jan/2019:14:32:06 +0100] category=JVM severity=NOTICE msgID=18 msg=JVM Host: cforel-Dell-Precision-M3800, running Linux 4.4.0-21-generic amd64, 16725336064 bytes physical memory size, number of processors available 8
[08/Jan/2019:14:32:06 +0100] category=JVM severity=NOTICE msgID=19 msg=JVM Arguments: "-XX:+PrintGCDateStamps", "-Xloggc:/local/GIT/pyforge/results/20190108-143043/backends_group/GlobalConfigurationSettings/ProfileDJ/opendj/logs/GCDetails_ProfileDJ", "-XX:+PrintGCDetails", "-Dorg.opends.server.scriptName=start-ds"
[08/Jan/2019:14:32:07 +0100] category=BACKEND severity=NOTICE msgID=513 msg=The database backend amCts containing 5 entries has started
[08/Jan/2019:14:32:07 +0100] category=BACKEND severity=NOTICE msgID=513 msg=The database backend idmRepo containing 36 entries has started
[08/Jan/2019:14:32:08 +0100] category=CONFIG severity=ERROR msgID=116 msg=An error occurred while trying to initialize a backend loaded from class org.opends.server.backends.jeb.JEBackend with the information in configuration entry ds-cfg-backend-id=dsEvaluation,cn=Backends,cn=config: Configuration attribute ds-cfg-db-cache-percent has a value of 50% but the JVM has only 0% available. This backend will be disabled
[08/Jan/2019:14:32:08 +0100] category=CONFIG severity=ERROR msgID=116 msg=An error occurred while trying to initialize a backend loaded from class org.opends.server.backends.jeb.JEBackend with the information in configuration entry ds-cfg-backend-id=amIdentityStore,cn=Backends,cn=config: Configuration attribute ds-cfg-db-cache-percent has a value of 50% but the JVM has only 0% available. This backend will be disabled
[08/Jan/2019:14:32:08 +0100] category=EXTENSIONS severity=NOTICE msgID=221 msg=DIGEST-MD5 SASL mechanism using a server fully qualified domain name of: nameserver.example.com
[08/Jan/2019:14:32:08 +0100] category=PROTOCOL severity=NOTICE msgID=276 msg=Started listening for new connections on Administration Connector 0.0.0.0 port 4446
[08/Jan/2019:14:32:08 +0100] category=PROTOCOL severity=NOTICE msgID=276 msg=Started listening for new connections on LDAP 0.0.0.0 port 1391
[08/Jan/2019:14:32:08 +0100] category=PROTOCOL severity=NOTICE msgID=276 msg=Started listening for new connections on LDAPS 0.0.0.0 port 1638
[08/Jan/2019:14:32:08 +0100] category=CORE severity=NOTICE msgID=135 msg=The Directory Server has started successfully
[08/Jan/2019:14:32:08 +0100] category=CORE severity=NOTICE msgID=139 msg=The Directory Server has sent an alert notification generated by class org.opends.server.core.DirectoryServer (alert type org.opends.server.DirectoryServerStarted, alert ID org.opends.messages.core-135): The Directory Server has started successfully



There are errors showing up as the db-cache-percent default value is 50 and we reach the memory available for the jvm. Some backends are disabled.
But the server starts.

This does not look consistent.

Either we log these issues as warning and start the server.
Or we keep the error message and do not start the server.
With a preference for second option as the admin might miss the message.

What do you think?