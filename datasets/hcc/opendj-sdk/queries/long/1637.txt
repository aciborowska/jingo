Found using OpenDJ 3.0.0 dev branch (revision 11303).

I upgraded a server from version 2.4.5 to 3.0.0 and the upgrade worked fine:

$ ./upgrade -n
...
>>>> OpenDJ was successfully upgraded from version 2.4.5.7743 to 3.0.0.11303
...



After I tried to restart the server and I got the following error (java.lang.ClassNotFoundException: org.opends.server.replication.plugin.HistoricalCsnOrderingMatchingRule):

$ ./start-ds
[14/Nov/2014:17:14:35 +0100] category=ADMIN severity=NOTICE msgID=messages.extension.571 msg=Loaded extension from file '/tmp/opendj-basic-inst1/OpenDJ-2.4.5/lib/extensions/snmp-mib2605.jar' (build 3.0.0-20141113, revision 11303)
[14/Nov/2014:17:14:35 +0100] category=CORE severity=NOTICE msgID=messages.core.134 msg=OpenDJ 3.0.0-20141113 (build 20141113190717Z, R11303) starting up
[14/Nov/2014:17:14:35 +0100] category=SCHEMA severity=ERROR msgID=null.-1 msg=Error when adding a collation matching rule with oid 1.3.6.1.4.1.42.2.27.9.4.85.1, tag he: No matching rule with name or OID "1.3.6.1.4.1.42.2.27.9.4.85.1.1" exists in the schema
[14/Nov/2014:17:14:37 +0100] category=UTIL severity=NOTICE msgID=messages.runtime_information.21 msg=Installation Directory:  /tmp/opendj-basic-inst1/OpenDJ-2.4.5
[14/Nov/2014:17:14:37 +0100] category=UTIL severity=NOTICE msgID=messages.runtime_information.23 msg=Instance Directory:      /tmp//opendj-basic-inst1/OpenDJ-2.4.5
[14/Nov/2014:17:14:37 +0100] category=UTIL severity=NOTICE msgID=messages.runtime_information.17 msg=JVM Information: 1.7.0_51-b13 by Oracle Corporation, 64-bit architecture, 1847590912 bytes heap size
[14/Nov/2014:17:14:37 +0100] category=UTIL severity=NOTICE msgID=messages.runtime_information.18 msg=JVM Host: localhost, running Linux 3.13.0-39-generic amd64, 8310095872 bytes physical memory size, number of processors available 4
[14/Nov/2014:17:14:37 +0100] category=UTIL severity=NOTICE msgID=messages.runtime_information.19 msg=JVM Arguments: "-Dorg.opends.server.scriptName=start-ds"
[14/Nov/2014:17:14:38 +0100] category=CORE severity=ERROR msgID=messages.config.116 msg=An error occurred while trying to initialize a backend loaded from class org.opends.server.backends.jeb.BackendImpl with the information in configuration entry ds-cfg-backend-id=userRoot,cn=Backends,cn=config: InitializationException: The database environment could not be opened: (JE 5.0.104) java.lang.ClassNotFoundException: org.opends.server.replication.plugin.HistoricalCsnOrderingMatchingRule UNEXPECTED_EXCEPTION: Unexpected internal Exception, may have side effects. fetchTarget of 0x0/0x170a parent IN=5 IN class=com.sleepycat.je.tree.BIN lastFullVersion=0x0/0xa9e5 lastLoggedVersion=0x0/0xa9e5 parent.getDirty()=false state=0 (BackendImpl.java:1283 BackendImpl.java:220 BackendConfigManager.java:1033 BackendConfigManager.java:234 DirectoryServer.java:2107 DirectoryServer.java:1558 DirectoryServer.java:8316). This backend will be disabled
[14/Nov/2014:17:14:38 +0100] category=EXTENSIONS severity=NOTICE msgID=messages.extension.221 msg=DIGEST-MD5 SASL mechanism using a server fully qualified domain name of: localhost
[14/Nov/2014:17:14:38 +0100] category=CORE severity=NOTICE msgID=messages.core.139 msg=The Directory Server has sent an alert notification generated by class org.opends.server.core.DirectoryServer (alert type org.opends.server.DirectoryServerShutdown, alert ID messages.core-141): The Directory Server has started the shutdown process. The shutdown was initiated by an instance of class org.opends.server.core.DirectoryServer and the reason provided for the shutdown was An error occurred while trying to start the Directory Server: An error occurred while trying to decode the managed object configuration entry cn=Network Group,cn=Plugins,cn=config: ServerManagedObjectDecodingException: The Plugin could not be decoded due to the following reason: The value "org.opends.server.core.networkgroups.NetworkGroupPlugin" is not a valid value for the "java-class" property, which must have the following syntax: CLASS <= org.opends.server.api.plugin.DirectoryServerPlugin (ServerManagementContext.java:825 ServerManagementContext.java:760 ServerManagementContext.java:453 ServerManagedObject.java:487 PluginRootCfgDefn.java:3857 PluginConfigManager.java:282 DirectoryServer.java:1584 DirectoryServer.java:8316) The Plugin could not be decoded due to the following reason: The value "org.opends.server.core.networkgroups.NetworkGroupPlugin" is not a valid value for the "java-class" property, which must have the following syntax: CLASS <= org.opends.server.api.plugin.DirectoryServerPlugin
[14/Nov/2014:17:14:38 +0100] category=CORE severity=NOTICE msgID=messages.core.203 msg=The Directory Server is now stopped



=> script in attachment to reproduce the problem