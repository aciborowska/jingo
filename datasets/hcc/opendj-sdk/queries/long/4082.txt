When you setup a replication topology with two suffixes, and disable the external changelog for one of them, no changes are visible in the changelog until you re-enable it. Not even changes made on the suffix with ECL enabled.
Steps to reproduce:

1) Setup two DJs

2) Add second suffix to each of them


./bin/dsconfig \
-h localhost \
-p 4444 -D "cn=Directory Manager" \
-w password -X \
set-backend-prop \
--backend-name userRoot \
--add base-dn:dc=othersuffix -n

./bin/dsconfig \
-h localhost \
-p 5444 -D "cn=Directory Manager" \
-w password -X \
set-backend-prop \
--backend-name userRoot \
--add base-dn:dc=othersuffix -n


3) Enable/Initialize replication for both suffixes:


./bin/dsreplication configure \
--host1 localhost \
--port1 4444 \
--bindDN1 "cn=Directory Manager" \
--bindPassword1 "password" \
--replicationPort1 8989 \
--host2 localhost \
--port2 5444 \
--bindDN2 "cn=Directory Manager" \
--bindPassword2 "password" \
--replicationPort2 8990 \
-b dc=example,dc=com \
-b dc=othersuffix \
-I admin \
-w password \
-X -n

./bin/dsreplication initialize \
-h localhost \
-p 4444 \
--hostDestination localhost \
--portDestination 5444 \
-b dc=example,dc=com \
-b dc=othersuffix \
-I admin \
-w password \
-X -n


4) Disable ECL for dc=othersuffix


./bin/dsconfig \
-h localhost \
-p 4444 \
-D "cn=Directory Manager" \
-w password -X \
set-external-changelog-domain-prop \
--provider-name "Multimaster Synchronization" \
--domain-name dc=othersuffix \
--set enabled:false -n


5) Make some changes on both of the suffixes

6) Search for changes in the cn=changelog


./bin/ldapsearch \
-h localhost \
-p 1389 \
-D "cn=Directory Manager" \
-w password \
-b "cn=changelog" "(&)"


 
Expected behavior:

Only the changes on dc=othersuffix should be missing, but all changes made on dc=example,dc=com should be visible
Current behavior:

There are no changes in the ldapsearch result. The changes only appear after re-enabling the ECL for dc=othersuffix