When the issue https://bugster.forgerock.org/jira/browse/OPENDJ-168 was fixed, we introduced a min-character-set property to allow express things like 3 out of 4 character sets.
However, if an administrator wants to force specific mandatory ones, and a single optional one, the server is rejecting the configuration.
Furthermore, if min-character-set is not defined, the server assumes that the password should have characters from at least one optional set (if there's one).

We need to relax these constraints and properly allow policies like at least 3 out of 4 sets, but also, those 3 sets and optionally from a 4th one.

This problem was mentioned in the initial issue (OPENDJ-168) but also reported recently on the mailing list.