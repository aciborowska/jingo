With OpenDJ-3.0.0 rev d127499b88dfe2d53370025b5d1de485ac6786d5:

We have a stress test which consists in setting up a DS/RS topology with  null backend type.

It installs a DS/RS, creates local-db backends on both server then enables replication. 
Afterwards, it deletes these local-db backends and create null type backends.

Then it creates a first entry in DS backend and checks this entry appears in the changelog.

While creating the entry on the first instance:

./bin/ldapmodify -h localhost -p 1390 -D "cn=Directory Manager" -w password -a <<END_OF_COMMAND_INPUT
dn: dc=example,dc=com
objectclass: domain

END_OF_COMMAND_INPUT



we get an error in second instance logs:


05/Oct/2015:17:34:11 +0200] category=SYNC severity=ERROR msgID=org.opends.messages.replication.75 msg=An unexpected error occurred when searching in dc=example,dc=com for the generation ID : IndexOutOfBoundsException: Index: 0, Size: 0 (LinkedList.java:553 LinkedList.java:474 LDAPReplicationDomain.java:3282 LDAPReplicationDomain.java:3139 LDAPReplicationDomain.java:3154 LDAPReplicationDomain.java:207 BackendConfigManager.java:832 BackendConfigManager.java:70 ServerManagedObjectAddListenerAdaptor.java:69 ConfigAddListenerAdaptor.java:173 ConfigFileHandler.java:993 LocalBackendAddOperation.java:473 LocalBackendAddOperation.java:173 LocalBackendWorkflowElement.java:737 LocalBackendWorkflowElement.java:1024 LocalBackendWorkflowElement.java:895 AddOperationBasis.java:506 SynchronousStrategy.java:48 LDAPClientConnection.java:1244 LDAPClientConnection.java:1801 LDAPClientConnection.java:1641 ...)



and this entry is not logged in the changelog.

Find the script to reproduce this scenario in attachment.

The last time it has worked was with OpenDJ 3.0.0(rev 12788).

Is this null backend-type still supported?




