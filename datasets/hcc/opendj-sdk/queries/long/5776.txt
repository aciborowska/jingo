Found with 7.0.0 rev 1a945417d53

We have a test that sets up 2 DJs with data replicated.
We set up the purge delay to be 120s
We add 5 entries to fill one file: 4 entries (0->3) and get the changelog cookie value.
we wait for the purge delay then add another 6 entries that should fill a second file.
Then we perform a ldapsearch on changelog with the first cookie value that should be outdated and expect to have a RC=53 but we do not:


./DJ1/opendj/bin/ldapsearch -h nameserver.example.com -p 1389 -D "cn=Directory Manager" -w password -b "cn=changelog" --control "1.3.6.1.4.1.26027.1.5.4:false:dc=com:010101677e9876f00000003d1;" "(objectclass=*)" "*" changeinitiatorsname targetentryuuid changelogcookie 	

dn: cn=changelog
objectclass: top
objectclass: container
cn: changelog



Then if we perform a psearch, it fails with a NullPointerException:


/DJ1/opendj/bin/ldapsearch -p 1389 -D "cn=Directory Manager"  -w password -b "cn=changelog" -C ps:all:false "(changenumber>=0)" 
# The LDAP search request failed: 80 (Other)
# Additional Information:  An unexpected error was encountered while processing a search in one of the Directory Server backends: NullPointerException(ChangelogBackend.java:932)



This is a regression, it was working fine with rev (cece3a2af12)

To reproduce:

./run-pybot.py  -n -s replication_group2.ExternalChangelogPsearch -t Persistent_Search_With_Outdated_Cookie -t Persistent_Search_With_Invalid_Changenumber opendj

