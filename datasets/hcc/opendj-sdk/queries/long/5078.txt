Found with rev 130bef2d97f

(dsml in apache tomcat 7.0.79)

Post to dsml servlet triggers an internal server error:


...
</head><body><h1>HTTP Status 500 - There was no provider of type 'org.forgerock.opendj.ldap.spi.TransportProvider' available.</h1><HR size="1" noshade="noshade"><p><b>type</b> Exception report</p><p><b>message</b> <u>There was no provider of type 'org.forgerock.opendj.ldap.spi.TransportProvider' available.</u></p><p><b>description</b> <u>The server encountered an internal error that prevented it from fulfilling this request.</u></p><p><b>exception</b> <pre>javax.servlet.ServletException: There was no provider of type 'org.forgerock.opendj.ldap.spi.TransportProvider' available.
	org.opends.dsml.protocol.DSMLServlet.init(DSMLServlet.java:214)
	org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:506)
	org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:962)
	org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)
	org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)
	org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)
	org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	java.lang.Thread.run(Thread.java:748)

 

It is a regression.
Test to reproduce:


./run-pybot.py -n -s dsml_group.01Version opendj

