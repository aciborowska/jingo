Found in revision 12388.

Scenario:
************
1. install 2 instances, enable replication
2. set purge delay to 60s
3. add base entry + 6 entries (with jpeg photo to fill one changelog file)
4. check number of entries in the changelog 
=> 6 as expected
5. wait for purge delay
6. check number of entries in the changelog 
=> 6 as expected

But if I run the same scenario with a purge delay set to 30s, I have only 1 entry left in the changelog.

In attachment a script to reproduce this (with purge delay set to 60s, update the PURGE_DELAY variable at the beginning of the script).