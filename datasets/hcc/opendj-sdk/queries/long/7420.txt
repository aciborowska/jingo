The test creates 5 managed roles with assignment that add user to LDAP group, then generates 60K managed users, each user has one of the five roles, then IDM recon from IDM to DS is run to reconcile the users to an external DS.

It's noticed from multiple runs that the recon throughput with IDM 7.0.0-final and DS 7.0.0-final is 65 users/second. However with IDM 7.0.0-final and DS 6.5.2, the throughput from the same test is 105 users/second. It's about 38% drop.

To reproduce the issue using Pyforge using the config attached, run the following test:


./run-pybot.py  -c stress -s idm.regular_recon.ReconManUsersWithRolesToLDAP OpenIDM

and the recon progress is in the Pyforge debug.txt file.

Note: I used MySQL as IDM repo for the test.

Attached DS jstack traces.

 