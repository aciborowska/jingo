During the review of the 6.5.3 release notes draft we concluded that the current text would likely not stop any customers raising support tickets relating to the use of the HSM with the ads-truststore.

Clearly the goal is to have the HSM contain the same structure of keys and trusted certificates as the usual JKS implementation. We know that under some conditions DJ will not be able to create the correct structure due to limitations in the PKCS#11 implementation (link to the JCE docs?) and thus manual setup will be required using HSM-specific tools.

This could also mean it will be difficult to add new DJ instances to a replication topology, which we should definitely note.

Perhaps we could suggest that before deploying a solution using an HSM, the admins should get it working using a JKS first and then migrate (or reproduce) the keys+certs into the HSM.