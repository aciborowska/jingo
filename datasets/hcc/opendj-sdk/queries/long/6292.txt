Found with 7.0.0 rev 65627279768

If we set up aliases to 127.0.0.1 in /etc/hosts such as openam.example.com:


cat /etc/hosts
127.0.0.1 localhost www.example.com openig.example.com app.example.com openam.example.com
...



Then use this alias as the hostname in setup of djs and replication configuration, it fails when initializing replication:


/local/GIT/pyforge/results/20190516-150752/sample_group/DJ1/opendj/bin/dsreplication initialize-all -h openam.example.com -p 4447 -b dc=mysuffix -I admin -w password  -X -n 	
15:08:59.693 	WARN 	ERROR:
-- rc --
returned 12, expected to be in [0]
-- stdout --

Initializing base DN dc=mysuffix with the contents from
openam.example.com:4447:

-- stderr --

Error during the initialization with contents from server
openam.example.com:4447. Last log details: [16/May/2019:15:08:58 +0200]
severity="NOTICE" msgCount=0 msgID=org.opends.messages.backend-413
message="Initialize Backend task dsreplication-initialize-1 started
execution". Task state: STOPPED_BY_ERROR. Check the error logs of
openam.example.com:4447 for more information.
See /tmp/opendj-replication-8810439875611077830.log for a detailed log of this
operation.
Details: com.forgerock.opendj.cli.ClientException: Error during the
initialization with contents from server openam.example.com:4447. Last log
details: [16/May/2019:15:08:58 +0200] severity="NOTICE" msgCount=0
msgID=org.opends.messages.backend-413 message="Initialize Backend task
dsreplication-initialize-1 started execution". Task state: STOPPED_BY_ERROR.
Check the error logs of openam.example.com:4447 for more information.

Error in logs:
[ WARN ] (ERROR) [16/May/2019:15:08:53 +0200] category=SYNC severity=ERROR msgID=335 msg=Domain cn=admin data: the server with serverId=dj1 is unreachable in Replication Server=Replication Server 8993 dj2, unroutable message of type InitializeRequestMsg. Details: routing table is empty
[ WARN ] (ERROR) [16/May/2019:15:08:55 +0200] category=SYNC severity=ERROR msgID=335 msg=Domain cn=schema: the server with serverId=dj1 is unreachable in Replication Server=Replication Server 8993 dj2, unroutable message of type InitializeRequestMsg. Details: routing table is empty
[ WARN ] (ERROR) [16/May/2019:15:08:53 +0200] category=SYNC severity=ERROR msgID=335 msg=Domain cn=admin data: the server with serverId=dj1 is unreachable in Replication Server=Replication Server 8993 dj2, unroutable message of type InitializeRequestMsg. Details: routing table is empty
[ WARN ] (ERROR) [16/May/2019:15:08:55 +0200] category=SYNC severity=ERROR msgID=335 msg=Domain cn=schema: the server with serverId=dj1 is unreachable in Replication Server=Replication Server 8993 dj2, unroutable message of type InitializeRequestMsg. Details: routing table is empty
[ WARN ] (ERROR) [16/May/2019:15:08:58 +0200] category=BACKEND severity=ERROR msgID=99 msg=An error occurred while executing the task defined in entry ds-task-id=dsreplication-initialize-1,cn=Scheduled Tasks,cn=Tasks:  LdapException: Unwilling to Perform: Cannot start total update in domain "dc=mysuffix" from this directory server DS(dj1): no remote directory servers found (LdapException.java:253 LdapException.java:143 LdapException.java:112 LdapException.java:70 ReplicationDomain.java:1205 LDAPReplicationDomain.java:1169 ReplicationDomain.java:1170 InitializeTargetTask.java:88 Task.java:759 TaskThread.java:137)




To reproduce, modify /etc/hosts to add openam.example.com as hostname for 127.0.0.1 then in config.cfg, set


 [Default]
...
host_name = openam.example.com



and run:

./run-pybot.py -n -s sample_group opendj

