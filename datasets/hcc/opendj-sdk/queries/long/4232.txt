pyforge stress test : proxy modrate

 

Topology : 1 proxy, 2 DJ

 

Problem : at the end of test, during the cleanup, the test successfully stops the proxy and then stoping DJ2 raise a java exception

 

 


DJPROXY/opendj/bin/stop-ds
SUCCESS: -- rc -- returned 0, expected 0 -- stdout -- Stopping Server... [15/Aug/2017:17:55:57 +0200] category=CORE severity=ERROR msgID=140 msg=An uncaught exception during processing for thread Replica DS(19862) listener for domain "o=example" has caused it to terminate abnormally. The stack trace for that exception is: ArrayIndexOutOfBoundsException: -1873019400 (UpdateReplayThreadPool.java:155 UpdateReplayThreadPool.java:170 LDAPReplicationDomain.java:3438 ReplicationDomain.java:716 ReplicationDomain.java:2479 Thread.java:748) [15/Aug/2017:17:55:57 +0200] category=CORE severity=NOTICE msgID=139 msg=The Directory Server has sent an alert notification generated by class org.opends.server.api.DirectoryThread (alert type org.opends.server.UncaughtException, alert ID org.opends.messages.core-140): An uncaught exception during processing for thread Replica DS(19862) listener for domain "o=example" has caused it to terminate abnormally. The stack trace for that exception is: ArrayIndexOutOfBoundsException: -1873019400 (UpdateReplayThreadPool.java:155 UpdateReplayThreadPool.java:170 LDAPReplicationDomain.java:3438 ReplicationDomain.java:716 ReplicationDomain.java:2479 Thread.java:748) [15/Aug/2017:17:56:02 +0200] category=BACKEND severity=NOTICE msgID=370 msg=The backend userRoot is now taken offline [15/Aug/2017:17:56:02 +0200] category=CORE severity=NOTICE msgID=203 msg=The Directory Server is now stopped
 


 

jenkins location :

http://jenkins-gnb.internal.forgerock.com:8080/view/OpenDJ%20Stress/job/OpenDJ-4.1.0/job/OpenDJ-Stress-Tests-JE-Proxy-Modrate/

 

Daily results status : failed on 11, 14 and 15 august

15 august : DJ build id : 4.1.0-SNAPSHOT (44f96afed3c)

 

 