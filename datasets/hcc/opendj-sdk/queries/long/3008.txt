

ObjectClass oc = ...; // get an ObjectClass some way

assertThat(oc.getOptionalAttributes()).isNotEmpty();

ObjectClass copiedOC = new SchemaBuilder(schema)
    .addObjectClass(oc.toString(), true)
    .toSchema()
    .getObjectClass(oc.getNameOrOID());

assertThat(oc.getOptionalAttributes()).isNotEmpty(); // FAILS, but it should NOT!

