When running a query from shown in the Server Dev Guide with OpenDJ built today from the master branch, I get an HTML page from Grizzly as a result.


curl \
 --user kvaughan:bribery \
 'http://opendj.example.com:8080/users?_queryFilter=userName+eq+"bjensen@example.com"'
<html><head><title>Grizzly 2.3.14</title><style><!--div.header {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#003300;font-size:22px;-moz-border-radius-topleft: 10px;border-top-left-radius: 10px;-moz-border-radius-topright: 10px;border-top-right-radius: 10px;padding-left: 5px}div.body {font-family:Tahoma,Arial,sans-serif;color:black;background-color:#FFFFCC;font-size:16px;padding-top:10px;padding-bottom:10px;padding-left:10px}div.footer {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#666633;font-size:14px;-moz-border-radius-bottomleft: 10px;border-bottom-left-radius: 10px;-moz-border-radius-bottomright: 10px;border-bottom-right-radius: 10px;padding-left: 5px}BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;}B {font-family:Tahoma,Arial,sans-serif;color:black;}A {color : black;}HR {color : #999966;}--></style> </head><body><div class="header">Internal Error</div><div class="body"><b>javax.servlet.ServletException: java.net.URISyntaxException: Illegal character in query at index 62: http://opendj.example.com:8080/users?_queryFilter=userName+eq+"bjensen@example.com"</b><pre>     1: org.glassfish.grizzly.servlet.FilterChainImpl.doFilter(FilterChainImpl.java:151)
     2: org.glassfish.grizzly.servlet.FilterChainImpl.invokeFilterChain(FilterChainImpl.java:106)
     3: org.glassfish.grizzly.servlet.ServletHandler.doServletService(ServletHandler.java:221)
     4: org.glassfish.grizzly.servlet.ServletHandler.service(ServletHandler.java:169)
     5: org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:201)
     6: org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:175)
     7: org.glassfish.grizzly.http.server.HttpHandlerChain.doHandle(HttpHandlerChain.java:223)
     8: org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)
     9: org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
    10: org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
        ... 15 more</pre><b>Root Cause: java.net.URISyntaxException: Illegal character in query at index 62: http://opendj.example.com:8080/users?_queryFilter=userName+eq+"bjensen@example.com"</b><pre>     1: java.net.URI$Parser.fail(URI.java:2848)
     2: java.net.URI$Parser.checkChars(URI.java:3021)
     3: java.net.URI$Parser.parseHierarchical(URI.java:3111)
     4: java.net.URI$Parser.parse(URI.java:3053)
     5: java.net.URI.<init>(URI.java:588)
     6: org.forgerock.http.util.Uris.create(Uris.java:78)
     7: org.forgerock.http.servlet.HttpFrameworkServlet.createRequest(HttpFrameworkServlet.java:260)
     8: org.forgerock.http.servlet.HttpFrameworkServlet.service(HttpFrameworkServlet.java:187)
     9: javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
    10: org.glassfish.grizzly.servlet.FilterChainImpl.doFilter(FilterChainImpl.java:147)
        ... 24 more</pre>Please see the log for more detail.</div><div class="footer">Grizzly 2.3.14</div></body></html>

