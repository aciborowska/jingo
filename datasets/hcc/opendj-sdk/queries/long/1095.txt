Virtual static groups work properly if 10 or less groups exist in the schema. If more than 10 exists, membership queries to virtual static groups silently and completely fail.

Attached is the ldif for a simple schema, with three main ou groupings: users, roles, and groups. Entries in the users group contain a businessCategory attribute, which serves as the basis for the other two groups.

Groups contains dynamic group definitions. Each contains rules based on the user's businessCategory. The roles grouping contains virtual static groups matching each dynamic groups, allowing membership searches by client connections.

In the attached ldif, there are 13 groups (dynamic groups) defined, but only 10 roles (virtual static groups). The attached access log snippets shows that membership searches with this schema return the correct number of roles, 7 of 10 for the user 'trainer' (passwords match cn).

However, this behavior changes if an 11th virtual static group is created. For example, defining an Employee virtual static group in roles and assigning it to the employee dynamic group (cn=employee,ou=groups,dc=vitalsmarts), membership searches now return 0 role memberships. OpenDJ acts as though the search was completed properly, and there were no results to the search, which is also captured in the access log snippet.

Please let me know if more information is required, or if there is a workaround to support this problem I have encountered.