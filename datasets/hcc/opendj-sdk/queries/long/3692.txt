In the non-regression tests for examples in the docs, I'm seeing a failure when trying to set the ssl-protocol for the LDAPS connection handler to TLSv1.2:


dsconfig \
 set-connection-handler-prop \
 --hostname opendj.example.com \
 --port 4444 \
 --bindDN "cn=Directory Manager" \
 --bindPassword password \
 --handler-name "LDAPS Connection Handler" \
 --add ssl-protocol:TLSv1.2 \
 --add ssl-cipher-suite:TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 \
 --add ssl-cipher-suite:TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 \
 --add ssl-cipher-suite:TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 \
 --add ssl-cipher-suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 \
 --add ssl-cipher-suite:TLS_EMPTY_RENEGOTIATION_INFO_SCSV \
 --no-prompt \
 --trustAll

The LDAP Connection Handler could not be modified because of the following
reason:

    *  Unwilling to Perform: Entry cn=LDAPS Connection Handler,cn=connection
       handlers,cn=config cannot be modified because one of the configuration
       change listeners registered for that entry rejected the change: An error
       occurred while trying to initialize a connection handler loaded from
       class org.opends.server.protocols.ldap.LDAPConnectionHandler with the
       information in configuration entry cn=LDAPS Connection
       Handler,cn=connection handlers,cn=config: IllegalArgumentException:
       Unsupported ciphersuite TLSv1.2 (CipherSuite.java:237
       CipherSuiteList.java:82 SSLEngineImpl.java:2038 SslOptions.java:218
       LDAPConnectionHandler.java:496 ConnectionHandlerConfigManager.java:309
       ConnectionHandlerConfigManager.java:261
       ConnectionHandlerConfigManager.java:49
       ServerManagedObjectChangeListenerAdaptor.java:66
       ConfigChangeListenerAdaptor.java:341
       ConfigChangeListenerAdaptor.java:302 ConfigurationHandler.java:622
       ConfigurationBackend.java:479 LocalBackendModifyOperation.java:492
       LocalBackendModifyOperation.java:279
       LocalBackendWorkflowElement.java:621
       LocalBackendWorkflowElement.java:744 ModifyOperationBasis.java:357
       SynchronousStrategy.java:39 LdapClientConnection.java:645
       LdapClientConnection.java:1127 ...). This connection handler will be
       disabled



A nearly identical command for the LDAP (cleartext) connection handler seems to work fine. This example was working as recently as last week. The draft doc is https://ea.forgerock.com/docs/opendj/doc/bootstrap/security-guide/index.html#tls-restrict-protocols-and-cipher-suites.