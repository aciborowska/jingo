Installing today's snapshot, based on revision 3dc1477efa844a86555e01e292faa9b5a85399a3 [3dc1477], with default 20 sample users.

It turns out that I have less than 6% of free disk space on my laptop.

The setup tool doesn't raise any message: 


$ ./setup directory-server -b "dc=example,dc=com" -d 20 -h `uname -n` -p 1389 --adminConnectorPort 4444 -D "cn=Directory Manager" -w "secret12" -q -Z 1636 --httpPort 8443
Validating parameters..... Done
Configuring certificates..... Done
Configuring server..... Done
Importing automatically-generated data (20 entries)......... Done
Starting directory server.................... Done
To see basic server status and configuration, you can launch
/Space/Tests/Scratch/opendj/bin/status 


Now I want to modify an entry, actually, deleting an attribute value that doesn't exist:

 


$ ldapmodify -D cn=directory\ manager -w secret12 -p 1389
dn: uid=user.0,ou=people,dc=example,dc=com
changetype: modify
delete: description
description: foo
-
#Processing MODIFY request for uid=user.0,ou=people,dc=example,dc=com
$ echo $?
255


There is no error reported by ldapmodify, except that the return code is not 0.

Looking at the logs/errors file, we can see that:

First, when starting up, the server reported disk full and updates will be blocked (yet, this was not reported to the user installing the server).

[09/Nov/2017:14:47:57 +0100] category=CORE severity=NOTICE msgID=139 msg=The Directory Server has sent an alert notification generated by class org.opends.server.extensions.DiskSpaceMonitor (alert type This alert type will be used to provide notification that the free disk space has reached the full threshold., alert ID org.opends.messages.core-750): The disk containing directory / used by cn=userRoot is full (32769204224 bytes free). Write operations to the backend, replication updates included, will fail until the free space rises above the threshold

But then, when doing a Modify operations there are several exceptions thrown:

[09/Nov/2017:14:47:59 +0100] category=CORE severity=NOTICE msgID=139 msg=The Directory Server has sent an alert notification generated by class org.opends.server.core.DirectoryServer (alert type org.opends.server.DirectoryServerStarted, alert ID org.opends.messages.core-135): The Directory Server has started successfully
[09/Nov/2017:14:47:59 +0100] category=PROTOCOL severity=NOTICE msgID=276 msg=Started listening for new connections on HTTP Connection Handler 0.0.0.0 port 8443
[09/Nov/2017:14:54:10 +0100] category=CORE severity=ERROR msgID=108 msg=Worker Thread 7 encountered an uncaught exception while processing operation ModifyOperation(connID=1, opID=1, dn=uid=user.0,ou=people,dc=example,dc=com): NullPointerException (RootContainer.java:456 BackendImpl.java:121 BackendImpl.java:382 ModifyOperation.java:548 ModifyOperation.java:472 ModifyOperation.java:390 TraditionalWorkerThread.java:122)
[09/Nov/2017:14:54:10 +0100] category=CORE severity=ERROR msgID=140 msg=An uncaught exception during processing for thread Worker Thread 7 has caused it to terminate abnormally. The stack trace for that exception is: UndeliverableException: org.forgerock.opendj.ldap.LdapException: Other: Worker Thread 7 encountered an uncaught exception while processing operation ModifyOperation(connID=1, opID=1, dn=uid=user.0,ou=people,dc=example,dc=com): NullPointerException (RootContainer.java:456 BackendImpl.java:121 BackendImpl.java:382 ModifyOperation.java:548 ModifyOperation.java:472 ModifyOperation.java:390 TraditionalWorkerThread.java:122) (RxJavaPlugins.java:349 FlowableCreate.java:133 ReactiveHandlersUtils.java:404 LdapClientConnection.java:352 TraditionalWorkerThread.java:141)
[09/Nov/2017:14:54:10 +0100] category=CORE severity=NOTICE msgID=139 msg=The Directory Server has sent an alert notification generated by class org.opends.server.api.DirectoryThread (alert type org.opends.server.UncaughtException, alert ID org.opends.messages.core-140): An uncaught exception during processing for thread Worker Thread 7 has caused it to terminate abnormally. The stack trace for that exception is: UndeliverableException: org.forgerock.opendj.ldap.LdapException: Other: Worker Thread 7 encountered an uncaught exception while processing operation ModifyOperation(connID=1, opID=1, dn=uid=user.0,ou=people,dc=example,dc=com): NullPointerException (RootContainer.java:456 BackendImpl.java:121 BackendImpl.java:382 ModifyOperation.java:548 ModifyOperation.java:472 ModifyOperation.java:390 TraditionalWorkerThread.java:122) (RxJavaPlugins.java:349 FlowableCreate.java:133 ReactiveHandlersUtils.java:404 LdapClientConnection.java:352 TraditionalWorkerThread.java:141)
