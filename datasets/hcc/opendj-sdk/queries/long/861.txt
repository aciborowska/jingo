It looks like the etag is being computed over the content of the filtered entry to be returned. For example:


	read the initial etag:

$ ./bin/ldapsearch -p 1389 -b uid=bjensen,ou=people,dc=example,dc=com -s base "(objectclass=*)" etag
dn: uid=bjensen,ou=People,dc=example,dc=com
etag: 000000004db8d8f8


	modify the entry with post-read - the returned etag looks suspiciously like it's been computed from zero attributes:

$ ./bin/ldapmodify -h localhost -p 1389 -w password -D cn=directory\ manager --postReadAttributes etag
dn: uid=bjensen,ou=people,dc=example,dc=com
changetype: modify
replace: description
description: test 123

Processing MODIFY request for uid=bjensen,ou=people,dc=example,dc=com
MODIFY operation successful for DN uid=bjensen,ou=people,dc=example,dc=com
Target entry after the operation:
dn: uid=bjensen,ou=People,dc=example,dc=com
etag: 0000000000000001


	read the actual etag:

$ ./bin/ldapsearch -p 1389 -b uid=bjensen,ou=people,dc=example,dc=com -s base "(objectclass=*)" etag
dn: uid=bjensen,ou=People,dc=example,dc=com
etag: 000000003633d8e7



