OpenDJ / CAUD is missing a colon ":" and possibly the Process ID in the syslog logging which causes issues for applications digesting this data such as elastic search.

 
 Standards the syslog data should follow:

Message format: rfc5424 
 Transport encapsulation: rfc6587 Octet Counting

Non-compliance with these: 

1) Missing a colon ":" after the APP-NAME[PROCID] field.

2) The PROCID is labelled as [Server] when it should be the Process ID <PID>

 

Currently OpenDJ / CAUD logs this: 


OpenDJ[Server]

 

Should be


OpenDJ[<pid?>]:

 


Sep 13 22:00:00 opendj.forgerock.com OpenDJ[Server] DJ-LDAPS-SEARCH [ldap-access.OpenDJ Server@36733 transactionId="0" userId="" runAs="" server.ip="127.0.0.1" server.port="4444" client.host="" client.ip="127.0.0.1" client.port="42664" request.protocol="LDAPS" request.operation="SEARCH" response.status="SUCCESSFUL" response.statusCode="0" response.detail="" response.elapsedTime="3" response.elapsedTimeUnits="MILLISECONDS" ldap.connId="2" ldap.msgId="2" ldap.dn="" ldap.scope="base" ldap.filter="(objectClass=*)" ldap.attrs="[\"fullVendorVersion\"\]" ldap.nentries="1" ldap.authType="" ldap.reqControls="" ldap.respControls="" ldap.additionalItems="" ldap.items="" ldap.attr="" ldap.failureReason="" ldap.idToAbandon="" ldap.maskedResult="" ldap.maskedMessage="" ldap.message="" ldap.name="" ldap.newRDN="" ldap.newSup="" ldap.deleteOldRDN="" ldap.oid="" ldap.version="" ldap.reason="" ldap.opType=""]


This is related to

	OPENAM-11746
	CAUD-413



 

 