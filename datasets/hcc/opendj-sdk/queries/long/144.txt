To reproduce:

	unzip OpenDJ-2.4.0.zip
	run ./setup:



/opt/OpenDJ-2.4.0/setup --cli --baseDN dc=example,dc=com --addBaseEntry --ldapPort 389 --adminConnectorPort 4444 --rootUserDN cn=Directory\ Manager --rootUserPassword password --no-prompt --noPropertiesFile


	run ./upgrade:



./upgrade -f /tmp/OpenDJ-2.4.2.zip


	observe the message:



An attempt to modify entry cn=schema to the newly upgraded server was
unsuccessful.

You can cancel this upgrade altogether, continue anyway or retry this
operation.  If you cancel the server will be restored to the state it was in
before the upgrade was attempted.  If you continue you should be aware that
the server may not configured as it was before this upgrade.  A copy of the
original installation files will be kept in
/opt/OpenDJ-2.4.0/history/1303513048150.


	View Details gives:



Error processing modification operation of cn=schema: The provided value "(
1.3.6.1.4.1.26027.1.3.6 DESC 'Collective Conflict Behavior' X-ENUM (
'real-overrides-virtual' 'virtual-overrides-real' 'merge-real-and-virtual' ) )"
could not be parsed as an ldap syntax because its OID 1.3.6.1.4.1.26027.1.3.6
corresponds to an attribute syntax that is already implemented


I am attaching the upgrade log file. Note that due to OpenDJ-143 I was not able to install the OpenDJ-2.4.0 with Sun JDK, so I did it with OpenJDK 6 then stopped the server and changed the JVM environment in favor of Sun JDK. Anyhow, the same problem appears regardless of the JDK in use.