The fix for OPENDJ-4648 addressed the specific requirement that admin tasks should not perform runtime changes to the server configuration.

During the review of the PR we identified a related bug: backend admin tasks cause the backend to be removed from the server's routing table. Any subsequent requests to the backend will result in a "NoSuchObject" response being returned to the client, which is highly misleading. A more appropriate error code is "Unavailable".

Suggested fix:

Implement an "unavailable" backend that returns Unavailable for all operations targeting entries within the backend. BackendConfigManager activate/deactive backend methods should swap in/out the existing Backend with the unavailable stub backend.

Another possibility is for the backend to return a referral to another server in the topology. Replication logic already does this, although I don't know how well it's tested. In addition we should really support referral chasing in the SDK first.