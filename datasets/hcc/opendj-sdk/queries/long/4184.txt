DJ 4.x fails to start and throws an exception if old 2.6.x Debug Logging entries are not removed before an upgrading.


[27/Jul/2017:09:17:31 -0600] category=CORE severity=NOTICE msgID=139 msg=The Directory Server has sent an alert notification generated by class org.opends.server.core.DirectoryServer (alert type org.opends.server.DirectoryServerShutdown, alert ID org.opends.messages.core-141): The Directory Server has started the shutdown process. The shutdown was initiated by an instance of class org.opends.server.core.DirectoryServer and the reason provided for the shutdown was An error occurred while trying to start the Directory Server: ConfigException: Class org.opends.server.loggers.TextDebugLogPublisher specified in attribute ds-cfg-java-class of configuration entry cn=File-Based Debug Logger,cn=Loggers,cn=config cannot be instantiated as a Directory Server debug logger: org.forgerock.opendj.config.server.ConfigException: An error occurred while trying to decode the managed object configuration entry ds-cfg-debug-scope=org.opends.server.replication.plugin.LDAPReplicationDomain,cn=Debug Targets,cn=File-Based Debug Logger,cn=Loggers,cn=config: The Debug Target could not be decoded due to the following reason: The "enabled" property must be specified as it is mandatory (AbstractLogger.java:419 AbstractLogger.java:206 LoggerConfigManager.java:237 DirectoryServer.java:1437 DirectoryServer.java:5048)


The docs should state that all debug logging should be removed before upgrading 2.6.x instances to 3/4.x.