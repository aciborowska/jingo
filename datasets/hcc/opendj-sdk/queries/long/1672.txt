Found using trunk/dev branch in revision 11372.

Scenario:
1. install 2 servers and enable replication (using je or file-based changelog)
2. add some "big" entries (> 2Mo => with a jpeg photo) on the first instance
3. search for errors in the errors log

$ grep ERROR ./opendj-ecl-inst1/opendj/logs/errors
[03/Dec/2014:17:08:48 +0100] category=SYNC severity=ERROR msgID=messages.replication.32 msg=An unexpected error happened handling connection with Replication server RS(15473) for domain "o=example" NoSuchElementException (TreeMap.java:1221 TreeMap.java:285 MsgQueue.java:161 MessageHandler.java:380 ServerHandler.java:976 ReplicationServerDomain.java:1279 ServerWriter.java:104).  This connection is going to be closed
[03/Dec/2014:17:08:49 +0100] category=SYNC severity=ERROR msgID=messages.replication.32 msg=An unexpected error happened handling connection with Replication server RS(15473) for domain "o=example" NoSuchElementException (TreeMap.java:1221 TreeMap.java:285 MsgQueue.java:161 MessageHandler.java:380 ServerHandler.java:976 ReplicationServerDomain.java:1279 ServerWriter.java:104).  This connection is going to be closed



NOTE: sometimes the entries are not replicated on the second instance

Added script in attachment to reproduce the problem.