
#$ ./bin/dsconfig
...
Enter another value for the "base-dn" property [continue]: dc=blah,dc=example,dc=com

Enter another value for the "base-dn" property [continue]: 


>>>> Configuring the "base-dn" property (Continued)

The "base-dn" property has the following values:

    *)  "dc=example,dc=com"
    *)  "dc=blah,dc=example,dc=com"

Do you want to modify the "base-dn" property?

    1)  Use these values
    2)  Add one or more values
    3)  Remove one or more values
    4)  Remove all values
    5)  Revert changes

    q)  quit
    ?)  help

Enter choice [1]: 1

Press RETURN to continue 


>>>> Configure the properties of the Backend "userRoot"

         Property                 Value(s)
         ----------------------------------------------------------------------
    1)   backend-id               userRoot
    2)   base-dn                  "dc=example,dc=com",
                                  "dc=blah,dc=example,dc=com"
    3)   cipher-key-length        128
    4)   cipher-transformation    AES/CBC/PKCS5Padding
    5)   compact-encoding         true
    6)   confidentiality-enabled  false
    7)   db-cache-percent         50
    8)   db-cache-size            0 b
    9)   db-directory             db
    10)  enabled                  true
    11)  writability-mode         enabled

    a)   show advanced components and properties
    q)   quit
    c)   cancel
    f)   finish - apply changes
    ?)   help

Enter choice [f]: 
The JE Backend could not be modified due to a communications problem: Other:
The attempt to apply the configuration modification failed. The preliminary
checks were all successful and the modified entry was written to the server
configuration, but at least one of the configuration change listeners reported
an error when attempting to apply the change: DirectoryException: Unable to
register base DN dc=blah,dc=example,dc=com with the Directory Server for
backend userRoot because that backend already contains another base DN
dc=example,dc=com that is within the same hierarchical path
(BackendConfigManager.java:1100 BackendConfigManager.java:1042
BackendConfigManager.java:1015 BackendConfigManager.java:944
BackendConfigManager.java:585 BackendImpl.java:682 JEStorage.java:706
TracedStorage.java:453 BackendImpl.java:672 BackendImpl.java:81
ServerManagedObjectChangeListenerAdaptor.java:50
ConfigChangeListenerAdaptor.java:279 ConfigurationHandler.java:616
ConfigurationBackend.java:373 ModifyOperation.java:633
ModifyOperation.java:465 ModifyOperation.java:383 SynchronousStrategy.java:39
LdapClientConnection.java:562 LdapClientConnection.java:106
LdapClientConnection.java:858 ...)
#$




While dsconfig crash, the baseDn is still added to the configuration. This produce additional error when the server is restarted:


...
[12/Oct/2017:12:17:06 +0200] category=JVM severity=NOTICE msgID=17 msg=JVM Information: 1.8.0_131-8u131-b11-2ubuntu1.17.04.3-b11 by Oracle Corporation, 64-bit architecture, 3717201920 bytes heap size
[12/Oct/2017:12:17:06 +0200] category=JVM severity=NOTICE msgID=18 msg=JVM Host: ylecaillez-laptop, running Linux 4.10.0-37-generic amd64, 16723304448 bytes physical memory size, number of processors available 8
[12/Oct/2017:12:17:06 +0200] category=JVM severity=NOTICE msgID=19 msg=JVM Arguments: "-Dorg.opends.server.scriptName=start-ds"
[12/Oct/2017:12:17:08 +0200] category=BACKEND severity=NOTICE msgID=513 msg=The database backend userRoot containing 2002 entries has started
[12/Oct/2017:12:17:08 +0200] category=CONFIG severity=ERROR msgID=116 msg=An error occurred while trying to initialize a backend loaded from class org.opends.server.backends.jeb.JEBackend with the information in configuration entry ds-cfg-backend-id=userRoot,cn=Backends,cn=config: InitializationException: An error occurred while attempting to register the base DNs [dc=blah,dc=example,dc=com, dc=example,dc=com] in the Directory Server:  org.opends.server.types.DirectoryException: Unable to register base DN dc=example,dc=com with the Directory Server for backend userRoot because that backend already contains another base DN dc=blah,dc=example,dc=com that is within the same hierarchical path (BackendImpl.java:186 BackendConfigManager.java:816 BackendConfigManager.java:799 BackendConfigManager.java:251 BackendConfigManager.java:227 BackendConfigManager.java:217 DirectoryServer.java:1454 DirectoryServer.java:1302 DirectoryServer.java:4184). This backend will be disabled
...

