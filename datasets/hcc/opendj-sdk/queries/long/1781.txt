Found using OpenDJ-3.0.0 revision 11673.

Scenario:

	configure a server with some automatically-generated data

$ /tmp/opendj/setup -h localhost -p 1389 -D "cn=myself" -w password --adminConnectorPort 4444 --ldapsPort 1636 --generateSelfSignedCertificate -b dc=com -d 10 --cli -n


	get pid

$ cat /tmp/opendj/logs/server.pid
13580


	get server status

$ /tmp/opendj/bin/status -D cn=myself -w password -n -X | grep 'Server Run Status:'
Server Run Status:        Started


	restart the server with stop-ds -R -D... -w... command (with credential, this will schedule a shutdown task inside the server)

$ /tmp/opendj/bin/stop-ds -R -h localhost -p 4444 -D cn=myself -w password -X


	wait to be sure that the server has been restarted

$ sleep 30


	check that status of the shutdown task

$ /tmp/opendj/bin/manage-tasks -h localhost -p 4444 -D cn=myself -w password -X -n
Feb 03, 2015 11:30:02 PM org.forgerock.i18n.slf4j.LocalizedLogger info
INFO: Loaded extension from file '/tmp/opendj/lib/extensions/snmp-mib2605.jar' (build 3.0.0-20150203, revision 11673)

  ID                                    Type      Status
  ----------------------------------------------------------------------
  da19a847-23ed-4f97-8762-16fc79955013  Shutdown  Completed successfully


	search for some entries

$ /tmp/opendj/bin/ldapsearch -h localhost -p 1389 -D cn=myself -w password -b dc=com '(uid=user.0)' dn
dn: uid=user.0,ou=People,dc=com


	get pid

$ cat /tmp/opendj/logs/server.pid
13580


 unexpected to have the same pid as in step 2
	get server status

$ /tmp/opendj/bin/status -D cn=myself -w password -n -X | grep 'Server Run Status:'
Server Run Status:        Stopped


 server status should be "Started"
	try to stop or start the server
	
		stop the server

$ /tmp/opendj/bin/stop-ds
Server already stopped


		start the server

$ /tmp/opendj/bin/start-ds
...
[03/Feb/2015:23:30:16 +0100] category=CORE severity=ERROR msgID=messages.config.116 msg=An error occurred while trying to initialize a backend loaded from class org.opends.server.backends.jeb.BackendImpl with the information in configuration entry ds-cfg-backend-id=userRoot,cn=Backends,cn=config: InitializationException: The database environment could not be opened: (JE 5.0.104) /tmp/opendj/db/userRoot The environment cannot be locked for single writer access. ENV_LOCKED: The je.lck file could not be locked. Environment is invalid and must be closed. (BackendImpl.java:1214 BackendImpl.java:171 BackendConfigManager.java:1024 BackendConfigManager.java:233 DirectoryServer.java:2075 DirectoryServer.java:1532 DirectoryServer.java:8155). This backend will be disabled
[03/Feb/2015:23:30:16 +0100] category=EXTENSIONS severity=NOTICE msgID=messages.extension.221 msg=DIGEST-MD5 SASL mechanism using a server fully qualified domain name of: localhost
[03/Feb/2015:23:30:16 +0100] category=PROTOCOL severity=ERROR msgID=messages.protocol.432 msg=The LDAP connection handler defined in configuration entry cn=Administration Connector,cn=config was unable to bind to 0.0.0.0:4444: IOException(Address already in use)
[03/Feb/2015:23:30:16 +0100] category=CORE severity=NOTICE msgID=messages.core.139 msg=The Directory Server has sent an alert notification generated by class org.opends.server.core.DirectoryServer (alert type org.opends.server.DirectoryServerShutdown, alert ID messages.core-141): The Directory Server has started the shutdown process. The shutdown was initiated by an instance of class org.opends.server.core.DirectoryServer and the reason provided for the shutdown was An error occurred while trying to start the Directory Server: The LDAP connection handler defined in configuration entry cn=Administration Connector,cn=config was unable to bind to 0.0.0.0:4444: IOException(Address already in use)
[03/Feb/2015:23:30:16 +0100] category=CORE severity=NOTICE msgID=messages.core.203 msg=The Directory Server is now stopped


 after these commands the server.pid file is removed
	
	



At this point the server is in an inconsistent state and the only solution is to kill it and restart it.

Script in attachment to reproduce the problem.