When using control-panel, in the dialog asking if you want to trust the certificate, both "Accept for this session" and "Accept permanently" result in the dialog being presented again.

Steps to reproduce:

1. setup DS


ADMIN_PORT=4444
LDAP_PORT=1389
LDAPS_PORT=1636
HTTPS_PORT=8443
./setup directory-server \
--instancePath /media/viktor/DATA/instances/$FOLDER/opendj \
--rootUserDn "cn=Directory Manager" \
--rootUserPassword password \
--hostname localhost \
--adminConnectorPort $ADMIN_PORT \
--ldapPort $LDAP_PORT \
--enableStartTls \
--ldapsPort $LDAPS_PORT \
--httpsPort $HTTPS_PORT \
--sampleData 10 \
--baseDn dc=example,dc=com \
--acceptLicense


2. run control-panel


./bin/control-panel


3. provide credentials to get to the certificate dialog

Â 

If you use the --trustAll option for the control-panel command, the result is a


ConnectionException: Connect Error: General SSLEngine problem

