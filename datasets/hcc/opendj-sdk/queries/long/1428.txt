I tried to implement Pagination using the sample code as given on the link:
http://opendj.forgerock.org/doc/dev-guide/index/chap-controls.html#use-simple-paged-results-control

I am able to successfully paginate through records after specifying the page size. But I expect that API should also return me the total number of entries found in the search on the first paginated search call.
I tried to call SimplePagedResultsControl's getSize() method hoping to retrieve the total size but it is always returned 0 even on subsequent calls. The following is the code snippet used:

public List<SearchResultEntry> findMultipleEntriesInDirectoryTreePaginated(LDAPPaginationInformationObject paginationInfo){ 
		if(paginationInfo==null){
			return null;
		}
		List<SearchResultEntry> searchEntriesList = new ArrayList<SearchResultEntry>();
		SearchRequest request;
		LDAPSearchResultHandler searchHandler = new LDAPSearchResultHandler();
		Result result;
		int pageNumber = paginationInfo.getPageNumber();
		ByteString ldapCookie = paginationInfo.getLdapCookie();
		
		if(paginationInfo.isInitiatingPaginationCall() || ldapCookie.length()!=0){
		  request = Requests.newSearchRequest(
	                "dc=operator,dc=com", SearchScope.WHOLE_SUBTREE, "(mail=*)", "*")
	                .addControl(SimplePagedResultsControl.newControl(true, paginationInfo.getPageSize(), ldapCookie));
		  
		  Connection connection = null;
	      try {
	          connection = ldapConnectionFetcher.getBoundConnection();
		      result = connection.search(request, searchHandler);
		      SimplePagedResultsControl control = result.getControl(
		                SimplePagedResultsControl.DECODER, new DecodeOptions());
		      paginationInfo.setLdapCookie(control.getCookie());
	        } catch (final DecodeException e) {
	        	logger.debug("Decoder Exception in Pagination Search-->", e);
	        } catch (ErrorResultException e) {
	        	logger.debug("Error Result Exception while opening LDAP Connection --> ", e);
			}finally{
				connection.close();
			}
	      searchEntriesList = searchHandler.getSearchResultList();
	      if(!searchEntriesList.isEmpty()){
	    	  paginationInfo.setPageNumber(++pageNumber);
	      }
		}
		return searchEntriesList;
	}



I am not sure if I am making a mistake in using the API or is it a bug?
Need help from experts here.
Thanks,
Nitin