Found using OpenDJ 4.0.0 rev 1ad3e7a6cb2b455c4f230e4b5defc14b931583f4

Currently the *rate tools fails with the following error:

$ ./SDK/opendj-ldap-toolkit/bin/modrate -h comte.internal.forgerock.com -p 1389 -D "cn=myself" -w password -M 8000 -d 3600 -b uid=user.%d,ou=People,o=example -S -g "rand(0,99999)" -c 40 -t 3 -i 30 -F -g "randstr(40)" 'description:%2$s'	
-- rc --
returned 1, expected 0
-- stdout --
-- stderr --
Other: An unexpected failure occurred while trying to process a request of
type Modify Request (LDAP message ID 2):
org.opends.server.types.DirectoryException: A bind operation is currently in
progress on the associated client connection. No other requests may be made on
this client connection until the bind processing has completed. The client
connection will be terminated
Stopping...
Exception in thread "main" java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@4dbdd156 rejected from java.util.concurrent.ScheduledThreadPoolExecutor@68fa8cf9[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2048)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:821)
	at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:325)
	at java.util.concurrent.ScheduledThreadPoolExecutor.scheduleAtFixedRate(ScheduledThreadPoolExecutor.java:570)
	at java.util.concurrent.Executors$DelegatedScheduledExecutorService.scheduleAtFixedRate(Executors.java:695)
	at com.forgerock.opendj.ldap.tools.StatsThread.startReporting(StatsThread.java:344)
	at com.forgerock.opendj.ldap.tools.PerformanceRunner.run(PerformanceRunner.java:440)
	at com.forgerock.opendj.ldap.tools.ModRate.run(ModRate.java:240)
	at com.forgerock.opendj.ldap.tools.ModRate.main(ModRate.java:124)



These tools should be modify to wait the end of the bind request before trying to send new requests.

NOTE: we have also noticed this issue with ldapsearch