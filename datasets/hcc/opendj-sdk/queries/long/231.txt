Similar to OPENDJ-230, I have tried to setup an OpenDJ-2.4.3 instance with existing tools.properties file and I have encountered another issue. The import tool was unable to import the generated LDIF, probably due to the parameters in the tools.properties

Here are the details:

% ./setup --cli

OpenDJ 2.4.3
Please wait while the setup program initializes...

What would you like to use as the initial root user DN for the Directory
Server? [cn=Directory Manager]:
Please provide the password to use for the initial root user:
Please re-enter the password for confirmation:

On which port would you like the Directory Server to accept connections from
LDAP clients? [1389]:

On which port would you like the Administration Connector to accept
connections? [4444]:
Options for populating the database:

    1)  Only create the base entry
    2)  Leave the database empty
    3)  Import data from an LDIF file
    4)  Load automatically-generated sample data

Enter choice [1]: 4
Please specify the number of user entries to generate: [2000]: 10

Do you want to enable SSL? (yes / no) [no]: yes
On which port would you like the Directory Server to accept connections from
LDAPS clients? [1636]:

Do you want to enable Start TLS? (yes / no) [no]: yes
Certificate server options:

    1)  Generate self-signed certificate (recommended for testing purposes
        only)
    2)  Use an existing certificate located on a Java Key Store (JKS)
    3)  Use an existing certificate located on a JCEKS key store
    4)  Use an existing certificate located on a PKCS#12 key store
    5)  Use an existing certificate on a PKCS#11 token

Enter choice [1]: 1

Do you want to start the server when the configuration is completed? (yes /
no) [yes]:


Setup Summary
=============
LDAP Listener Port:            1389
Administration Connector Port: 4444
LDAP Secure Access:            Enable StartTLS
                               Enable SSL on LDAP Port 1636
                               Create a new Self-Signed Certificate
Root User DN:                  cn=Directory Manager
Directory Data:                Create New Base DN dc=example,dc=com.
Base DN Data: Import Automatically-Generated Data (10 Entries)

Start Server when the configuration is completed


What would you like to do?

    1)  Set up the server with the parameters above
    2)  Provide the setup parameters again
    3)  Print equivalent non-interactive command-line
    4)  Cancel and exit

Enter choice [1]:

See /var/folders/lu/lu5s4ND9HQaMDjoi79jpwU+++TI/Tmp/opends-setup-2430854408814982235.log for a detailed log of this operation.

Configuring Directory Server ..... Done.
Configuring Certificates ..... Done.
Importing Automatically-Generated Data (10 Entries) ......

The import LDIF tool returned error code 1.
If you want to report this error, provide the contents of file /var/folders/lu/lu5s4ND9HQaMDjoi79jpwU+++TI/Tmp/opends-setup-2430854408814982235.log

The tools.properties file is as follows:


hostname=localhost
port=4444
bindDN=cn=Directory Manager
bindPassword=password
baseDN=dc=example,dc=com
searchScope=sub

ldapsearch.port=1389
ldapmodify.port=1389
ldappasswordmodify.port=1389
ldapcompare.port=1389
ldapdelete.port=1389

Probably it would be a good thing to advise users to remove tools.properties before installing, in case they have it.