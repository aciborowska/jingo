During re-testing of the topology on multi-homed machine I can still see messages in the error log:

Other: In Replication server Replication Server 8989 5684: replication servers 172.16.204.147:9898 and 172.16.204.10:9898 have the same ServerId : 14616

Product version and revision: 6.5.0-M126.1

Steps to reproduce the issue:

1. setup

Machine 1:

./setup directory-server \
--instancePath ${PWD} \
--rootUserDn cn=dm \
--rootUserPassword password \
--hostname beaufortbis \
--adminConnectorPort 4444 \
--ldapPort 1389 \
--enableStartTls \
--ldapsPort 1636 \
--httpsPort 8443 \
--sampleData 2000 \
--baseDn dc=example,dc=com

Machine 2: 

./setup directory-server \
--instancePath ${PWD} \
--rootUserDn cn=dm \
--rootUserPassword password \
--hostname comtebis \
--adminConnectorPort 4444 \
--ldapPort 1389 \
--enableStartTls \
--ldapsPort 1636 \
--httpsPort 8443 \
--addBaseEntry \
--baseDn dc=example,dc=com


 

 

2. configure replication

./dsreplication \
 configure \
 --adminUID admin \
 --adminPassword password \
 --baseDN dc=example,dc=com \
 --host1 beaufortbis \
 --port1 4444 \
 --bindDN1 "cn=dm" \
 --bindPassword1 password \
 --replicationPort1 8989 \
 --host2 comtebis \
 --port2 4444 \
 --bindDN2 "cn=dm" \
 --bindPassword2 password \
 --replicationPort2 8989 \
 --trustAll \
 --no-prompt

3. set listen address

Machine 1:

./dsconfig set-replication-server-prop \
--provider-name Multimaster\ Synchronization \
--set listen-address:172.16.204.147 \
--hostname beaufortbis \
--port 4444 \
--bindDn cn=dm \
--trustAll \
--bindPassword password \
--no-prompt

The IP is beaufortbis IP.

Machine 2:

./dsconfig set-replication-server-prop \
--provider-name Multimaster\ Synchronization \
--set listen-address:172.16.204.138 \
--hostname comtebis \
--port 4444 \
--bindDn cn=dm \
--trustAll \
--bindPassword password \
--no-prompt

The IP is comtebis IP.

4. Initialize replicaiton

./dsreplication \
 initialize-all \
 --adminUID admin \
 --adminPassword password \
 --baseDN dc=example,dc=com \
 --hostname beaufortbis \
 --port 4444 \
 --trustAll \
 --no-prompt

5. Restart both servers

6. Check errors log