We have server A, B, C, D, E and F.
We restart AB first. Then restart CD. Then restart EF.
After I restarted server B, I got the following log message:


[01/Sep/2016:02:00:07 +0800] category=CORE severity=NOTICE msgID=org.opends.messages.core.139 msg=The Directory Server has sent an alert notification generated by class org.opends.server.core.DirectoryServer (alert type org.opends.server.DirectoryServerShutdown, alert ID org.opends.messages.core-141): The Directory Server has started the shutdown process. The shutdown was initiated by an instance of class org.opends.server.core.DirectoryServerShutdownHook and the reason provided for the shutdown was The Directory Server shutdown hook detected that the JVM is shutting down. This generally indicates that JVM received an external request to stop (e.g., through a kill signal)
[01/Sep/2016:02:00:12 +0800] category=PLUGGABLE severity=NOTICE msgID=org.opends.messages.backend.370 msg=The backend Data is now taken offline
[01/Sep/2016:02:00:12 +0800] category=CORE severity=NOTICE msgID=org.opends.messages.core.203 msg=The Directory Server is now stopped
[01/Sep/2016:02:01:26 +0800] category=UTIL severity=NOTICE msgID=org.opends.messages.runtime.21 msg=Installation Directory:  /opt/opendj
[01/Sep/2016:02:01:26 +0800] category=UTIL severity=NOTICE msgID=org.opends.messages.runtime.23 msg=Instance Directory:      /opt/opendj
[01/Sep/2016:02:01:26 +0800] category=UTIL severity=NOTICE msgID=org.opends.messages.runtime.17 msg=JVM Information: 1.8.0_91-b14 by Oracle Corporation, 64-bit architecture, 2058354688 bytes heap size
[01/Sep/2016:02:01:26 +0800] category=UTIL severity=NOTICE msgID=org.opends.messages.runtime.18 msg=JVM Host: serverB, running Linux 2.6.32-642.3.1.el6.x86_64 amd64, 8252841984 bytes physical memory size, number of processors available 2
[01/Sep/2016:02:01:26 +0800] category=UTIL severity=NOTICE msgID=org.opends.messages.runtime.19 msg=JVM Arguments: "-Xms2G", "-Xmx2G", "-Dorg.opends.server.scriptName=start-ds"
[01/Sep/2016:02:01:28 +0800] category=PLUGGABLE severity=NOTICE msgID=org.opends.messages.backend.513 msg=The database backend Data containing 119328 entries has started
[01/Sep/2016:02:01:46 +0800] category=EXTENSIONS severity=NOTICE msgID=org.opends.messages.extension.221 msg=DIGEST-MD5 SASL mechanism using a server fully qualified domain name of: serverB
[01/Sep/2016:02:01:47 +0800] category=SYNC severity=ERROR msgID=org.opends.messages.replication.274 msg=The following log '/opt/opendj/changelogDb/2.dom/27294.server' must be released but it is not referenced."
[01/Sep/2016:02:01:47 +0800] category=SYNC severity=ERROR msgID=org.opends.messages.replication.11 msg=The replication server failed to start because the database /opt/opendj/changelogDb could not be read : Could not get or create replica DB for baseDN 'dc=example,dc=com', serverId '27294', generationId '19116518'
[01/Sep/2016:02:01:47 +0800] category=SYNC severity=NOTICE msgID=org.opends.messages.replication.204 msg=Replication server RS(32023) started listening for new connections on address 0.0.0.0 port 8989
[01/Sep/2016:02:01:48 +0800] category=SYNC severity=ERROR msgID=org.opends.messages.replication.274 msg=The following log '/opt/opendj/changelogDb/2.dom/27294.server' must be released but it is not referenced."
[01/Sep/2016:02:01:48 +0800] category=SYNC severity=ERROR msgID=org.opends.messages.replication.26 msg=Error trying to use the underlying database. The Replication Server is going to shut down: ChangelogException: Could not get or create replica DB for baseDN 'dc=example,dc=com', serverId '27294', generationId '19116518' (ReplicationEnvironment.java:387 FileReplicaDB.java:151 FileReplicaDB.java:129 FileChangelogDB.java:278 FileChangelogDB.java:199 FileChangelogDB.java:812 ReplicationServerDomain.java:513 ReplicationServerDomain.java:337 ServerHandler.java:1140 ServerReader.java:113)
[01/Sep/2016:02:01:48 +0800] category=SYNC severity=ERROR msgID=org.opends.messages.replication.216 msg=Replication server RS(32023) session thread to Replication server RS(8404) for domain "dc=example,dc=com" at serverA/192.168.33.18:8989 was interrupted in the startup phase



The error message msgID=org.opends.messages.replication.26 keeps flooding for about 3 minutes. Then it keeps popping the following message:


[01/Sep/2016:02:30:09 +0800] category=SYNC severity=WARNING msgID=org.opends.messages.replication.63 msg=Replication server RS(8404) at serverA/192.168.33.18:8989 has closed the connection to this directory server DS(13243). This directory server will now try to connect to another replication server in order to receive changes for the domain "dc=example,dc=com"
[01/Sep/2016:02:30:09 +0800] category=SYNC severity=WARNING msgID=org.opends.messages.replication.63 msg=Replication server RS(8404) at serverA/192.168.33.18:8989 has closed the connection to this directory server DS(13617). This directory server will now try to connect to another replication server in order to receive changes for the domain "cn=schema"
[01/Sep/2016:02:30:14 +0800] category=SYNC severity=ERROR msgID=org.opends.messages.replication.17 msg=Directory server DS(13243) was unable to connect to replication server serverD:8989 for domain "dc=example,dc=com". Please check that there is a replication server listening at this address
[01/Sep/2016:02:30:14 +0800] category=SYNC severity=WARNING msgID=org.opends.messages.replication.23 msg=Directory server DS(13243) was unable to connect to any of the following replication servers for domain "dc=example,dc=com": 11933, 19917
[01/Sep/2016:02:30:14 +0800] category=SYNC severity=ERROR msgID=org.opends.messages.replication.17 msg=Directory server DS(13617) was unable to connect to replication server serverD:8989 for domain "cn=schema". Please check that there is a replication server listening at this address
[01/Sep/2016:02:30:14 +0800] category=SYNC severity=WARNING msgID=org.opends.messages.replication.23 msg=Directory server DS(13617) was unable to connect to any of the following replication servers for domain "cn=schema": 11933, 19917
[01/Sep/2016:02:31:01 +0800] category=SYNC severity=NOTICE msgID=org.opends.messages.replication.62 msg=Directory server DS(13243) has connected to replication server RS(11933) for domain "dc=example,dc=com" at serverC/192.168.32.18:8989 with generation ID 19116518
[01/Sep/2016:02:31:01 +0800] category=SYNC severity=NOTICE msgID=org.opends.messages.replication.62 msg=Directory server DS(13617) has connected to replication server RS(11933) for domain "cn=schema" at serverC/192.168.32.18:8989 with generation ID 8408
[01/Sep/2016:02:32:22 +0800] category=SYNC severity=NOTICE msgID=org.opends.messages.replication.213 msg=Directory Server DS(13617) is disconnecting from replication server RS(11933) at serverC/192.168.32.18:8989 for domain "cn=schema" in order to find another replication server in the topology and distribute load more equally
[01/Sep/2016:02:32:32 +0800] category=SYNC severity=WARNING msgID=org.opends.messages.replication.208 msg=Directory server DS(13617) was unable to connect to any replication servers for domain "cn=schema"



All BCDEF got the same message as below:

[01/Sep/2016:02:01:44 +0800] category=SYNC severity=ERROR msgID=org.opends.messages.replication.274 msg=The following log '/opt/opendj/changelogDb/1.dom/27294.server' must be released but it is not referenced."
[01/Sep/2016:02:01:44 +0800] category=SYNC severity=ERROR msgID=org.opends.messages.replication.26 msg=Error trying to use the underlying database. The Replication Server is going to shut down: ChangelogException: Could not get or create replica DB for baseDN 'dc=example,dc=com', serverId '27294', generationId '19116518' (ReplicationEnvironment.java:387 FileReplicaDB.java:151 FileReplicaDB.java:129 FileChangelogDB.java:278 FileChangelogDB.java:199 FileChangelogDB.java:812 ReplicationServerDomain.java:513 ReplicationServerDomain.java:337 ServerHandler.java:1140 ServerReader.java:113)



All servers cannot replicate each others after that.