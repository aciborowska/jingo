1) Create replication agreement of two servers and perform updates on each
2) Observe root DSE lastChangeNumber attribute as it frequently reads values which are two high and always at least one too many

The problem seems linked to the calculations performed in:

org.opends.server.replication.server.ReplicationServer.getECLDraftCNLimits(ChangeNumber, ArrayList<String>)

Note that the draftcndb database used by the changelog is only updated by searches. Care should be taken not to introduce performance regressions when reading the root DSE. More specifically, the last and first change number attributes must not take a long time to calculate.