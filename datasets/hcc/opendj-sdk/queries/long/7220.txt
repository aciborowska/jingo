The issue has been observed during the following IDM test openidm.relationships.QueryUserAllLinkExpansion.
 This test is doing a request like

curl -H "X-OpenIDM-Username: openidm-admin" -H "X-OpenIDM-Password: openidm-admin" "http://self.example.com:8080/openidm/managed/user?_queryFilter=true&_fields=*,roles/*,manager/*,reports/*,authzRoles/*&_pageSize=1000" 


In this request we fetch at most 1000 users and for each one all his roles, manager, reports and authzRole.

Given that all the LDAP operations needed to resolve this request are performed on the same connection and given that the number of concurrent operation is limited, this scenario end in a situation where the 1000 users, result of the first request, are blocking the subsequent request which are waiting for their response which effectively appears after these 1000 result.


