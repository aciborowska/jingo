Found with OpenDJ 4.1.0 rev 3568898c2908c49f7d9d9c2fc80d58bc2c2272b3

We extract and set up a server using instancePath and with minimal options and setting up OPENDJ_JAVA_HOME to jdk1.8 before:

E:\DJ_BASIC9\opendj\setup.bat -h node --adminConnectorPort 4453 -D "cn=myself" -w password --instancePath E:\DJ_BASIC9\opendj\custom_instance_path

Validating parameters..... Done 
Configuring certificates..... Done 
Configuring server..... Done 
Starting directory server................. Done 

To see basic server status and configuration, you can launch E:\DJ_BASIC9\opendj\bat\status.bat



We unset OPENDJ_JAVA_HOME in order to test that tools will read java home from the java.properties file generated at setup.

We then call the status command:


.\DJ_BASIC9\opendj\bat\status.bat -D "cn=myself" -w password -X -n 	

java.lang.UnsupportedClassVersionError: org/opends/server/tools/status/StatusCli : Unsupported major.minor version 52.0
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:615)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
	at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)
	at java.net.URLClassLoader.access$000(URLClassLoader.java:58)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
Could not find the main class: org.opends.server.tools.status.StatusCli.  Program will exit.



The status command seems to get its java binaries from the PATH environment variable, not from the server java.properties. (and we have a jdk1.6 in the path, so it fails)
Â 