Found using revision 12327.

Scenario:
************
1. configure a server with persistit backend and with some automatically-generated data
2. create new index on attribute "l" (with multiple type) using dsconfig

./opendj/bin/dsconfig -p 4444 -X -D cn=myself -w password -h localhost create-backend-index --backend-name userRoot --type generic --index-name l --set index-type:presence --set index-type:substring

The Backend Index could not be created due to a communications problem:
Undefined



And we can noticed that in the access log that the add op has failed:

[22/May/2015:16:03:36 +0200] ADD REQ conn=1 op=13 msgID=14 dn="ds-cfg-attribute=l,cn=Index,ds-cfg-backend-id=userRoot,cn=Backends,cn=config"
[22/May/2015:16:03:36 +0200] ADD RES conn=1 op=13 msgID=14 result=-1 etime=3



NOTE 1: it works fine if we create the index with one type

NOTE 2: it fails when we create the index with one type and then modify it to add a second type using dsconfig in interactive mode:

The Backend Index could not be modified due to a communications problem:
Other: The attempt to apply the configuration modification failed. The
preliminary checks were all successful and the modified entry was written to
the server configuration, but at least one of the configuration change
listeners reported an error when attempting to apply the change:
UnsupportedOperationException (AbstractCollection.java:260
AbstractCollection.java:342 AttributeIndex.java:274 AttributeIndex.java:711
AttributeIndex.java:74 ServerManagedObjectChangeListenerAdaptor.java:66
ConfigChangeListenerAdaptor.java:326 ConfigFileHandler.java:1212
LocalBackendModifyOperation.java:577 LocalBackendModifyOperation.java:308
LocalBackendWorkflowElement.java:624 LocalBackendWorkflowElement.java:906
LocalBackendWorkflowElement.java:777 ModifyOperationBasis.java:368
SynchronousStrategy.java:48 LDAPClientConnection.java:1245
LDAPClientConnection.java:2177 LDAPClientConnection.java:1678
LDAPRequestHandler.java:182)

