Found using OpenDJ 4.1.0 rev 5947092a9ee

Scenario
1. install 2 servers and enable replication
2. add a custom objectclass (using ldapmodify) on server1
=> step ok
3. create a new entry (which use this custom objectclass) on server2 to verify that schema modification has been replicated
=> step ok
4. verify that the 99-user.ldif are in sync
=> step ok
5. check logs for both servers
=> step failed, in logs for server1 we have errors
in error log:

[28/Jun/2017:08:41:33 +0100] category=CORE severity=NOTICE msgID=139 msg=The Directory Server has sent an alert notification generated by class org.opends.server.backends.SchemaBackend (alert type org.opends.server.CannotWriteNewSchemaFiles, alert ID org.opends.messages.backend-254): An error occurred while attempting to write new versions of the server schema files: FileSystemException(E:\Schema\DJ1\opendj\config\schema\99-user.ldif: The process cannot access the file because it is being used by another process.
[28/Jun/2017:08:41:33 +0100] category=SYNC severity=ERROR msgID=14 msg=Error Other when updating server state ModifyRequest(dn=cn=schema, changes=[Modification(modificationType=replace, attributeDescription=ds-sync-state, attributeValues={0000015ceda5e0857f9e00000003})], controls=[]) : An error occurred while attempting to write new versions of the server schema files: FileSystemException(E:\Schema\DJ1\opendj\config\schema\99-user.ldif: The process cannot access the file because it is being used by another process.	



in ldap-access.audit.json log:

{"eventName":"DJ-LDAP","client":{"ip":"internal","port":-1},"server":{"ip":"internal","port":-1},"request":{"protocol":"internal","operation":"MODIFY","connId":-4,"msgId":86,"opType":"sync","dn":"cn=schema"},"transactionId":"0","response":{"status":"FAILED","statusCode":"80","elapsedTime":6,"elapsedTimeUnits":"MILLISECONDS","detail":"An error occurred while attempting to write new versions of the server schema files: FileSystemException(E:\\Schema\\DJ1\\opendj\\config\\schema\\99-user.ldif: The process cannot access the file because it is being used by another process.\r\n).  A problem also occurred when attempting to restore the original schema configuration, so the server may be left in an inconsistent state and could require manual cleanup"},"timestamp":"2017-06-28T07:41:33.234Z","_id":"bc4cea05-9491-432b-819f-f18ff626544b-713"}



NOTE: timestamp for errors correspond to step 3