Creating and running docker images based on the procedure described on https://stash.forgerock.org/projects/DOCKER/repos/docker/browse/opendj

won't work.

after image is built:
docker-compose up gives:

Recreating opendj_opendj_1
Attaching to opendj_opendj_1
opendj_1  | Instance data Directory is empty. Creating new DJ instance
opendj_1  | Running /opt/opendj/bootstrap/setup.sh
opendj_1  | Setting up default OpenDJ instance.
opendj_1  | /opt/opendj/bootstrap/setup.sh: 16: /opt/opendj/bootstrap/setup.sh: /opt/opendj/setup: Permission denied
opendj_1  | Found optional schema files in bootstrap/ldif. Will load them
opendj_1  | Loading /opt/opendj/bootstrap/ldif/opendj_config_schema.ldif
opendj_1  | /opt/opendj/bootstrap/setup.sh: 29: /opt/opendj/bootstrap/setup.sh: /opt/opendj/bin/ldapmodify: Permission denied
opendj_1  | Loading /opt/opendj/bootstrap/ldif/opendj_dashboard.ldif
opendj_1  | /opt/opendj/bootstrap/setup.sh: 29: /opt/opendj/bootstrap/setup.sh: /opt/opendj/bin/ldapmodify: Permission denied
opendj_1  | Loading /opt/opendj/bootstrap/ldif/opendj_deviceprint.ldif
opendj_1  | /opt/opendj/bootstrap/setup.sh: 29: /opt/opendj/bootstrap/setup.sh: /opt/opendj/bin/ldapmodify: Permission denied
opendj_1  | Loading /opt/opendj/bootstrap/ldif/opendj_kba.ldif
opendj_1  | /opt/opendj/bootstrap/setup.sh: 29: /opt/opendj/bootstrap/setup.sh: /opt/opendj/bin/ldapmodify: Permission denied
opendj_1  | Loading /opt/opendj/bootstrap/ldif/opendj_oathdevices.ldif
opendj_1  | /opt/opendj/bootstrap/setup.sh: 29: /opt/opendj/bootstrap/setup.sh: /opt/opendj/bin/ldapmodify: Permission denied
opendj_1  | Loading /opt/opendj/bootstrap/ldif/opendj_pushdevices.ldif
opendj_1  | /opt/opendj/bootstrap/setup.sh: 29: /opt/opendj/bootstrap/setup.sh: /opt/opendj/bin/ldapmodify: Permission denied
opendj_1  | Loading /opt/opendj/bootstrap/ldif/opendj_uma_labels_schema.ldif
opendj_1  | /opt/opendj/bootstrap/setup.sh: 29: /opt/opendj/bootstrap/setup.sh: /opt/opendj/bin/ldapmodify: Permission denied
opendj_1  | Loading /opt/opendj/bootstrap/ldif/opendj_user_schema.ldif
opendj_1  | /opt/opendj/bootstrap/setup.sh: 29: /opt/opendj/bootstrap/setup.sh: /opt/opendj/bin/ldapmodify: Permission denied
opendj_1  | Loading /opt/opendj/bootstrap/ldif/user_container.ldif
opendj_1  | /opt/opendj/bootstrap/setup.sh: 29: /opt/opendj/bootstrap/setup.sh: /opt/opendj/bin/ldapmodify: Permission denied
opendj_1  | Secret volume is present. Will copy any keystores and truststore
opendj_1  | /opt/opendj/run.sh: 52: /opt/opendj/run.sh: bin/status: Permission denied
opendj_1  | Starting OpenDJ
opendj_1  | /opt/opendj/run.sh: 63: exec: ./bin/start-ds: Permission denied
opendj_opendj_1 exited with code 126