Found with OpenDJ 4.0.0-SNAPSHOT (504030134cc)

In our rest2ldap tests, 


	we install an opendj server with some data and enable the http connection handler:

opendj/bin/dsconfig -h localhost -p 4444 -D "cn=myself" -w password -X set-connection-handler-prop --handler-name "HTTP Connection Handler" --set enabled:true --set listen-port:8082 -n






	we create an identity mapper:




opendj/bin/dsconfig -h localhost -p 4444 -D "cn=myself" -w password -X create-identity-mapper --mapper-name id_mapper_cn --set enabled:true --type exact-match --set match-base-dn:ou=Auth,dc=com --set match-attribute:cn -n




	we link the HTTP Basic authorization mechanism with this identity mapper and it fails with the following error:




./opendj/bin/dsconfig -h localhost -p 4444 -D "cn=myself" -w password -X set-http-authorization-mechanism-prop --mechanism-name "HTTP Basic" --set identity-mapper:id_mapper_cn -n 	

The HTTP Basic Authorization Mechanism could not be modified due to a
communications problem: Undefined



We have the following messages in the error logs:


[19/Sep/2016:11:08:47 +0200] category=PROTOCOL severity=ERROR msgID=183 msg=The HTTP Connection Handler defined in configuration entry cn=HTTP Connection Handler,cn=Connection Handlers,cn=config was unable to accept a new client connection: NullPointerException(OpenApiTransformer.java:347)
[19/Sep/2016:11:08:47 +0200] category=CONFIG severity=WARNING msgID=731 msg=There are no active HTTP access loggers defined in the Directory Server configuration. No HTTP access logging will be performed
[19/Sep/2016:11:08:47 +0200] category=PROTOCOL severity=ERROR msgID=183 msg=The HTTP Connection Handler defined in configuration entry cn=HTTP Connection Handler,cn=Connection Handlers,cn=config was unable to accept a new client connection: BindException(Address already in use)
[19/Sep/2016:11:08:47 +0200] category=PROTOCOL severity=ERROR msgID=184 msg=The HTTP Connection Handler defined in configuration entry cn=HTTP Connection Handler,cn=Connection Handlers,cn=config has experienced consecutive failures while trying to accept client connections: BindException: Address already in use (Net.java:-2 Net.java:433 Net.java:425 ServerSocketChannelImpl.java:223 ServerSocketAdaptor.java:74 TCPNIOBindingHandler.java:131 TCPNIOBindingHandler.java:88 TCPNIOTransport.java:238 TCPNIOTransport.java:218 TCPNIOTransport.java:209 NetworkListener.java:723 HttpServer.java:277 HTTPConnectionHandler.java:702 HTTPConnectionHandler.java:656). This connection handler will be disabled
[19/Sep/2016:11:08:47 +0200] category=CORE severity=NOTICE msgID=139 msg=The Directory Server has sent an alert notification generated by class org.opends.server.protocols.http.HTTPConnectionHandler (alert type org.opends.server.HTTPHandlerDisabledByConsecutiveFailures, alert ID org.opends.messages.protocol-184): The HTTP Connection Handler defined in configuration entry cn=HTTP Connection Handler,cn=Connection Handlers,cn=config has experienced consecutive failures while trying to accept client connections: BindException: Address already in use (Net.java:-2 Net.java:433 Net.java:425 ServerSocketChannelImpl.java:223 ServerSocketAdaptor.java:74 TCPNIOBindingHandler.java:131 TCPNIOBindingHandler.java:88 TCPNIOTransport.java:238 TCPNIOTransport.java:218 TCPNIOTransport.java:209 NetworkListener.java:723 HttpServer.java:277 HTTPConnectionHandler.java:702 HTTPConnectionHandler.java:656). This connection handler will be disabled

