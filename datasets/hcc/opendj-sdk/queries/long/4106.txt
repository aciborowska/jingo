When I import an LDIF file during setup and specify an invalid baseDN, the error I get gives no indication of what was wrong.

This command worked fine: 


/path/to/opendj/setup directory-server \
          --instancePath /path/to/opendj \
          --rootUserDn cn=Directory\ Manager \
          --rootUserPassword password \
          --hostname localhost \
          --adminConnectorPort 4444 \
          --ldapPort 1389 \
          --ldifFile /path/to/openidm/samples/workflow-use-cases/data/hr_data.ldif \
          --baseDn dc=example,dc=com \
          --backendType je-backend

This command did not work (note the bad baseDN):

 


/path/to/opendj/setup directory-server \
          --instancePath /path/to/opendj \
          --rootUserDn cn=Directory\ Manager \
          --rootUserPassword password \
          --hostname localhost \
          --adminConnectorPort 4444 \
          --ldapPort 1389 \
          --ldifFile /path/to/openidm/samples/workflow-use-cases/data/hr_data.ldif \
          --baseDn dc=com \
          --backendType je-backend

But the error that was returned was:


severity="ERROR" msgCount=16 msgID=org.opends.messages.config-646 message="org.forgerock.opendj.config.server.ConfigChangeListenerAdaptor.applyConfigurationChange failed for entry ds-cfg-backend-id=userRoot,cn=Backends,cn=config: result code=Other, admin action required=false, messages="An error occurred while trying to initialize a backend loaded from class org.opends.server.backends.jeb.JEBackend with the information in configuration entry ds-cfg-backend-id=userRoot,cn=Backends,cn=config: InitializationException: The database environment could not be opened: com.sleepycat.je.ThreadInterruptedException: (JE 7.3.7) Environment must be closed, caused by: com.sleepycat.je.ThreadInterruptedException: Environment invalid because of previous exception: (JE 7.3.7) /Users/lana/opendj/db/userRoot java.lang.InterruptedException THREAD_INTERRUPTED: InterruptedException may cause incorrect internal state, unable to continue. Environment is invalid and must be closed.

The appropriate error should have been something like:


The import has been aborted because the entry 'dc=example,dc=com' does not have a parent entry
