Found with OpenDJ 4.0.0 rev 10f0e9c1ad2e1296678c3706152a84437da35a78

We install and set up 2 servers.

./DJ1/opendj/setup -h localhost -p 1389 -D "cn=myself" -w password --adminConnectorPort 4444 -Z 1636 --generateSelfSignedCertificate -b dc=com -t je -O --cli -n
./DJ2/opendj/setup -h localhost -p 1390 -D "cn=myself" -w password --adminConnectorPort 4445 -Z 1637 --generateSelfSignedCertificate -b dc=com -t je  -O --cli -n



Then we start both servers and enable replication:


./DJ2/opendj/bin/start-ds 
./DJ1/opendj/bin/start-ds
./DJ1/opendj/bin/dsreplication enable --host1 localhost --port1 4444 --bindDN1 "cn=myself" --bindPassword1 "password" --replicationPort1 8989 --host2 localhost --port2 4445 --bindDN2 "cn=myself" --bindPassword2 "password" --replicationPort2 8990 -b dc=com -I admin -w password  -X -n
Establishing connections ..... Done.
Exception in thread "main" java.lang.NullPointerException
	at org.opends.server.tools.dsreplication.ReplicationCliMain.checkSuffixesForEnableReplication(ReplicationCliMain.java:4607)
	at org.opends.server.tools.dsreplication.ReplicationCliMain.enableReplication(ReplicationCliMain.java:4031)
	at org.opends.server.tools.dsreplication.ReplicationCliMain.enableReplication(ReplicationCliMain.java:726)
	at org.opends.server.tools.dsreplication.ReplicationCliMain.execute(ReplicationCliMain.java:530)
	at org.opends.server.tools.dsreplication.ReplicationCliMain.execute(ReplicationCliMain.java:473)
	at org.opends.server.tools.dsreplication.ReplicationCliMain.mainCLI(ReplicationCliMain.java:353)
	at org.opends.server.tools.dsreplication.ReplicationCliMain.main(ReplicationCliMain.java:305)

