searchrate (ldap-client) --> Proxy Example from SDK ---> OpenDJ 2.6.0

OpenDJ 2.6.0 resides on an virtual box CentOS 6.4 image.

Testcase:

start searchrate 

searchrate -h PROXY_HOST -p PROXY_PORT -D "cn=directory manager" -w password -F -c 4 -t 4 -b "dc=example,dc=com" -g "rand(0,2000)" "(uid=user.%d)"


stop virtual box (like pulling the power plug)
immediately restart virtual box and OpenDJ

Proxy will recover fine and searchrate will proceed.

Now change Proxy.java to use

Connections.newFixedConnectionPool(factory,10)


or

Connections.newCachedConnectionPool(factory,10,10,1000,TimeUnit.HOURS)



redo the test --> Proxy and so searchrate will not recover