Hi,

We have encountered an issue on Solaris 10, x86, as follows. The setup script hangs. It seems to try to create an IPv6 socket, but then fails to read from it. There were no IPv6 NIC's defined when the error occured. We actually plumbed up an IPv6 interface, but that did not make a difference.


/opt/OpenDJ/setup --cli --baseDN o=lmera --addBaseEntry --ldapPort 389 --adminConnectorPort 4444 --rootUserDN cn=admin,o=lmera --rootUserPassword ldapadmin --no-prompt --noPropertiesFile --doNotStart

OpenDJ 2.4.4
Please wait while the setup program initializes...

=============================

OpenDJ setup is creating an IPv6 socket:
23206/2: so_socket(PF_INET6, SOCK_STREAM, IPPROTO_IP, "", SOV_DEFAULT) = 5


But reading from it fails:
23206/2: read(5, 0xFE06D6D0, 8) Err#11 EAGAIN

Please let me know if you require any further information.

We have multiple test systems with this OpenDJ release without issue - so it could be that something netwrok-wise that we have changed locally on a particular test bed track that is causing this.

Regards,
DÃ³nal



root@wrnadmin52:/# cat /etc/hosts
::1             localhost fmnnmservice
127.0.0.1       localhost fmnnmservice
192.168.5.100   webiserver
10.51.12.78      nas1
10.51.12.84      nas2
#10.51.12.90      nasconsole
10.51.12.89      nasconsole
10.51.12.131 wrninfra52.edn.ran.ki.sw.ericsson.se wrninfra52
10.51.12.10 wrnadmin52 loghost
10.51.12.5 masterservice cnservice gsmservice fmadvservice wcdmaservice cdmaservice rpmoservice ebswservice ebssservice smservice pmservice fmservice
10.51.12.5 mailhost mashost timehost jumphost
10.51.12.5 ossfs
10.51.12.6 pms_vip pms-vip-v4
10.51.12.7 cms_vip cms-vip-v4
10.51.12.9 snmp_vip
10.51.12.8 masterdataservice pmdataservice fmdataservice dathost
10.51.12.131 wrninfra52.edn.ran.ki.sw.ericsson.se       wrninfra52
10.51.12.98 wrnuas52stor
10.51.12.35     wrnuas52
10.51.12.130 wrninfra51.edn.ran.ki.sw.ericsson.se       wrninfra51      smrs_master
10.51.12.34     wrnuas51

10.51.12.97 wrnuas51stor
200.200.200.15 wrnadmin51-priv
10.51.12.2 wrnadmin51
200.200.200.35 wrnadmin52-priv




root@wrnadmin52:/# ifconfig -a
lo0: flags=2001000849<UP,LOOPBACK,RUNNING,MULTICAST,IPv4,VIRTUAL> mtu 8232 index 1
        inet 127.0.0.1 netmask ff000000
oce0: flags=90408c2<BROADCAST,RUNNING,NOARP,MULTICAST,DEPRECATED,IPv4,NOFAILOVER> mtu 1500 index 2
        inet 10.51.12.11 netmask ffffffe0 broadcast 10.51.12.31
        groupname pub_mnic
        ether 0:17:a4:77:4:10
oce0:1: flags=10008c3<UP,BROADCAST,RUNNING,NOARP,MULTICAST,IPv4> mtu 1500 index 2
        inet 10.51.12.10 netmask ffffffe0 broadcast 10.51.12.31
oce0:2: flags=10008c3<UP,BROADCAST,RUNNING,NOARP,MULTICAST,IPv4> mtu 1500 index 2
        inet 10.51.12.8 netmask ffffffe0 broadcast 10.51.12.31
oce0:3: flags=10008c3<UP,BROADCAST,RUNNING,NOARP,MULTICAST,IPv4> mtu 1500 index 2
        inet 10.51.12.9 netmask ffffffe0 broadcast 10.51.12.31
oce0:4: flags=10008c3<UP,BROADCAST,RUNNING,NOARP,MULTICAST,IPv4> mtu 1500 index 2
        inet 10.51.12.6 netmask ffffffe0 broadcast 10.51.12.31
oce0:5: flags=10008c3<UP,BROADCAST,RUNNING,NOARP,MULTICAST,IPv4> mtu 1500 index 2
        inet 10.51.12.7 netmask ffffffe0 broadcast 10.51.12.31
oce0:6: flags=10008c3<UP,BROADCAST,RUNNING,NOARP,MULTICAST,IPv4> mtu 1500 index 2
        inet 10.51.12.5 netmask ffffffe0 broadcast 10.51.12.31
oce2: flags=9040843<UP,BROADCAST,RUNNING,MULTICAST,DEPRECATED,IPv4,NOFAILOVER> mtu 1500 index 5
        inet 10.51.12.95 netmask ffffffc0 broadcast 10.51.12.127
        groupname stor_mnic
        ether 0:17:a4:77:4:18
oce2:1: flags=1000843<UP,BROADCAST,RUNNING,MULTICAST,IPv4> mtu 1500 index 5
        inet 10.51.12.94 netmask ffffffc0 broadcast 10.51.12.127
oce3: flags=1000843<UP,BROADCAST,RUNNING,MULTICAST,IPv4> mtu 1500 index 6
        inet 10.51.12.165 netmask ffffffe0 broadcast 10.51.12.191
        ether 0:17:a4:77:4:1a
oce9: flags=90408c2<BROADCAST,RUNNING,NOARP,MULTICAST,DEPRECATED,IPv4,NOFAILOVER> mtu 1500 index 7
        inet 10.51.12.12 netmask ffffffe0 broadcast 10.51.12.31
        groupname pub_mnic
        ether 0:17:a4:77:4:16
oce10: flags=1000843<UP,BROADCAST,RUNNING,MULTICAST,IPv4> mtu 1500 index 3
        inet 200.200.200.35 netmask ffffff00 broadcast 200.200.200.255
        ether 0:17:a4:77:4:1c
oce11: flags=9040843<UP,BROADCAST,RUNNING,MULTICAST,DEPRECATED,IPv4,NOFAILOVER> mtu 1500 index 4
        inet 10.51.12.96 netmask ffffffc0 broadcast 10.51.12.127
        groupname stor_mnic
        ether 0:17:a4:77:4:1e







