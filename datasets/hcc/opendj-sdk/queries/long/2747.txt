The LDAPSyntaxTest unit tests sometimes fail in the substitution syntax test cases. This is due to the internal SDK schema becoming inconsistent due to attribute types, matching rules, or syntaxes being removed while referenced by other schema elements.

Suggested fix:

Logic that removes these schema elements should check to see if there are schema warnings when rebuilding the SDK schema. This should be done by invoking the method Schema#switchSchema() rather than directly calling Schema#setSchema().

In addition the LDAPSyntaxTest substitution tests should ensure that they cleanup any schema elements that they add during the test.