Found with OpenDJ 4.1.0 M5:

This issue happens randomly when starting servers in a replication topology.
But occurs very regularly.


(ERROR) [13/Jun/2017:06:54:41 +0100] category=SYNC severity=ERROR msgID=87 msg=While clearing the database cn=schema , the following error happened: While clearing the database E:\jenkins\workspace\OpenDJ-Tests-Master-Daily-STD\Configs\results\20170613-051228\proxy_group\ReplicationDiscovery\RS2\opendj\changelogDb\3.dom\2940.server , the following error happened: ChangelogException: Could not delete log file 'E:\jenkins\workspace\OpenDJ-Tests-Master-Daily-STD\Configs\results\20170613-051228\proxy_group\ReplicationDiscovery\RS2\opendj\changelogDb\3.dom\2940.server\head.log' (Log.java:672 FileReplicaDB.java:269 FileChangelogDB.java:439 ReplicationServerDomain.java:1599 ReplicationServerDomain.java:1389 ReplicationServerDomain.java:966 ReplicationServerDomain.java:893 ReplicationServerDomain.java:875 ReplicationServerDomain.java:805 ReplicationServerDomain.java:1279 ReplicationServer.java:689 ReplicationServerListener.java:94 MultimasterReplication.java:514 DirectoryServer.java:3496 ShutdownTaskThread.java:51) exception=ChangelogException: While clearing the database E:\jenkins\workspace\OpenDJ-Tests-Master-Daily-STD\Configs\results\20170613-051228\proxy_group\ReplicationDiscovery\RS2\opendj\changelogDb\3.dom\2940.server , the following error happened: ChangelogException: Could not delete log file 'E:\jenkins\workspace\OpenDJ-Tests-Master-Daily-STD\Configs\results\20170613-051228\proxy_group\ReplicationDiscovery\RS2\opendj\changelogDb\3.dom\2940.server\head.log' (Log.java:672 FileReplicaDB.java:269 FileChangelogDB.java:439 ReplicationServerDomain.java:1599 ReplicationServerDomain.java:1389 ReplicationServerDomain.java:966 ReplicationServerDomain.java:893 ReplicationServerDomain.java:875 ReplicationServerDomain.java:805 ReplicationServerDomain.java:1279 ReplicationServer.java:689 ReplicationServerListener.java:94 MultimasterReplication.java:514 DirectoryServer.java:3496 ShutdownTaskThread.java:51) (Log.java:680 FileReplicaDB.java:269 FileChangelogDB.java:439 ReplicationServerDomain.java:1599 ReplicationServerDomain.java:1389 ReplicationServerDomain.java:966 ReplicationServerDomain.java:893 ReplicationServerDomain.java:875 ReplicationServerDomain.java:805 ReplicationServerDomain.java:1279 ReplicationServer.java:689 ReplicationServerListener.java:94 MultimasterReplication.java:514 DirectoryServer.java:3496 ShutdownTaskThread.java:51) (ERROR) [13/Jun/2017:06:54:41 +0100] category=CORE severity=ERROR msgID=140 msg=An uncaught exception during processing for thread Change number indexer has caused it to terminate abnormally. The stack trace for that exception is: RuntimeException: org.opends.server.replication.server.changelog.api.AbortedChangelogCursorException: Cursor on log 'E:\jenkins\workspace\OpenDJ-Tests-Master-Daily-STD\Configs\results\20170613-051228\proxy_group\ReplicationDiscovery\RS2\opendj\changelogDb\3.dom\2940.server' has been aborted after a purge or a clear (ChangeNumberIndexer.java:403)

