The extract is unable to use the --bindPasswordFile parameter.

 OSX

opendj; bin /$ lls | grep pass
-rwxr-xr-x@ 1 opendj opendj 1150 Oct 31 19:19 encode-password
-rwxr-xr-x@ 1 opendj opendj 1093 Oct 31 19:19 ldappasswordmodify
-rw-r--r-- 1 opendj opendj 10 Nov 1 07:53 pass
-rw-r--r-- 1 opendj opendj 10 Nov 1 07:53 passfile

 

opendj; bin /$ ./supportextract --outputDirectory /opt/instances/data/new --bindDn "cn=Directory Manager" --bindPasswordFile ./pass
An error occurred while parsing the command-line arguments: The argument
bindPassword is required to have a value but none was provided in the argument
list and no default value is available

See "supportextract --help" to get more usage help


opendj; bin /$ ./supportextract --outputDirectory /opt/instances/data/new --bindDn "cn=Directory Manager" --bindPasswordFile $PWD/pass
An error occurred while parsing the command-line arguments: The argument
bindPassword is required to have a value but none was provided in the argument
list and no default value is available

See "supportextract --help" to get more usage help

--bindPassword works fine.

opendj; bin /$ ./supportextract --outputDirectory /opt/instances/data/new --bindDn "cn=Directory Manager" --bindPassword `cat pass`
2018-11-01 07:59:31 INFO The instance is running
2018-11-01 07:59:31 INFO No value was provided for --jdkToolsDirectory, JDK tool directory is set to /Library/Java/JavaVirtualMachines/jdk1.8.0_162.jdk/Contents/Home/bin
2018-11-01 07:59:31 INFO VERSION: 6.5.0.5c95ca017e4531939e9eb75fd7bf9215014739b2
2018-11-01 07:59:33 INFO Collecting the monitoring info from cn=monitor
2018-11-01 07:59:34 INFO Collecting process statistics
2018-11-01 07:59:34 INFO * Generating stack dump, sample number : 1
2018-11-01 07:59:34 INFO Cannot extract process statistics on OS: 'Mac OS X'
...

 

Linux & Windows

sh-4.1# ./supportextract --outputDirectory /opt/data --bindDN "cn=Directory Manager" --bindPasswordFile pass
Invalid state - trying to add a file to a closed zip archive
bash-4.1# ./supportextract --outputDirectory /opt/data --bindDN "cn=Directory Manager" --bindPasswordFile ./pass
Invalid state - trying to add a file to a closed zip archive
bash-4.1# ./supportextract --outputDirectory /opt/data --bindDN "cn=Directory Manager" --bindPasswordFile $PWD/pass
Invalid state - trying to add a file to a closed zip archive

bash-4.1# cat pass
password
bash-4.1# ls -l pass
-rw-r--r--. 1 root root 9 Nov 1 08:45 pass

 