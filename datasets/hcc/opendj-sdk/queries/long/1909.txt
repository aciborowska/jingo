diffEntries implements an add+delete but should be delete+add to avoid OPENDJ-631 and OPENDJ-1192.

Note the add of secAnswer followed by the delete.


	13/Mar/2015:08:53:19 -0700; conn=1014080; op=2
dn: uid=test1,ou=People,dc=example,dc=com
changetype: modify
add: givenName
givenName: XXX
-
delete: givenName
givenName: test1
-
delete: inetUserStatus
inetUserStatus: active
-
add: secAnswer
secAnswer: XXXX
-
delete: secAnswer
secAnswer:: IA==
-
add: secQuestion
secQuestion: XXXX
-
delete: secQuestion
secQuestion:: IA==



The ordering in this code is the only required change.

See: sdk-b2.6/src/main/java/org/forgerock/opendj/ldap/Entries.java:

                final Attribute addedValues = new LinkedAttribute(ato);
                addedValues.removeAll(afrom);
                if (!addedValues.isEmpty()) 
{
                    request.addModification(new Modification(ModificationType.ADD, addedValues));
                }

                final Attribute deletedValues = new LinkedAttribute(afrom);
                deletedValues.removeAll(ato);
                if (!deletedValues.isEmpty()) 
{
                    request.addModification(new Modification(ModificationType.DELETE, deletedValues));
                }