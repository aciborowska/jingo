During full_linux_upgrade task, there is InheritFromDNParent suite failing on Adding test entries. The problem seems to be with upgrade task:

	running the test with version = 7.0.0-SNAPSHOT in config pass the test (DJ is not upgraded)
	fails with version list version = ["4.0.0", "7.0.0-SNAPSHOT"].  (this version is used in Jenkins run, DJ is upgraded from 4.0.0 to 7.0.0)



 

Steps to reproduce:

	Setup DJ instance version 4.0.0
	Upgrade it to 7.0.0
	Add entry with inheritFromDNParent attribute

dn: cn=Inherit From PARENT,ou=base
objectClass: top
objectClass: subentry
objectClass: inheritedCollectiveAttributeSubentry
objectClass: inheritedFromDNCollectiveAttributeSubentry
cn: Inherit From PARENT
subtreeSpecification: { base "", minimum 3 }
inheritFromDNAttribute: entryDN
inheritFromDNParent: 1
inheritAttribute: st

	While adding entry with inheritFromDNParent attribute, error is raised:

# The LDAP modify request failed: 65 (Object Class Violation) # Additional Information: Entry "cn=Inherit From PARENT,ou=base" violates the schema because it contains attribute "inheritFromDNParent" which is not allowed by any of the object classes in the entry  




Expected results: It is possible to add entry with inheritFromDNParent attribute after server is upgraded to version 7.0.0

Current result: Adding entry with inheritFromDNParent attribute fails

 

Command to run test:

./run-pybot.py -s core_group.InheritFromDNParent dj  

Found in OPENDJ 7.0.0-SNAPSHOT, revision number: ecf5922b1d3364fb1ed1daff6ec4e117c000071b