Found with OpenDJ-3.0.0 rev 185acee3ba68d8da1782007eebacb3701dc996d6

When trying to use debugsearchindex for vlv index, for a total count of 10 entries, we want to hit target index of 2 in the result set and 6 entries after offset. We then expect 7 entries to be found.

We get the following result:


./opendj/bin/ldapsearch -h localhost -p 1390 -D "cn=myself" -w password -T -b "dc=com" --sortOrder +givenName -G 0:6:2:0 ""(givenName=*)"" givenName debugsearchindex

dn: cn=debugsearch
debugsearchindex: vlv=[INDEX:vlv.test_vlv_index][COUNT:7] final=[COUNT:7]
...



Whilst with 2.6, we get the following:

./opendj/bin/ldapsearch -h localhost -p 1390 -D "cn=myself" -w password -T -b "dc=com" --sortOrder +givenName -G 0:6:2:0 ""(givenName=*)"" givenName debugsearchindex

dn: cn=debugsearch
debugsearchindex: vlv=[INDEX:vlv.test_vlv_index][COUNT:10] final=[COUNT:7]
...



In 3.0.0, debugsearchindex does not display the right number in the first count, which should be the total number of entries found.
