Found using revision 11781.

Currently setup in non interactive mode don't check the length for the password of the Root User and allows empty password.
NOTE: the server fails to start at the end of the setup


$ ./setup --cli -D "cn=Directory Manager" -w "" -p 1389 -h localhost --adminConnectorPort 4444 -b dc=example,dc=com -d 2000 -Z 1636 -n --generateSelfSignedCertificate --acceptLicense
See /tmp/opendj-setup-6040237486363172841.log for a detailed log of this
operation.

Configuring Directory Server ..... Done.
Configuring Certificates ..... Done.
Importing Automatically-Generated Data (2000 Entries) ....... Done.
Starting Directory Server ......................................................... Stopping Directory Server ..... Done.



We should have an appropriate error message.