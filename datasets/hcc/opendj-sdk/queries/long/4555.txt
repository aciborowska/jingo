During a long running test (DJ used as an external CTS repository in an OAuth2 stress test)
the DJ server stopped answering requests.

All selector thread are blocked on the working queue, waiting to be able to add an operation to it.

"LDAP Connection Handler 0.0.0.0 port 1389(7) SelectorRunner" #267 daemon prio=5 os_prio=0 tid=0x00007fb269366000 nid=0x1f2f2 waiting on condition [0x00007fb27a1e1000]
   java.lang.Thread.State: TIMED_WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait for  <0x000000047714f230> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.LinkedBlockingQueue.offer(LinkedBlockingQueue.java:385)
	at org.opends.server.extensions.TraditionalWorkQueue.submitOperation(TraditionalWorkQueue.java:278)
	at org.opends.server.extensions.TraditionalWorkQueue.submitOperation(TraditionalWorkQueue.java:245)
	at org.opends.server.core.DirectoryServer.enqueueRequest(DirectoryServer.java:3141)
	at org.opends.server.core.WorkQueueStrategy.enqueueRequest(WorkQueueStrategy.java:37)
	at org.opends.server.protocols.ldap.LdapClientConnection.addOperationInProgress(LdapClientConnection.java:563)
...


This submitOperation() will block forever given that all worker threads are blocked in the processing of a Bind Request, waiting for the cancellation of all active requests, which seems to never being completed:

"Worker Thread 46" #242 prio=5 os_prio=0 tid=0x00007fb6a562b000 nid=0x1f2d9 waiting on condition [0x00007fb27bcfb000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait for  <0x00000006edac5690> (a java.util.concurrent.CountDownLatch$Sync)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)
	at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)
	at io.reactivex.internal.observers.BlockingMultiObserver.blockingGetError(BlockingMultiObserver.java:129)
	at io.reactivex.Completable.blockingGet(Completable.java:953)
	at org.opends.server.core.BindOperation.run(BindOperation.java:556)
	at org.opends.server.extensions.TraditionalWorkerThread.run(TraditionalWorkerThread.java:122)

