After JMX connections are closed, the counter for Open Connections (status command) derived from currentConnections (cn=monitor) is never decremented.

1) Enable JMX
2) Execute in order (this is the baseline):

	status
	ldapsearch cn=monitor
	ldapsearch cn=Client Connections, c=monitor
3) Hit the server with a single JMX connection (jconsole) then run the same commands above.
5) Wait 10 minutes and run the commands again.



Example:

[20/Mar/2015:10:50:02 -0600] category=CORE severity=NOTICE msgID=458891 msg=The Directory Server has sent an alert notification generated by class org.opends.server.core.DirectoryServer (alert type org.opends.server.DirectoryServerStarted, alert ID 458887):  The Directory Server has started successfully

Step 1) Enable JMX

0.0.0.0:1689 : JMX      : Enabled

Step 2) Execute in this order; this is the baseline.

leet:bin/$ status 

          — Server Status —
Server Run Status:        Started
Open Connections:         1


./ldapsearch -T --port 2389 -D "cn=Directory Manager" -j pass --baseDN cn=monitor --searchScope sub "(objectClass=*)" currentConnections | grep currentConnections 

currentConnections: 1


 ./ldapsearch --port 2389 -D "cn=Directory Manager" -j pass --baseDN "cn=Client Connections,cn=monitor" --searchScope sub "(objectClass=*)" | grep connection:

connection: connID="3" connectTime="20150320165013Z" source="127.0.0.1:54135" de

Step 3) Hit the server with a single JMX connection (jconsole) then run the same commands above.

          — Server Status —
Server Run Status:        Started
Open Connections:         2

./ldapsearch -T --port 2389 -D "cn=Directory Manager" -j pass --baseDN cn=monitor --searchScope sub "(objectClass=*)" currentConnections | grep currentConnections 

currentConnections: 2

 ./ldapsearch --port 2389 -D "cn=Directory Manager" -j pass --baseDN "cn=Client Connections,cn=monitor" --searchScope sub "(objectClass=*)" | grep connection:

connection: connID="4" connectTime="20150320165037Z" jmxConnID="rmi://192.168.0.
connection: connID="8" connectTime="20150320165047Z" source="127.0.0.1:54152" de

4) Wait 10 minutes and run the commands again.

          — Server Status —
Server Run Status:        Started
Open Connections:         2

currentConnections: 2

connection: connID="12" connectTime="20150320170735Z" source="127.0.0.1:54261" d

Notice the JMX connection has been removed from the cn=Client Connections object, but not decremented in the currentConnections and this, from the status command.