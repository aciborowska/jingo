Found with opendj 3.5.1.

We setup a server, without data.

${INSTANCE4}/opendj/setup -h openam.example.com -p ${INSTANCE4_LDAP_PORT} -D ${INSTANCE4_ROOT_DN} -w ${INSTANCE4_ROOT_PWD} --adminConnectorPort ${INSTANCE4_ADMIN_PORT} -Z ${INSTANCE4_LDAPS_PORT} -t je -b ${INSTANCE4_BASE_DN}  --generateSelfSignedCertificate --cli -n --acceptLicense



We enable encryption on database:


${INSTANCE4}/opendj/bin/dsconfig -h openam.example.com -p ${INSTANCE4_ADMIN_PORT} -D ${INSTANCE4_ROOT_DN} -w ${INSTANCE4_ROOT_PWD} -X set-backend-prop --backend-name userRoot --set confidentiality-enabled:true -n



We add 2 base dns to the userRoot backend:

${INSTANCE4}/opendj/bin/dsconfig -h openam.example.com -p ${INSTANCE4_ADMIN_PORT} -D ${INSTANCE4_ROOT_DN} -w ${INSTANCE4_ROOT_PWD} -X set-backend-prop --backend-name "userRoot" --add base-dn:dc=com --add base-dn:dc=cz -n



We enable compression:

${INSTANCE4}/opendj/bin/dsconfig -h openam.example.com -p ${INSTANCE4_ADMIN_PORT} -D ${INSTANCE4_ROOT_DN} -w ${INSTANCE4_ROOT_PWD} -X set-backend-prop --backend-name userRoot --set entries-compressed:true -n



We import data in this backend:

${INSTANCE4}/opendj/bin/import-ldif -h openam.example.com -p ${INSTANCE4_ADMIN_PORT} -D ${INSTANCE4_ROOT_DN} -w ${INSTANCE4_ROOT_PWD} -X -n userRoot -O  --skipFile ${TEMP_DIR}/skip-DJ_USERMODIFS4-20170424-121216.txt --rejectFile ${TEMP_DIR}/reject-DJ_USERMODIFS4-20170424-121216.txt -l ${DATA_DIR}/multiple_backends.ldif



Everything seems fine. 
But when querying entries under dc=com for instance:

$ ${INSTANCE4}/opendj/bin/ldapsearch -h openam.example.com -p ${INSTANCE4_LDAP_PORT} -D ${INSTANCE4_ROOT_DN} -w ${INSTANCE4_ROOT_PWD} -T -b dc=com -s base  "(objectclass=*)" SEARCH operation failed
Result Code:  80 (Other)
Additional Information:  The entry database does not contain a valid record for ID 6007

