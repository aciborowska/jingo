When attempting to list available backups using on a running DS using "restore --listBackups"
 command, an error is thrown:

 


./restore --backupDirectory /path/to/opendj/bak/userRoot/ --listBackups 
ERROR: argument listBackups is incompatible with use of this tool to interact
 with the directory as a client


 

 Adding the connection parameters results in the same error.

 

Expectation:

Existing backups should be listed

 

Workaround:

Adding the --offline argument, the command works as expected

./restore --backupDirectory /path/to/opendj/bak/userRoot/ --listBackups --offline

Backup ID: 20170818134719Z
Backup Date: 18/Aug/2017:14:47:20 +0100
Is Incremental: false
Is Compressed: false
Is Encrypted: false
Has Unsigned Hash: false
Has Signed Hash: false
Dependent Upon: none

Backup ID: 20170818135325Z
Backup Date: 18/Aug/2017:14:53:26 +0100
Is Incremental: false
Is Compressed: false
Is Encrypted: false
Has Unsigned Hash: false
Has Signed Hash: false
Dependent Upon: none


 