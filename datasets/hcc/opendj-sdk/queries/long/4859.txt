For "dsreplication configure" and "setup replication-server" towards a port with invalid ssl certificate, the behavior is different then other ldaptools. Usually, we have a prompt presenting the certificate, and an option to accept the cert anyway. Also, the return code when not accepting the cert should be 91.

Steps to reproduce:

1. Setup two DS' with LDAPS connection handlers that use an invalid ssl cert (e.g. expired). Create a truststore including a root cert, that signed the invalid one.

2. Run "dsreplication configure" or "setup replication-server" using this 'invalid' LDAPS port as admin port


./bin/dsreplication configure --host1 viktor.internal.forgerock.com --port1 1643 --bindDN1 "cn=Directory Manager" --bindPassword1 "password" --replicationPort1 8990 --host2 viktor.internal.forgerock.com --bindDN2 "cn=Directory Manager" --bindPassword2 "password" --replicationPort2 8989 -b o=example -I admin -w password --secureReplication2 --secureReplication1 -P /home/viktor/repos/pyforge/results/20180226-162301/badssl_group/tmp/java-client-truststore.jks -T truststorepass --port2 1640


3. check the tool output (we should get a prompt allowing to accept the certificate), we get just the error, and the tool interactive mode starts from beginning:


Error reading data from server viktor.internal.forgerock.com:1640. There is
an error with the certificate presented by the server.
Details: Connect Error: The LDAP connection has failed because an error
occurred during the SSL handshake:
java.security.cert.CertificateExpiredException: NotAfter: Thu Jan 18 11:20:30
CET 2018


>>>> Specify server administration connection parameters for the second server

Directory server hostname or IP address [viktor-dell]:


4. check the return code (we should get 91 Connect Error), we get 8 (Strong Authentication Required).

 Expected output should be something like:


Server Certificate:	
	
User DN : CN=security-centos7.internal.forgerock.com, O=Forgerock, C=FR	
Validity : From 'Wed Jan 17 11:20:30 CET 2018'	
           To 'Thu Jan 18 11:20:30 CET 2018'	
           Issuer : CN=*.root-ca.forgerock.com, O=Forgerock, C=FR	


Do you trust this server certificate?	
	
1) No	
2) Yes, for this session only	
3) Yes, also add it to a truststore	
4) View certificate details	

Enter choice [2]:

