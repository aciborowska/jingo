I noticed a perf regression with new connection pool when running on lab machine. In comparison with 6.5.0 connection pool it's 34% drop of ops/s. See graphs in attachment (3 graphs with different pool size).

When tested on my machine the perf was almost same with old and new connection pool but not running the stress test on bigger machine.

The test steps:

1. set connection pool size:

dsconfig -h beaufort.internal.forgerock.com -p 4447 -D "cn=Directory Manager" -w password -X set-backend-prop --backend-name proxyRoot --set request-connection-pool-size:10 -n

2. run searchrate:

searchrate -h beaufort.internal.forgerock.com -p 1392 -D "uid=user.0,ou=people,dc=com" -w password -d 600 -b dc=com -S -F -B 60 -c 40 -i 6 -g "rand(0,99999)" "(uid=user.{1})"

With old version step 1. is not done. 