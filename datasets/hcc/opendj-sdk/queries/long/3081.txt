Found with OpenDJ 4.0.0 rev 20160606004143

After an upgrade from 3.0.0 to 4.0.0, we get a warning message when starting the server:


[06/Jun/2016:06:10:25 +0100] category=CORE severity=WARNING msgID=org.opends.messages.config.174 msg=One or several definitions read from schema configuration file 03-rfc3112.ldif conflict with other definitions already read into the schema: There should be no warnings on the schema, but instead got 3 warnings: Unable to register attribute type supportedAuthPasswordSchemes with the server schema because its OID 1.3.6.1.4.1.4203.1.3.3 conflicts with the OID of an existing attribute type supportedAuthPasswordSchemes; Unable to register attribute type authPassword with the server schema because its OID 1.3.6.1.4.1.4203.1.3.4 conflicts with the OID of an existing attribute type authPassword; Unable to register object class authPasswordObject with the server schema because its OID 1.3.6.1.4.1.4203.1.4.7 conflicts with the OID of an existing object class authPasswordObject. The later definitions will be used



and when trying to encode a password with bcrypt password storage scheme, we get the following error:


encode-password.bat -c password -s Bcrypt 	

-- rc --
returned 1, expected 0
-- stdout --

-- stderr --
An error occurred while attempting to initialize server components to run the
tool: CryptoManager failed to publish the instance-key-pair
public-key-certificate entry in ADS: Failed to add entry
"ds-cfg-key-id=D722B1AFEC36E3CCAF082ACA2D4A1338,cn=instance keys,cn=admin
data" (id=org.opends.messages.core-668) (id=org.opends.messages.core-669)

