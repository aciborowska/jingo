Found using OpenDJ 6.5.0-SNAPSHOT (rev cca1f50dab3)

In multiple DSML testcases we get an unexpected LocalizedIllegalArgumentException:
1. doing a moddn with empty rdn
Excepted error:

    <batchResponse xmlns="urn:oasis:names:tc:DSML:2:0:core" requestID="Mandatory attribute [newrdn] of [modDNRequest] element is empty">
      <modDNResponse>
        <resultCode code="34" descr="invalidDNSyntax"/>
        <errorMessage>The provided value "" could not be parsed as a valid distinguished name because it contained an RDN containing an empty attribute name</errorMessage>'
      </modDNResponse>
    </batchResponse>



Got:

    <batchResponse xmlns="urn:oasis:names:tc:DSML:2:0:core" requestID="Mandatory attribute [newrdn] of [modDNRequest] element is empty">
      <errorResponse type="gatewayInternalError">
        <message>org.forgerock.i18n.LocalizedIllegalArgumentException: The provided value "" could not be parsed as a valid distinguished name because it contained an RDN containing an empty attribute name</message>
      </errorResponse>
    </batchResponse>



To reproduce this issue:

./run-pybot.py -s dsml_group.03error -t modDN_emptyrdn DJ



2. doing a bind with wrong user (root) and password
Expected error:

   <batchResponse xmlns="urn:oasis:names:tc:DSML:2:0:core">
      <errorResponse type="couldNotConnect">
        <message>org.opends.server.tools.LDAPConnectionException: The simple bind attempt failed</message>
      </errorResponse>
    </batchResponse>



Got:

The content does not seem to be xml: <!DOCTYPE html><html><head><title>Apache Tomcat/8.0.46 - Error report</title><style type="text/css">H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}A.name {color : black;}.line {height: 1px; background-color: #525D76; border: none;}</style> </head><body>
<h1>HTTP Status 500 - The provided value &quot;root&quot; could not be parsed as a valid distinguished name because the last non-space character was part of the attribute name 'root'</h1>
<div class="line"></div><p><b>type</b> Exception report</p><p><b>message</b> 
<u>The provided value &quot;root&quot; could not be parsed as a valid distinguished name because the last non-space character was part of the attribute name 'root'</u>
</p><p><b>description</b> 
<u>The server encountered an internal error that prevented it from fulfilling this request.</u>
</p><p><b>exception</b></p><pre>
org.forgerock.i18n.LocalizedIllegalArgumentException: The provided value &quot;root&quot; could not be parsed as a valid distinguished name because the last non-space character was part of the attribute name 'root'
	org.forgerock.opendj.ldap.Ava.decode(Ava.java:129)
	org.forgerock.opendj.ldap.Rdn.decode(Rdn.java:183)
	org.forgerock.opendj.ldap.Dn.decode(Dn.java:279)
	org.forgerock.opendj.ldap.Dn.valueOf(Dn.java:252)
	org.forgerock.opendj.ldap.Dn.valueOf(Dn.java:221)
	org.forgerock.opendj.ldap.messages.Requests.newSimpleBindRequest(Requests.java:1408)
	org.opends.dsml.protocol.DSMLServlet.buildBindRequest(DSMLServlet.java:468)
	org.opends.dsml.protocol.DSMLServlet.doPost(DSMLServlet.java:400)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
</pre><p><b>note</b> <u>The full stack trace of the root cause is available in the Apache Tomcat/8.0.46 logs.</u></p><hr class="line"><h3>Apache Tomcat/8.0.46</h3></body></html> 



To reproduce this issue:

./run-pybot.py -s dsml_group.08misc -t 080_bind_3 DJ

