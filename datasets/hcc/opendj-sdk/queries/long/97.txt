I have spent time reviewing the various error messages which can be logged during normal operation of replication (incl. network outages and initialization). There are many minor inconsistencies, bugs, bad severity levels, as well as several missing messages.

Firstly, the missing messages:


	A replication server does not log a message indicating that it is listening for incoming connections from DS and RS instances.




	A replication server never logs when it connects to or accepts connections from other DS/RS instances.




Next are the messages we do print but which have problems:

[01/Apr/2011:22:52:08 +0200] category=SYNC severity=NOTICE msgID=15138879 msg=Replication server stopped -1 has properly disconnected for cn=schema in local server id 15737. Trying to reconnect to a suitable replication server


	
	
		
		
			This message does not make any sense: has the RS stopped? What's -1? And what has disconnected? Should this be a WARNING?
		
		
	
	



[01/Apr/2011:22:52:08 +0200] category=SYNC severity=NOTICE msgID=15138878 msg=Replication is up and running for domain cn=schema with replication server id 10163 matts-virtualbox/192.168.56.101:8989 - local server id is 15737 - data generation is 8408


	
	
		
		
			This is a bit verbose: "up and running" and also illustrates the inconsistencies between the various messages. Generally speaking, whenever we refer to a DS instance we should use DS(xxx) and RS(yyy) for replication servers. We should ideally display the local and remote address, quote the domain DN, and consistently name the generation ID (see other messages).
		
		
	
	



[01/Apr/2011:22:49:15 +0200] category=SYNC severity=NOTICE msgID=15138959 msg=Local directory server 23211 is starting online full update for exporting 12 entries from suffix cn=admin data to remote directory server 32660


	
	
		
		
			See above.
		
		
	
	



[01/Apr/2011:22:49:16 +0200] category=SYNC severity=NOTICE msgID=15138960 msg=Local directory server 23211 has finished online full update for exporting suffix data cn=admin data to remote directory server 32660. 


	
	
		
		
			See above.
		
		
	
	



[01/Apr/2011:22:49:14 +0200] category=SYNC severity=NOTICE msgID=15138957 msg=Local directory server 32660 is starting online full update for importing suffix cn=admin data data from remote directory server 23211


	
	
		
		
			See above.
		
		
	
	



[01/Apr/2011:22:49:15 +0200] category=SYNC severity=NOTICE msgID=15138958 msg=Local directory server 32660 has finished online full update for importing suffix cn=admin data data from remote directory server 23211. 


	
	
		
		
			See above.
		
		
	
	



[01/Apr/2011:22:49:14 +0200] category=SYNC severity=NOTICE msgID=15138912 msg=Replication is connected to replication server, but has a different generation id for domain cn=admin data than replication server matts-laptop/127.0.1.1:8989 - local data generation is 67074 - replication server data generation is 139042 - This may be only temporary or requires a full resynchronization


	
	
		
		
			See above. Should this be a WARNING?
		
		
	
	



[01/Apr/2011:22:49:14 +0200] category=SYNC severity=NOTICE msgID=15138947 msg=Directory server 32660 for dn cn=admin data changed his status to Full update


	
	
		
		
			His status? This looks like an INFO message. Consistency remarks apply here too.
		
		
	
	



[01/Apr/2011:22:49:16 +0200] category=SYNC severity=NOTICE msgID=15138894 msg=The generation ID has been reset for domain cn=admin data. New reference generation id is 139042


	
	
		
		
			INFO? Also consistency (ID or id?)
		
		
	
	



[01/Apr/2011:22:52:07 +0200] category=SYNC severity=NOTICE msgID=15138893 msg=On suffix cn=admin data, replication server 10163 presented generation ID=-1 when expected generation ID=139042


	
	
		
		
			Is this bad? Domain or suffix or DN? What action should be taken? What is the implication?
		
		
	
	



[31/Mar/2011:09:26:03 +0200] category=SYNC severity=NOTICE msgID=15138962 msg=On suffix dc=example,dc=com, directory server 22495 presented generation ID=48 when expected generation ID=210511


	
	
		
		
			See above: here the ID is > -1.
		
		
	
	



[01/Apr/2011:23:06:28 +0200] category=SYNC severity=NOTICE msgID=15138839 msg=Could not connect to any replication server on suffix cn=schema among the following RS candidates {}, retrying...


	
	
		
		
			Grammar, consistency, ugly braces. This is probably a WARNING.
		
		
	
	



[01/Apr/2011:22:52:07 +0200] category=SYNC severity=MILD_ERROR msgID=14876753 msg=In RS 16047 for dn cn=admin data, update 0000012f12d64ca55aab00000001 will not be sent to RS 10163 with generation id -1 different from local generation id 139042


	
	
		
		
			Consistency again. We should probably treat -1 specially as it signifies that the domain has not been initialized IIRC.
		
		
	
	



[01/Apr/2011:23:11:11 +0200] category=SYNC severity=SEVERE_ERROR msgID=14942314 msg=Timed out waiting for monitor data for the domain "cn=schema" from replication server RS(10163)


	
	
		
		
			Consistency: is the severity level correct? I think it probably is (see next message).
		
		
	
	



[01/Apr/2011:23:11:28 +0200] category=SYNC severity=NOTICE msgID=15138913 msg=Replica DS(23211) heartbeat monitor for domain "cn=admin data" from RS(10163) at matts-virtualbox/192.168.56.101:8989 is closing the session because it could not detect a heartbeat


	
	
		
		
			Here the severity level is NOTICE, should it be more severe? See previous.
		
		
	
	



[01/Apr/2011:23:13:45 +0200] category=SYNC severity=NOTICE msgID=15139019 msg=Monitor data for the domain "dc=example,dc=com" has been received from replication server RS(10163)


	
	
		
		
			Consistency: include host/port etc... What is the implication? This is good news as it means the RS is now reachable again.
		
		
	
	



[01/Apr/2011:23:13:45 +0200] category=SYNC severity=INFORMATION msgID=14680180 msg=Late monitor data received for domain "dc=example,dc=com" from replication server RS(10163), and will be ignored


	
	
		
		
			Severity is probably correct. However, we need to be careful to throttle these as loads can arrive at once when a network problem is resolved due to network buffering.
		
		
	
	



[31/Mar/2011:09:26:09 +0200] category=SYNC severity=NOTICE msgID=15139004 msg=Domain dc=example,dc=com (server id: 22495) : disconnecting from this replication server (server id: 5712, url: matts-virtualbox:9989) : as a new one 16047 is more suitable


	
	
		
		
			Formatting is very weird. Why is the new RS more suitable? I seem to remember that these were logged repeatedly after dsreplication enable, but before the domain was initialized.
		
		
	
	



[01/Apr/2011:23:57:42 +0200] category=SYNC severity=NOTICE msgID=15138921 msg=SSL connection attempt from matts-virtualbox (192.168.56.101) failed: Remote host closed connection during handshake


	
	
		
		
			Woops. What happened here?
		
		
	
	



[02/Apr/2011:00:16:19 +0200] category=SYNC severity=SEVERE_ERROR msgID=14942274 msg=An unexpected error occurred while sending a Message to Replication Server 8989 dc=example,dc=com 16047. This connection is going to be closed and reopened


	
	
		
		
			And here?
		
		
	
	

