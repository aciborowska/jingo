Summary

The HTTP and LDAP connection handler health-checks verify that each listen-address has been resolved. Considering the connection handler lifecycle, it is very unlikely that a connection handler registered for health-check reports NOT_ALIVE, and, if it were to report NOT_ALIVE, the health-check might take a long time because it has to perform a DNS lookup.
The best option is probably to remove these health-checks.
Details

Â Connection handlers are registered for health-check only when the following:

	After directory server startup, if the connection handler initialization was successful, before the handler is started.
	After a connection handler is added, if the initialization and start was successful.
	After a connection handler is enabled, if the initialization and start was successful.



The connection handlers lifecycle is as follows:

	A connection handler is started after Directory server startup or when a new one is added.
	At Directory server startup, if one connection handler cannot be initialized or started, the server will shut down.
	A connection handler is stopped when the Directory server is shutting down or when removed / disabled.



If one of the listen address cannot be resolved, everything fails fast:

	LDAP connection handler fails during initialization.
	HTTP connection handler fails during start.



Considering the above, in addition to being potentially slow, the current health-checks can only report NOT_ALIVE during Directory server startup if an HTTP connection handler was initialized but not yet started or if start has failed and the Directory server has not finished shutting down. 
Therefore, It is probable that, when this health-check may report NOT_ALIVE, the Directory server is not even able to handle requests because it is starting or shutting down making this health-check useless.

One idea is to change these health-checks to verify that the connection handler has been bound and not closed, i.e. verify that the handler is started. Though we would fall in a similar situation, the health-check would report NOT_HEALTHY during Directory server startup or shutdown.

Considering all that, the best option is probably to remove the existing HTTP and LDAP connection handler health check.