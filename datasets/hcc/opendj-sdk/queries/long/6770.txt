When the SMTP handler is enabled to send out email notifications for account status updates, it is seen that changing the account status by using manage-account command sends out the correct email.

However, if one changes the account status by updating the ds-pwp-account-disabled attribute via ldapmodify, the wrong email is sent out.

For example,


manage-account  set-account-is-disabled  --hostname DS-650.fr.local  --port 4444  --bindDN "cn=Directory Manager"  --bindPassword password  --operationValue true  --targetDN uid=tward,ou=people,dc=example,dc=com  --trustAll 

sends out the correct email "Your directory account has been disabled".

We can then see that the ds-pwp-account-disabled attribute is set to True:

ldapsearch -h DS-650.fr.local -D "cn=Directory Manager" -w password -p 1389 -b "dc=example,dc=com" uid=tward  ds-pwp-account-disabled
dn: uid=tward,ou=People,dc=example,dc=com
ds-pwp-account-disabled: true


Similarly, enabling the account using the manage-account command, triggers the email "Your directory account has been re-enabled".

However, if we set the ds-pwp-account-disabled attribute to true or false using ldapmodify, then the wrong email is triggered.

Setting this attribute to True triggers the "Your directory account has been re-enabled" email and vice-versa.