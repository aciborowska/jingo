The logic in AttrHistoricalSingle.java and AttrHistoricalMultiple.java to update the ds-sync-hist attribute after a sequence of modifications should have some unit tests so we don't accidentally introduce a regression.