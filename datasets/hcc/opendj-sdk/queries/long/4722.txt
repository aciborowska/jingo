During monitoring of functional test results we noticed a new error after upgrade from older version (3.0.0) to current 6.0.0-SNAPSHOT. During start-up we can see following error in the output:

category=CORE severity=NOTICE msgID=139 msg=The Directory Server has sent an alert notification generated by class org.opends.server.core.DirectoryServer (alert type org.opends.server.DirectoryServerShutdown, alert ID org.opends.messages.core-141): The Directory Server has started the shutdown process. The shutdown was initiated by an instance of class org.opends.server.core.DirectoryServer and the reason provided for the shutdown was An error occurred while trying to start the Directory Server: ConfigException: An error occurred while trying to decode the managed object configuration entry cn=JVM Memory Usage,cn=Monitor Providers,cn=config: The Monitor Provider could not be decoded due to the following reason: The value "org.opends.server.monitors.MemoryUsageMonitorProvider" is not a valid value for the "java-class" property, which must have the following syntax: CLASS <= org.opends.server.api.MonitorProvider (ConfigExceptionFactory.java:71 ServerManagementContext.java:477 ServerManagedObject.java:411 RootCfgDefn.java:2213 MonitorConfigManager.java:86 DirectoryServer.java:1341 DirectoryServer.java:4118)

Looks like a missing upgrade task.

To reproduce the problem you can use our test framework with following command:

./run-pybot.py -s upgrade_group.basic -v opendj
