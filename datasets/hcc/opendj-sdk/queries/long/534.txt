When running the following:


#/opt/opendj/bin/dsconfig list-replication-domains -h localhost -p 4444 -X -D "cn=Directory Manager" -w password -s -n --provider-name "Multimaster Synchronization"



The return is output on stderr


cn=admin data
cn=schema
dc=1,dc=com



If you then pipe the result through grep it will always fail, even though the output of dsconfig matches the pattern.


# /opt/opendj/bin/dsconfig list-replication-domains -h localhost -p 4444 -X -D "cn=Directory Manager" -w password -s -n --provider-name "Multimaster Synchronization" | grep schema
cn=admin data
cn=schema
dc=1,dc=com

# echo $?
1

