I noticed that running dsreplication unconfigure interactively, ie it prompts for the various options, doesn't actually do anything at the end.

$ dj1/bin/dsreplication unconfigure --unconfigureAll -X


>>>> Specify OpenDJ LDAP connection parameters

Directory server hostname or IP address [acheron.local]: 

Directory server administration port number [4444]: 

Global Administrator User ID, or bind DN if no Global Administrator is defined
[admin]: 

Password for user 'admin': 
You can choose to unconfigure all the replication on the server.  If you
choose 'yes' the changelog and the replication port (if defined) will be
unconfigured; if this server contains replicated data, the data will not be
replicated with other servers any more; all the registration information will
be deleted.
Do you want to unconfigure all the replication configuration? (yes / no) [yes]: 


Compare with the output when you do provide all the arguments:

$ dj1/bin/dsreplication unconfigure --unconfigureAll -h localhost -p 4444 -D "cn=Directory Manager" -w password -X -n

Establishing connections ..... Done
Unconfiguring replication on base DN cn=admin data of server localhost:4444
.....Done
Unconfiguring replication on base DN dc=example,dc=com of server
localhost:4444 .....Done
Unconfiguring replication on base DN cn=schema of server localhost:4444 ..... Done
Unconfiguring replication port 8989 of server localhost:4444 ..... Done
Removing registration information ..... Done

See
/var/folders/18/kq21tt1x1yz6v5lmr6whvt1m0000gp/T/opendj-replication-7079152175835232131.log
for a detailed log of this operation.




It isn't just missing output; the server really still replicates.