Found with rev (73a37106e72)

In one of our tests for logger properties, we are enabling tamper evident on Common Audit CSV File access logger, setting a keystore file and a keystore pin:


./DJ2/opendj/bin/dsconfig -h nameserver.example.com -p 4445 -D "cn=myself" -w password -X set-log-publisher-prop --publisher-name "Common Audit Csv File Access Logger" --set key-store-pin:"&{file:/local/GIT/pyforge/results/20180316-104655/logging_group/DJ2/opendj/config/keystore-signature.jks.pin}" --set enabled:true --set tamper-evident:true --set key-store-file:/local/GIT/pyforge/results/20180316-104655/logging_group/DJ2/opendj/config/keystore-signature.jks --set csv-delimiter-char:# -n



This test no longer works, it is failing with:

The CSV File Access Log Publisher could not be modified due to a communications problem: Object Class Violation: Entry cn=Common Audit Csv File Access Logger,cn=Loggers,cn=config cannot be modified because the resulting entry would have violated the server schema: Entry cn=Common Audit Csv File Access Logger,cn=Loggers,cn=config violates the Directory Server schema configuration because it includes attribute ds-cfg-key-store-pin which is not allowed by any of the objectclasses defined in that entry



To reproduce:
./run-pybot.py -n -s logging_group.Publisher_Properties.LoggingProperties -t Enable_Tamper_Evident opendj                                                     