Using an example from the sdk, I tried to connect/bind to a server using the IPV6 address and I got the following exception:

java.net.SocketException: Address family not supported by protocol family: bind



This problem only occurs on Windows (dual stack or IPV6) with jdk1.6.

Example with jdk1.6:

C:\Users\testuser\Downloads>C:\jdk1.6.0_45\bin\java -cp opendj-ldap-sdk-examples-2.6.0.jar org.forgerock.opendj.examples.Proxy "win2008r2644-ipv6" 10389 "cn=myself" password "solaris11x861-ipv6" 1389 "solaris11x861-ipv6" 1389
Error listening on win2008r2644-ipv6:10389
java.net.SocketException: Address family not supported by protocol family: bind
        at sun.nio.ch.Net.bind(Native Method)
        at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:
124)
        at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:59)
        at org.glassfish.grizzly.nio.transport.TCPNIOBindingHandler.bindToChanne
lAndAddress(TCPNIOBindingHandler.java:131)
        at org.glassfish.grizzly.nio.transport.TCPNIOBindingHandler.bind(TCPNIOB
indingHandler.java:87)
        at com.forgerock.opendj.ldap.LDAPListenerImpl.<init>(LDAPListenerImpl.ja
va:90)
        at org.forgerock.opendj.ldap.LDAPListener.<init>(LDAPListener.java:236)
        at org.forgerock.opendj.examples.Proxy.main(Proxy.java:479)



Same command with jdk1.7:

C:\Users\testuser\Downloads>C:\jdk1.7.0_40\bin\java -cp opendj-ldap-sdk-examples
-2.6.2-SNAPSHOT.jar org.forgerock.opendj.examples.Proxy "win2008r2644-ipv6" 1038
9 "cn=myself" password "solaris11x861-ipv6" 1389 "solaris11x861-ipv6" 1389
Press any key to stop the server...

