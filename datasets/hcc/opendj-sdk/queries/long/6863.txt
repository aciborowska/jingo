I've just accidentally configured two replicas with the same server ID, yet they both connect successfully or, at least, appear to connect ok:



[16/Dec/2019:11:18:58 +0100] category=SYNC severity=NOTICE msgID=204 msg=Replication server RS(Shalna_Oanes) started listening for new connections on address 0.0.0.0 port 8989
[16/Dec/2019:11:18:58 +0100] category=SYNC severity=INFORMATION msgID=207 msg=Replication server RS(Shalna_Oanes) has accepted a connection from directory server DS(Shalna_Oanes) for domain "dc=example,dc=com" at /127.0.0.1:40154
[16/Dec/2019:11:18:58 +0100] category=SYNC severity=NOTICE msgID=62 msg=Directory server DS(Shalna_Oanes) has connected to replication server RS(Shalna_Oanes) for domain "dc=example,dc=com" at 127.0.1.1:8989 with generation ID 19855932
[16/Dec/2019:11:19:27 +0100] category=SYNC severity=INFORMATION msgID=206 msg=Replication server RS(Shalna_Oanes) has accepted a connection from replication server RS(Shalna_Oanes) for domain "dc=example,dc=com" at /127.0.0.1:40168
[16/Dec/2019:11:19:27 +0100] category=SYNC severity=INFORMATION msgID=207 msg=Replication server RS(Shalna_Oanes) has accepted a connection from directory server DS(Shalna_Oanes) for domain "dc=example,dc=com" at /127.0.0.1:40172
[16/Dec/2019:11:26:03 +0100] category=SYNC severity=NOTICE msgID=204 msg=Replication server RS(Shalna_Oanes) started listening for new connections on address 0.0.0.0 port 8989
[16/Dec/2019:11:26:04 +0100] category=SYNC severity=INFORMATION msgID=207 msg=Replication server RS(Shalna_Oanes) has accepted a connection from directory server DS(Shalna_Oanes) for domain "dc=example,dc=com" at /127.0.0.1:40244
[16/Dec/2019:11:26:04 +0100] category=SYNC severity=NOTICE msgID=62 msg=Directory server DS(Shalna_Oanes) has connected to replication server RS(Shalna_Oanes) for domain "dc=example,dc=com" at 127.0.1.1:8989 with generation ID 19855932
[16/Dec/2019:11:26:14 +0100] category=SYNC severity=INFORMATION msgID=206 msg=Replication server RS(Shalna_Oanes) has accepted a connection from replication server RS(Shalna_Oanes) for domain "dc=example,dc=com" at /127.0.0.1:40258
[16/Dec/2019:11:26:14 +0100] category=SYNC severity=INFORMATION msgID=207 msg=Replication server RS(Shalna_Oanes) has accepted a connection from directory server DS(Shalna_Oanes) for domain "dc=example,dc=com" at /127.0.0.1:40262



I would expect an error, at least in the RS logs (see 2nd last line) when it detects that it is connected to two DS with the same server ID. Server IDs are used when comparing CSNs, so it is important that each server has a unique name.


Â 