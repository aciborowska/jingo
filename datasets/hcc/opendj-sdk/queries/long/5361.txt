In https://ea.forgerock.com/docs/ds/dev-guide/index.html#affinity-lb it gives some Java source:


import static org.forgerock.opendj.ldap.LdapConnectionFactory.AUTHN_BIND_REQUEST;
import static org.forgerock.opendj.ldap.LdapConnectionFactory.HEARTBEAT_ENABLED;

// Pre-authenticate connections.
// The bind DN can differ from the target DN used to route subsequent requests.
final String bindDn   = "...";
final String password = "...";
final BindRequest bindRequest =
        newSimpleBindRequest(bindDn, password.toCharArray());
final Options factoryOptions =
        Options.defaultOptions()
               .set(HEARTBEAT_ENABLED, true)
               .set(AUTHN_BIND_REQUEST, bindRequest);
// Order is important for an affinity request load balancer.
final List<ConnectionFactory> factories = new LinkedList<>();
factories.add(Connections.newCachedConnectionPool(
        new LdapConnectionFactory("ldap.example.com", 1389, factoryOptions)));
factories.add(Connections.newCachedConnectionPool(
        new LdapConnectionFactory("ldap2.example.com", 1389, factoryOptions)));
final Connections.newAffinityRequestLoadBalancer(factories, factoryOptions);

final ConnectionFactory factory = Connections
       .newAffinityRequestLoadBalancer(factories, factoryOptions);
Connection ldapConnection = factory.getConnection();



The line:


final Connections.newAffinityRequestLoadBalancer(factories, factoryOptions);



Seems syntactically wrong.