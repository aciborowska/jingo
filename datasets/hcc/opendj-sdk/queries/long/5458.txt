With DS-6.5.0-SNAPSHOT rev. (d370c5695e1)

This failure started somewhere between commits: 8a4b7be9d16 and df32b9aff9e .

EDIT: I was investigating more and after few re-compilations I discovered that the commit when it started to fail is 2cdcb95f18a .

With log publisher configured by following commands:


./dsconfig -h pyforge.example.com -p 4444 -D "cn=Directory Manager" -w password -X set-log-publisher-prop --publisher-name "File-Based Access Logger" --set enabled:false --set filtering-policy:inclusive -n




./dsconfig -h pyforge.example.com -p 4444 -D "cn=Directory Manager" -w password -X create-access-log-filtering-criteria --criteria-name "TEST CRITERION" --type generic --publisher-name "File-Based Access Logger" --set user-is-member-of:cn=Admins,dc=com --set log-record-type:SEARCH -n




./dsconfig -h pyforge.example.com -p 4444 -D "cn=Directory Manager" -w password -X set-log-publisher-prop --publisher-name "File-Based Access Logger" --set enabled:true --set filtering-policy:inclusive -n


and running ldapsearch with fake control oid with criticality set to false:


./ldapsearch -h pyforge.example.com -p 1389 -D "uid=user.10,ou=Legacy,dc=com" -w password -b "ou=Legacy,dc=com" -J 9.1.1.1.1.0:false "uid=user.0"


We expect a message in logs with control-oid value, but at the moment a message is in log, but without control-oid value. This used to work before. This behavior is same for csv an json loggers.

Test framework command:


./run-pybot.py -s logging_group.publisher_filtering.member -v opendj


 