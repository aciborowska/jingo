Found with rev 662cb20ef80d9fab0fbe801335931f63594eb7e9

We have a test that reproduces the patch process used by dj sustaining team.
It creates an archive made of the subset of jars that have been patched,  it has  a new revision number in the properties file and this is unzipped over the existing installed archive.
This procedure does not work anymore since we explicitely checked that we have the same revision number between tools and server and that is no longer the case:


after patching:
/local/GIT/pyforge/results/20190628-165238/patch_group/JVMVersionPatch/DJ/opendj/bin/start-ds 

[28/Jun/2019:16:52:59 +0200] category=CORE severity=NOTICE msgID=139 msg=The Directory Server has sent an alert notification generated by class org.opends.server.core.DirectoryServer (alert type org.opends.server.DirectoryServerShutdown, alert ID org.opends.messages.core-141): The Directory Server has started the shutdown process. The shutdown was initiated by an instance of class org.opends.server.core.DirectoryServer and the reason provided for the shutdown was An error occurred while attempting to bootstrap the Directory Server: The OpenDJ binary version '7.0.0.7736e6a007bf17f44c6845cf4de1053d456df1e4' does not match the installed configuration version '7.0.0.662cb20ef80d9fab0fbe801335931f63594eb7e9'. Please run upgrade before continuing [28/Jun/2019:16:52:59 +0200] category=CORE severity=NOTICE msgID=203 msg=The Directory Server is now stopped




So my assumption is that patching will now be an upgrade procedure, is that so?
Matthew SwiftGaetan Boismal [X]Chris Ridd

Our test is:

./run-pybot.py -n -v -s patch_group opendj

