as discussed in ML: http://mail-archives.apache.org/mod_mbox/flink-dev/202005.mbox/%3cd4ee47e1-0214-aa2f-f5ac-c9daf708e98f@apache.org%3e, we should return a closeable iterator for TableResult#collect method to avoid resource leak. The suggested change is:




public interface TableResult {

  CloseableIterator<Row> collect();

}



we use existing org.apache.flink.util.CloseableIterator instead of additional api class, and CollectResultIterator can also inherit from CloseableIterator.

This change does not break current api.