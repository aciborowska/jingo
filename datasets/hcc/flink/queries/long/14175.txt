The KPL version (0.12.9) used by flink-connector-kinesis in the affected Flink versions has a thread leak bug that causes applications to run out of memory after frequent restarts:

KPL Issue - https://github.com/awslabs/amazon-kinesis-producer/issues/224

Fix - https://github.com/awslabs/amazon-kinesis-producer/pull/225/files

Upgrading KPL to 0.12.10 or higher is necessary to avoid this issue. The recommended version to upgrade would be the latest (0.13.1)

Note that KPL version in Flink 1.10.0 has been updated to the latest version (0.13.1): https://issues.apache.org/jira/browse/FLINK-12847

Â 