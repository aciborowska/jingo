There's a check in KinesisConfigUtil that validates the fact that either AWS_REGION or AWS_ENDPOINT is specified (not both), while Kinesis producer requires a region in any case (even with custom endpoint).

Also the error message for that validation outputs AWS_REGION twice.