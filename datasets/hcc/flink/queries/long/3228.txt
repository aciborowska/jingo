I have a streaming pipeline that writes to JDBC in its SinkFunction. When testing in local mode, I cannot submit the same job multiple times without restarting flink. Failing to restart flink results in java.sql.SQLException: No suitable driver found. I think this has to do with how flink loads user classes and how the DriverManager resolves the JDBC Connection class.

I'm not sure if this is only when running in local mode, or in general. I've been using YARN for cluster jobs, where I have 1:1 cluster to jobs. I suspect it will impact any cluster mode where processes are recycled between jobs.