We should remove the oldWorker only after starting newWorker successfully in ResourceManager#registerTaskExecutorInternal and javadoc for SlotProvider#allocateSlot is outdated.