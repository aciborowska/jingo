The document https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/config.html#yarn-application-attempts shows the yarn.application-attempts default value is none, but I found codes in  org.apache.flink.yarn.YarnClusterDescriptor class like below:


if (HighAvailabilityMode.isHighAvailabilityModeActivated(configuration)) {
   // activate re-execution of failed applications
   appContext.setMaxAppAttempts(
         configuration.getInteger(
               YarnConfigOptions.APPLICATION_ATTEMPTS.key(),
               YarnConfiguration.DEFAULT_RM_AM_MAX_ATTEMPTS));

   activateHighAvailabilitySupport(appContext);
} else {
   // set number of application retries to 1 in the default case
   appContext.setMaxAppAttempts(
         configuration.getInteger(
               YarnConfigOptions.APPLICATION_ATTEMPTS.key(),
               1));
}


This means, if HA mode, the default value is from Yarn(default 2), otherwise the default value is 1.

 