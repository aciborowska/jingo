I found that using non-ascii characters in string literals causes calcite planner to throw the following exception:


org.apache.calcite.runtime.CalciteException: Failed to encode '%测试%' in character set 'ISO-8859-1'



The query is 


SELECT * FROM T WHERE f0 LIKE '%测试%'



The reason for the issue is that calcite uses latin encoding ('ISO-8859-1') by default. In order to pass non-latin characters we should use unicode encoding as default.