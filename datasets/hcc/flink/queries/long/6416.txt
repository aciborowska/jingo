
    int count = 0;

    for (InputChannel channel : inputGate.getInputChannels().values()) {
      if (channel instanceof RemoteInputChannel) {
        RemoteInputChannel rc = (RemoteInputChannel) channel;

        int size = rc.unsynchronizedGetNumberOfQueuedBuffers();
        total += size;
        ++count;
      }
    }

    return total / (float) count;


If count is zero at the end of the loop, the division would produce exception.