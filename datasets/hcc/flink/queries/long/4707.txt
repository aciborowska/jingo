When using flink-connector-filesystem I'm now required to include the maven-bundle-plugin in my Flink project:

<build>
  <plugins>
    [...]
    <plugin>
    <groupId>org.apache.felix</groupId>
    <artifactId>maven-bundle-plugin</artifactId>
    <inherited>true</inherited>
    <extensions>true</extensions>
    </plugin>
    [...]
  </plugins>
</build>



Otherwise my project won't build with error:

[ERROR] Failed to execute goal on project flink: Could not resolve dependencies for project flink:flink:jar:1.0-SNAPSHOT: Failure to find org.apache.directory.jdbm:apacheds-jdbm1:bundle:2.0.0-M2 in http://MyProxyRepo was cached in the local repository, resolution will not be reattempted until the update interval of trisolute-release has elapsed or updates are forced -> [Help 1]

The bug came with https://github.com/apache/flink/commit/25a622fd9c9255bd1a5b4b6ff7891730dce34ac1
Related to https://issues.apache.org/jira/browse/FLINK-3929

Another workound is excluding the M2 version and replacing it with M3, as M3 is not built using bundle:

<dependency>
  <groupId>org.apache.flink</groupId>
  <artifactId>flink-connector-filesystem_2.10</artifactId>
  <version>1.2-SNAPSHOT</version>
  <exclusions>
    <exclusion>
    <groupId>org.apache.directory.jdbm</groupId>
    <artifactId>apacheds-jdbm1</artifactId>
    </exclusion>
  </exclusions>
</dependency>
		
<dependency>
  <groupId>org.apache.directory.jdbm</groupId>
  <artifactId>apacheds-jdbm1</artifactId>
  <version>2.0.0-M3</version>
  <scope>compile</scope>
</dependency>



I propose to replace the M2 with the M3 version in the flink-connector-filesystem pom.xml.