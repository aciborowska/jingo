
      for (View toUpdate : this.views) {
        toUpdate.update();
      }

      synchronized (lock) {
        views.addAll(toAdd);
        toAdd.clear();
        views.removeAll(toRemove);


For View's in toRemove, update() call is not needed. See earlier javadoc:

   * Notifies this ViewUpdater of a metric that should no longer be regularly updated.

