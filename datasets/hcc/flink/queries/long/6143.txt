
  public void endSession(JobID jobID) throws Exception {
    LocalFlinkMiniCluster flink = this.flink;
    if (flink != null) {


The flink field is not declared volatile and access to this.flink doesn't hold the LocalExecutor.lock