Currently the logic to determine python version in command-docker.sh[1] has an error:

	when there is only python3 installed, `command -v python` also returns 0 and then `python  (actually 3) python2_fileserver.py` will be executed then it causes an error
	in the case of python version management tool pyenv[2] is used, the soft link to python3 would exist even if user switched to python2, so simply check python3 before python(2) will NOT solve the problem.



The suggested way is:

python -c 'import sys; print(sys.version_info.major)'

 

[1] https://github.com/apache/flink/blob/master/flink-end-to-end-tests/test-scripts/common_docker.sh#L57

[2] https://github.com/pyenv/pyenv 