The problem is that on debug log level the org.apache.hadoop.util.Shell logs java.io.IOException: HADOOP_HOME or hadoop.home.dir are not set. if the HADOOP_HOME variable is not set. This is the case on Travis. Unfortunately, the Yarn test fail as soon as they find the word Exception in the logs. Thus, they fail for no reason.