Flink cannot be built for Hadoop 2.9.0 which was released on Nov. 17th, 2017.

When running 



mvn clean install -DskipTests -Dhadoop.version=2.9.0



Maven fails with the following error:



[ERROR] /Users/fhueske/Development/flink/flink-yarn/src/test/java/org/apache/flink/yarn/UtilsTest.java:[239,16] org.apache.flink.yarn.UtilsTest.TestingContainer is not abstract and does not override abstract method setExecutionType(org.apache.hadoop.yarn.api.records.ExecutionType) in org.apache.hadoop.yarn.api.records.Container



The problem is caused, because Hadoop 2.9.0 extended the Container interface with a getter (getExecutionType()) and a setter method (setExecutionType()) and adds a class dependency on ExecutionType.

Flink's UtilsTest class defines a class TestingContainer that implements the Container interface.

We cannot simply update the implementation of TestingContainer because previous versions of Hadoop do not provide ExecutionType.