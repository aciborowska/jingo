I'm building Flink for Scala 2.11 using the following command:


oss; cd flink; gco -- .; gl && \
./tools/change-scala-version.sh 2.11 && \
mvn clean install -DskipTests -Dhadoop.version=2.7.3 -Dscala.version=2.11.7 



For the past couple of days I've been unable to build Flink because of the following error:


[ERROR] Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.6:single (bin) on project flink-dist_2.11: Failed to create assembly: Error adding file to archive: /Users/jacek/dev/oss/flink/flink-dist/../flink-libraries/flink-gelly-examples/target/flink-gelly-examples_2.10-1.3-SNAPSHOT.jar -> [Help 1]



I've been able to trace it down to flink-dist/src/main/assemblies/bin.xml not being changed by ./tools/change-scala-version.sh so the build tries to include flink-gelly-examples_2.10 rather than flink-gelly-examples_2.11.

Please comment if my reasoning is correct or not and I'd be happy to work on it. Thanks.