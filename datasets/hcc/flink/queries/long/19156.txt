The code that checks if we should migrate the transaction id is as follows:



@Deprecated
private static final ListStateDescriptor<FlinkKafkaProducer.NextTransactionalIdHint> NEXT_TRANSACTIONAL_ID_HINT_DESCRIPTOR =
	new ListStateDescriptor<>("next-transactional-id-hint", TypeInformation.of(NextTransactionalIdHint.class));

if (context.getOperatorStateStore().getRegisteredStateNames().contains(NEXT_TRANSACTIONAL_ID_HINT_DESCRIPTOR)) {
	migrateNextTransactionalIdHindState(context);
}



The condition in if statement is never met because it checks if a Set<String> contains object of type ListStateDescriptor