The MiniCluster can deadlock in case if the fatal error handler is called while the MiniCluster shuts down. The reason is that the shut down happens under a lock which is required by the fatal error handler as well. If now the MiniCluster tries to shut down the underlying RPC service which waits for all actors to terminate, it will never complete because one actor is still waiting for the lock.

One solution would be to ignore the fatal error handler calls if the MiniCluster is shutting down.

https://s3.amazonaws.com/archive.travis-ci.org/jobs/257811319/log.txt