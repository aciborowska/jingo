We are testing Flink automatic memory management feature on Flink 1.11. However, YARN kept killing our containers due to the processes' physical memory exceeds the limit, although we have tuned the following configurations:


taskmanager.memory.process.size
taskmanager.memory.managed.fraction


We suspect that it's because we have enabled mmap_read for RocksDB, since turning this options off seems to fix the issue. Maybe Flink automatic memory management is unable to account for the addition memory required when using mmap_read ?

Â 