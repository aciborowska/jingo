Currently, the per-partition offset metrics are registered via the AbstractFetcher#addOffsetStateGauge method. That method is only ever called for the initial startup partitions, and not for dynamically discovered partitions.

We should consider adding some unit tests to make sure that metrics are properly registered for all partitions. That would also safeguard us from accidentally removing metrics.