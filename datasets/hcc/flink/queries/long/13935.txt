The YarnPrioritySchedulingITCase does an early exit in BeforeClass if run against a hadoop version lower than 2.8 . The AfterClass method in the YarnTestBase however cannot handle this case and fails with an NPE.


22:33:21.941 [ERROR] org.apache.flink.yarn.YarnPrioritySchedulingITCase.org.apache.flink.yarn.YarnPrioritySchedulingITCase
22:33:21.942 [ERROR]   Run 1: YarnPrioritySchedulingITCase.setup:40 Â» AssumptionViolated Priority scheduling...
22:33:21.943 [ERROR]   Run 2: YarnPrioritySchedulingITCase>YarnTestBase.teardown:956 Â» NullPointer



https://travis-ci.org/apache/flink/jobs/579264625