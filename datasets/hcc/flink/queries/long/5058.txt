In FlinkShell.scala, someone mistakenly set  slots value to taskManagerMemory attribute as follow:

// set configuration from user input
yarnConfig.jobManagerMemory.foreach((jmMem) => args ++= Seq("-yjm", jmMem.toString))
yarnConfig.slots.foreach((tmMem) => args ++= Seq("-ytm", tmMem.toString))
yarnConfig.name.foreach((name) => args ++= Seq("-ynm", name.toString))
yarnConfig.queue.foreach((queue) => args ++= Seq("-yqu", queue.toString))
yarnConfig.slots.foreach((slots) => args ++= Seq("-ys", slots.toString))


Note on the third line: yarnConfig.slots.foreach((tmMem) => args ++= Seq("-ytm", tmMem.toString)) , we set slots value to -ytm attribute, the right code should be:

// set configuration from user input
yarnConfig.jobManagerMemory.foreach((jmMem) => args ++= Seq("-yjm", jmMem.toString))
yarnConfig.taskManagerMemory.foreach((tmMem) => args ++= Seq("-ytm", tmMem.toString))
yarnConfig.name.foreach((name) => args ++= Seq("-ynm", name.toString))
yarnConfig.queue.foreach((queue) => args ++= Seq("-yqu", queue.toString))
yarnConfig.slots.foreach((slots) => args ++= Seq("-ys", slots.toString))


