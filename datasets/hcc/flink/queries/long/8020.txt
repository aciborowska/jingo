Our streaming job run into trouble in these days after a long time smooth running. One issue we found is https://issues.apache.org/jira/browse/FLINK-8019 and another one is this one.

After analyzing the jstack, we believe  we found a DEAD LOCK in flink:
1. The thread "cache-process0 -> async-operator0 -> Sink: hbase-sink0 (8/8)" hold lock 0x00000007b6aa1788 and is waiting for lock 0x00000007b6aa1940.
2. The thread "Time Trigger for cache-process0 -> async-operator0 -> Sink: hbase-sink0 (8/8)" hold lock 0x00000007b6aa1940 and is waiting for lock 0x00000007b6aa1788. 

This DEADLOCK made the job fail to proceed. 