When no memory configuration parameters are set for the Master process then this exception is logged by the BashJavaUtils:


Exception in thread "main" org.apache.flink.configuration.IllegalConfigurationException: Either required fine-grained memory (jobmanager.memory.heap.size), or Total Flink Memory size (Key: 'jobmanager.memory.flink.size' , default: null $        at org.apache.flink.runtime.util.config.memory.ProcessMemoryUtils.failBecauseRequiredOptionsNotConfigured(ProcessMemoryUtils.java:111)                                                                                                       at org.apache.flink.runtime.util.config.memory.ProcessMemoryUtils.memoryProcessSpecFromConfig(ProcessMemoryUtils.java:81)                                                                                                                    at org.apache.flink.runtime.jobmanager.JobManagerProcessUtils.processSpecFromConfig(JobManagerProcessUtils.java:76)                                                                                                                          at org.apache.flink.runtime.jobmanager.JobManagerProcessUtils.processSpecFromConfigWithNewOptionToInterpretLegacyHeap(JobManagerProcessUtils.java:71)                                                                                        at org.apache.flink.runtime.util.bash.BashJavaUtils.getJmResourceParams(BashJavaUtils.java:92)                                                                                                                                               at org.apache.flink.runtime.util.bash.BashJavaUtils.runCommand(BashJavaUtils.java:66)                                                                                                                                                        at org.apache.flink.runtime.util.bash.BashJavaUtils.main(BashJavaUtils.java:54)



Afterwards, the Master process however continues to start just fine.

TaskManagers will not be started given the same situation, which is inconsistent behavior, and it seems dangerous to start a process despite an illegal configuration.