Hit this issue with 1.9.1 in a dockerized env where sql-cli, JM, TM run in separated containers. Stacktrace is as follow:

Caused by: javax.xml.transform.TransformerFactoryConfigurationError: Provider org.apache.xalan.processor.TransformerFactoryImpl not found
	at javax.xml.transform.TransformerFactory.newInstance(Unknown Source)
	at org.apache.hadoop.conf.Configuration.writeXml(Configuration.java:2784)
	at org.apache.hadoop.conf.Configuration.writeXml(Configuration.java:2769)
	at org.apache.hadoop.hive.conf.HiveConf.getConfVarInputStream(HiveConf.java:3628)
	at org.apache.hadoop.hive.conf.HiveConf.initialize(HiveConf.java:4051)
	at org.apache.hadoop.hive.conf.HiveConf.<init>(HiveConf.java:4013)
	at org.apache.flink.connectors.hive.HiveTableOutputFormat.finalizeGlobal(HiveTableOutputFormat.java:220)
	at org.apache.flink.runtime.jobgraph.InputOutputFormatVertex.finalizeOnMaster(InputOutputFormatVertex.java:133)
	at org.apache.flink.runtime.executiongraph.ExecutionGraph.vertexFinished(ExecutionGraph.java:1365)
	... 32 more


It seems the root cause is flink-shaded-hadoop-2-uber contains javax.xml.transform.TransformerFactory and in the newInstance of this class it specifies org.apache.xalan.processor.TransformerFactoryImpl as the fallback class which doesn't exist in classpath.