I built the latest snapshot of 1.4 yesterday and tried testing it with a simple word count example, where StreamUtil is just a helper that checks input parameters:



import org.apache.flink.api.java.utils.ParameterTool
import org.apache.flink.streaming.api.scala._

object Words {
  def main(args: Array[String]) {
    // set up the execution environment
    val env = StreamExecutionEnvironment.getExecutionEnvironment

    val params = ParameterTool.fromArgs(args)
    env.getConfig.setGlobalJobParameters(params)
    val dataStream = StreamUtil.getDataStream(env, params)

    val wordDataStream = dataStream
      .flatMap{ _.split(" ") }

    wordDataStream.println

    // execute program
    env.execute("Words Scala")
  }
}



This runs without an issue on the latest stable version of 1.3 and writes its results to the out file, which I can tail to see the results. This doesn't happen in 1.4, however. I can modify it to write out to a file, however:




import org.apache.flink.api.java.utils.ParameterTool
import org.apache.flink.core.fs.FileSystem.WriteMode
import org.apache.flink.streaming.api.scala._

object Words {
  def main(args: Array[String]) {
    // set up the execution environment
    val env = StreamExecutionEnvironment.getExecutionEnvironment

    val params = ParameterTool.fromArgs(args)
    env.getConfig.setGlobalJobParameters(params)
    val dataStream = StreamUtil.getDataStream(env, params)

    val wordDataStream = dataStream
      .flatMap{ _.split(" ") }

    wordDataStream
      .writeAsText("file:///somepath/output", WriteMode.OVERWRITE)
      .setParallelism(1)

    // execute program
    env.execute("Words Scala")
  }
}



Any clues as to what might be causing this?