When the directory defined in ${historyserver.archive.fs.dir} is empty (=there are no archived completed jobs), the History Server UI fails to show the Completed Jobs table.

It should show the empty table with correct column headers and "No data" icon.

This is due to file ${historyserver.web.tmpdir}/jobs/overview.json not being created. This file is fetched by the web UI from url `/jobs/overview`.

This file is correctly created and populated by the History Server if the directory defined in ${historyserver.archive.fs.dir} contains any job.

The situation when the Completed Jobs table is not populated normally indicates that the History Server stars up and processes the jobs in the archive, so the user should wait. 
This happened to us few times, as we waited for the HS to finish the archived jobs processing just to find out after hours that the HS has in fact nothing to show.

 

The fix is simple, by removing `


if (!events.isEmpty())

condition around 


updateJobOverview(webOverviewDir, webDir)

in the HistoryServerArchiveFetcher.java

 