Because Kryo swallows the EOFException and instead throws a KryoException, it breaks the logic that detects end-of-stream and end-of-memory.

I will prepare a patch.