
    final RandomAccessFile raf;
    try {
      raf = new RandomAccessFile(file, "r");
    }
    catch (FileNotFoundException e) {
      sendError(ctx, NOT_FOUND);
      return;
    }
    long fileLength = raf.length();


The RandomAccessFile, raf, should be closed upon return from the method.