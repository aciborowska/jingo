

[INFO] Running org.apache.flink.core.plugin.DirectoryBasedPluginFinderTest

[ERROR] Tests run: 8, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.268 s <<< FAILURE! - in org.apache.flink.core.fs.local.LocalFileSystemTest

[ERROR] testRenameFileWithNoAccess(org.apache.flink.core.fs.local.LocalFileSystemTest)  Time elapsed: 0.032 s  <<< FAILURE!

java.lang.AssertionError

        at org.apache.flink.core.fs.local.LocalFileSystemTest.testRenameFileWithNoAccess(LocalFileSystemTest.java:294)

[ERROR] Tests run: 7, Failures: 1, Errors: 0, Skipped: 1, Time elapsed: 0.598 s <<< FAILURE! - in org.apache.flink.util.FileUtilsTest

[ERROR] testDeleteDirectory(org.apache.flink.util.FileUtilsTest)  Time elapsed: 0.002 s  <<< FAILURE!

java.lang.AssertionError: this should fail with an exception

        at org.apache.flink.util.FileUtilsTest.testDeleteDirectory(FileUtilsTest.java:169)



I think it's similar to the problem of FLINK-2198

File.setWritable()  does not work  on Linux when using root.

When I use gitlab Ci, I found this problem.