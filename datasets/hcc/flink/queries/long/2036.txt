The KafkaITCase currently creates a lot of LocalStreamExecution environments. It would be more desirable to use TestStreamEnvironments and maybe reuse some them if it is possible.

I have started working on this [1], but some tests fail with the TestStreamEnvironment. A pair of additional eyes would come in handy.

[1] https://github.com/mbalassi/flink/commit/0df13dc91fb16efe5bedd1917a5a5e1c8615b1ed