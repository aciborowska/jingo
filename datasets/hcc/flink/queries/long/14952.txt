As reported by a user on the user mailing list, combination of using BoundedBlockingSubpartition with yarn containers can cause yarn container to exceed memory limits.
2019-11-19 12:49:23,068 INFO org.apache.flink.yarn.YarnResourceManager - Closing TaskExecutor connection container_e42_1574076744505_9444_01_000004 because: Container [pid=42774,containerID=container_e42_1574076744505_9444_01_000004] is running beyond physical memory limits. Current usage: 12.0 GB of 12 GB physical memory used; 13.9 GB of 25.2 GB virtual memory used. Killing container.
This is probably happening because memory usage of mmap is not capped and not accounted by configured memory limits, however yarn is tracking this memory usage and once Flink exceeds some threshold, container is being killed.

Workaround is to overrule default value and force Flink to not user mmap, by setting a secret (ðŸ¤«) config option:

taskmanager.network.bounded-blocking-subpartition-type: file

