Here is related code in respondAsLeader():

    final RandomAccessFile raf;
    try {
      raf = new RandomAccessFile(file, "r");
...
    long fileLength = raf.length();
...
    // write the content.
    ctx.write(new DefaultFileRegion(raf.getChannel(), 0, fileLength), ctx.newProgressivePromise());



There is no close() call to raf before returning.