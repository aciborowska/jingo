There is a bug in StreamTaskNetworkInput#isAvailable. It ignores the case if some data/records are currently buffered in currentRecordDeserializer field.