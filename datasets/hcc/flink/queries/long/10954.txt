Currently, local recovery's base directories is initialized from 'io.tmp.dirs' if parameter 'taskmanager.state.local.root-dirs' is not set. For Yarn environment, the tmp dirs is replaced by its 'LOCAL_DIRS', which might consist of directories from different devices, such as /dump/1/nm-local-dir, /dump/2/nm-local-dir. The local directory for RocksDB is initialized from IOManager's spillingDirectories, which might located in different device from local recovery's folder. However, hard-link between different devices is not allowed, it will throw exception below:



java.nio.file.FileSystemException: target -> souce: Invalid cross-device link


