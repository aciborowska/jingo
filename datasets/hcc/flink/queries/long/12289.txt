According to the JavaDoc,  MemoryManager.release method should throw an NPE if the input argument is null. 

In addition, there are some typos in class MemoryManager.