I didn't analyze what exactly caused the program to stop making any progress, but it looks like some locking issue somewhere.

Here is the log: https://s3.amazonaws.com/archive.travis-ci.org/jobs/143000039/log.txt

It contains many traces like this

OutputFlusher" daemon prio=10 tid=0x00007fd240853000 nid=0xb026 waiting for monitor entry [0x00007fd21a5ee000]
   java.lang.Thread.State: BLOCKED (on object monitor)
	at org.apache.flink.runtime.io.network.api.writer.RecordWriter.flush(RecordWriter.java:173)
	- waiting to lock <0x00000000fdd76fb8> (a org.apache.flink.runtime.io.network.api.serialization.SpanningRecordSerializer)
	at org.apache.flink.streaming.runtime.io.StreamRecordWriter$OutputFlusher.run(StreamRecordWriter.java:176)

"Map -> Map (7/12)" daemon prio=10 tid=0x00007fd24d0d5800 nid=0xb023 in Object.wait() [0x00007fd21a6ef000]
   java.lang.Thread.State: TIMED_WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000000fdd76b78> (a java.util.ArrayDeque)
	at org.apache.flink.runtime.io.network.buffer.LocalBufferPool.requestBuffer(LocalBufferPool.java:163)
	- locked <0x00000000fdd76b78> (a java.util.ArrayDeque)



and some of these:


"Async calls on Source: Custom Source -> Filter (7/12)" daemon prio=10 tid=0x00007fd22844c000 nid=0xb0cc waiting for monitor entry [0x00007fd1faa7b000]
   java.lang.Thread.State: BLOCKED (on object monitor)
	at org.apache.flink.streaming.runtime.tasks.StreamTask.performCheckpoint(StreamTask.java:557)
	- waiting to lock <0x00000000fde15960> (a java.lang.Object)
	at org.apache.flink.streaming.runtime.tasks.StreamTask.triggerCheckpoint(StreamTask.java:541)
	at org.apache.flink.runtime.taskmanager.Task$2.run(Task.java:945)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)

