With Unaligned checkpoints, happens always (new checkpoint is never started or triggered).

With Aligned checkpoints - to some degree - depending on state size and thresholds: delayed by 1 minute. Delay grows very slowly with state size.

 

Filesystems: s3p and s3a

Parallelism: 176, repartition (num stages): 5.

Number of files in checkpoint is about 1K (depends on state.backend.fs.memory-threshold and their size). Size doesn't matter (100K..10G).