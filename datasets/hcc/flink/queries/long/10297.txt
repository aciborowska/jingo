PostVersionedIOReadableWritable ignores result of InputStream.read(...). Probably the intention was to invoke readFully. As it is now, this can lead to a corrupted deserialization.