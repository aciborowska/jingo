Resuming from savepoint error when I add a "sum (2)" column to flink sql .

 


org.apache.flink.util.StateMigrationException: State migration is currently not supported.
	at org.apache.flink.util.StateMigrationException.notSupported(StateMigrationException.java:42)
	at org.apache.flink.runtime.state.RegisteredKeyValueStateBackendMetaInfo.resolveKvStateCompatibility(RegisteredKeyValueStateBackendMetaInfo.java:212)
	at org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackend.tryRegisterKvStateInformation(RocksDBKeyedStateBackend.java:1336)
	at org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackend.createInternalState(RocksDBKeyedStateBackend.java:1391)
	at org.apache.flink.runtime.state.KeyedStateFactory.createInternalState(KeyedStateFactory.java:47)
	at org.apache.flink.runtime.state.ttl.TtlStateFactory.createStateAndWrapWithTtlIfEnabled(TtlStateFactory.java:63)
	at org.apache.flink.runtime.state.AbstractKeyedStateBackend.getOrCreateKeyedState(AbstractKeyedStateBackend.java:238)
	at org.apache.flink.streaming.api.operators.AbstractStreamOperator.getOrCreateKeyedState(AbstractStreamOperator.java:562)
	at org.apache.flink.streaming.runtime.operators.windowing.WindowOperator.open(WindowOperator.java:240)
	at org.apache.flink.streaming.runtime.tasks.StreamTask.openAllOperators(StreamTask.java:424)
	at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:290)
	at org.apache.flink.runtime.taskmanager.Task.run(Task.java:711)
	at java.lang.Thread.run(Thread.java:748)


 Originally running sql：


SELECT TUMBLE_START(rowtime, INTERVAL '1' minute) as dtEventTime,
word,
sum(frequency) as frequency
FROM test
GROUP BY word,
TUMBLE(rowtime, INTERVAL '1' minute)



 Modify sql to increase sum function


SELECT TUMBLE_START(rowtime, INTERVAL '1' minute) as dtEventTime,
word,
sum(frequency) as frequency,
sum(2) as s2
FROM test
GROUP BY word,
TUMBLE(rowtime, INTERVAL '1' minute)


 

 