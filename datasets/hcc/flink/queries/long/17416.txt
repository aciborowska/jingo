When using java-8-8u252 version, the flink container end-to-end failed. The test  `Running 'Run kubernetes session test'` fails with the `Broken pipe` error.

See:

https://logs.openlabtesting.org/logs/periodic-20-flink-mail/github.com/apache/flink/master/flink-end-to-end-test-arm64-container/fcfdd47/job-output.txt.gz

 

Flink Azure CI doesn't hit this problem because it runs under jdk-8-8u242

 

The reason is that the okhttp library which flink using doesn't work on java-8-8u252:

https://github.com/square/okhttp/issues/5970

 

The problem has been with the PR:

https://github.com/square/okhttp/pull/5977

 

Maybe we can wait for a new 3.12.x release and bump the okhttp version in Flink later.

 

 