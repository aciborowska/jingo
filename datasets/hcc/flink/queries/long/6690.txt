Rescaling appears to be broken for both 1.3 and 1.4. WHen i tried it out i got the following exception:


java.lang.IllegalStateException: Could not initialize keyed state backend.       at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initKeyedState(AbstractStreamOperator.java:321)       at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:217)       at org.apache.flink.streaming.runtime.tasks.StreamTask.initializeOperators(StreamTask.java:675)       at org.apache.flink.streaming.runtime.tasks.StreamTask.initializeState(StreamTask.java:662)       at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:251)       at org.apache.flink.runtime.taskmanager.Task.run(Task.java:702)       at java.lang.Thread.run(Thread.java:745) Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0       at java.util.ArrayList.rangeCheck(ArrayList.java:635)       at java.util.ArrayList.get(ArrayList.java:411)       at org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackend$RocksDBFullRestoreOperation.restoreKVStateData(RocksDBKeyedStateBackend.java:1183)       at org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackend$RocksDBFullRestoreOperation.restoreKeyGroupsInStateHandle(RocksDBKeyedStateBackend.java:1089)       at org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackend$RocksDBFullRestoreOperation.doRestore(RocksDBKeyedStateBackend.java:1070)       at org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackend.restore(RocksDBKeyedStateBackend.java:957)       at org.apache.flink.streaming.runtime.tasks.StreamTask.createKeyedStateBackend(StreamTask.java:771)       at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initKeyedState(AbstractStreamOperator.java:311)       ... 6 more

