If user defined a DDL like:
"CREATE TABLE orders (\n" +
            "  order_id STRING,\n" +
            "  item    STRING,\n" +
            "  currency STRING,\n" +
            "  amount INT,\n" +
            "  amount_kg as amount * 1000,\n" +
            "  order_time TIMESTAMP(3),\n" +
            "  ts as order_time + INTERVAL '1' SECOND,\n" +
            "  WATERMARK FOR ts AS ts\n" +
            ") WITH (\n" +
which generated columns(eg:amount_kg) defined before custom columns(eg:order_time) will get wrong properties. 
in this case, we still use index 5 for column order_time and the new index should be 4  after prune generated column.

