As per mailing list discussion this error occurs with Java 8 and Scala 2.11: http://apache-flink-user-mailing-list-archive.2336050.n4.nabble.com/Using-Flink-with-Scala-2-11-and-Java-8-td3942.html


java.lang.IllegalArgumentException:                                                                                             
at com.esotericsoftware.reflectasm.shaded.org.objectweb.asm.ClassReader.<init>(Unknown Source)                                  
at com.esotericsoftware.reflectasm.shaded.org.objectweb.asm.ClassReader.<init>(Unknown Source)                                  
at com.esotericsoftware.reflectasm.shaded.org.objectweb.asm.ClassReader.<init>(Unknown Source)                                  
at org.apache.flink.api.scala.ClosureCleaner$.org$apache$flink$api$scala$ClosureCleaner$$getClassReader(ClosureCleaner.scala:47)
at org.apache.flink.api.scala.ClosureCleaner$.getInnerClasses(ClosureCleaner.scala:90)                                          
at org.apache.flink.api.scala.ClosureCleaner$.clean(ClosureCleaner.scala:113)                                                   
at org.apache.flink.streaming.api.scala.StreamExecutionEnvironment.scalaClean(StreamExecutionEnvironment.scala:555)             
at org.apache.flink.streaming.api.scala.DataStream.clean(DataStream.scala:764)                                                  
at org.apache.flink.streaming.api.scala.DataStream.flatMap(DataStream.scala:473)                                                



We need to update ClojureCleaner ASM class references from ASM4 to ASM5.