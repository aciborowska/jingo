Running org.apache.flink.examples.java.relational.TPCHQuery3 fails because the static class ShippingPriorityItem has private visibility, and hence cannot be serialized.

Stacktrace

Exception in thread "main" org.apache.flink.runtime.client.JobExecutionException: java.lang.Exception: The data preparation for task 'CHAIN Join (Join at main(TPCHQuery3.java:155)) -> Combine (SUM(1), at main(TPCHQuery3.java:165)' , caused an error: Cannot instantiate tuple.
	at org.apache.flink.runtime.minicluster.MiniCluster.executeJobBlocking(MiniCluster.java:625)
	at org.apache.flink.client.LocalExecutor.executePlan(LocalExecutor.java:234)
	at org.apache.flink.api.java.LocalEnvironment.execute(LocalEnvironment.java:91)
	at org.apache.flink.api.java.ExecutionEnvironment.execute(ExecutionEnvironment.java:816)
	at org.apache.flink.api.java.DataSet.collect(DataSet.java:413)
	at org.apache.flink.api.java.DataSet.print(DataSet.java:1652)
	at org.apache.flink.examples.java.relational.TPCHQuery3.main(TPCHQuery3.java:174)
Caused by: java.lang.Exception: The data preparation for task 'CHAIN Join (Join at main(TPCHQuery3.java:155)) -> Combine (SUM(1), at main(TPCHQuery3.java:165)' , caused an error: Cannot instantiate tuple.
	at org.apache.flink.runtime.operators.BatchTask.run(BatchTask.java:479)
	at org.apache.flink.runtime.operators.BatchTask.invoke(BatchTask.java:368)
	at org.apache.flink.runtime.taskmanager.Task.run(Task.java:703)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.RuntimeException: Cannot instantiate tuple.
	at org.apache.flink.api.java.typeutils.runtime.TupleSerializer.createInstance(TupleSerializer.java:71)
	at org.apache.flink.api.java.typeutils.runtime.TupleSerializer.createInstance(TupleSerializer.java:30)
	at org.apache.flink.runtime.operators.hash.MutableHashTable.buildInitialTable(MutableHashTable.java:799)
	at org.apache.flink.runtime.operators.hash.MutableHashTable.open(MutableHashTable.java:487)
	at org.apache.flink.runtime.operators.hash.NonReusingBuildFirstHashJoinIterator.open(NonReusingBuildFirstHashJoinIterator.java:98)
	at org.apache.flink.runtime.operators.JoinDriver.prepare(JoinDriver.java:207)
	at org.apache.flink.runtime.operators.BatchTask.run(BatchTask.java:473)
	... 3 more
Caused by: java.lang.IllegalAccessException: Class org.apache.flink.api.java.typeutils.runtime.TupleSerializer can not access a member of class org.apache.flink.examples.java.relational.TPCHQuery3$ShippingPriorityItem with modifiers "public"
	at sun.reflect.Reflection.ensureMemberAccess(Reflection.java:102)
	at java.lang.Class.newInstance(Class.java:436)
	at org.apache.flink.api.java.typeutils.runtime.TupleSerializer.createInstance(TupleSerializer.java:62)
	... 9 more

