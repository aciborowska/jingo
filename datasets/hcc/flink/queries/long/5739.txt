I've run a simple program on a local cluster. It always fails with code Version: 1.3-SNAPSHOTCommit: e24a866. 


Zhuoluos-MacBook-Pro:build-target zhuoluo.yzl$ bin/flink run -c com.alibaba.blink.TableApp ~/gitlab/tableapp/target/tableapp-1.0-SNAPSHOT.jar 
Cluster configuration: Standalone cluster with JobManager at localhost/127.0.0.1:6123
Using address localhost:6123 to connect to JobManager.
JobManager web interface address http://localhost:8081
Starting execution of program

------------------------------------------------------------
 The program finished with the following exception:

java.lang.NullPointerException
	at org.apache.flink.client.CliFrontend.executeProgram(CliFrontend.java:845)
	at org.apache.flink.client.CliFrontend.run(CliFrontend.java:259)
	at org.apache.flink.client.CliFrontend.parseParameters(CliFrontend.java:1076)
	at org.apache.flink.client.CliFrontend$2.call(CliFrontend.java:1123)
	at org.apache.flink.client.CliFrontend$2.call(CliFrontend.java:1120)
	at org.apache.flink.runtime.security.HadoopSecurityContext$1.run(HadoopSecurityContext.java:43)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1548)
	at org.apache.flink.runtime.security.HadoopSecurityContext.runSecured(HadoopSecurityContext.java:40)
	at org.apache.flink.client.CliFrontend.main(CliFrontend.java:1120)

I don't think there should be a NullPointerException here, even if you forgot the "execute()" call.

The reproducing code looks like following:


    public static void main(String[] args) throws Exception {
        ExecutionEnvironment env = ExecutionEnvironment.getExecutionEnvironment();
        DataSource<String> customer = env.readTextFile("/Users/zhuoluo.yzl/customer.tbl");
        customer.filter(new FilterFunction<String>() {
            public boolean filter(String value) throws Exception {
                return true;
            }
        })
        .writeAsText("/Users/zhuoluo.yzl/customer.txt");
//        env.execute();
    }



We can use start-cluster.sh on a local computer to reproduce the problem.