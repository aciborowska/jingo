High availability on Yarn often fails to recover in the following test scenario:

1. Kill application master process.
2. Then, while application master is recovering, randomly kill several task managers (with some delay).

After the application master recovered, not all the killed task manager are brought back and no further attempts are made the restart them.