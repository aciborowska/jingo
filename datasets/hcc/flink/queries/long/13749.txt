Currently, Flink client does not respect the classloading policy and uses hardcoded parent-first classloader, while the other components like jobmanager and taskmanager use child-first classloader by default and respect the classloading options. This makes the client more likely to have dependency conflicts, especially after we removed the convenient hadoop binaries (so users need to add hadoop classpath in the client classpath).

So I propose to make Flink client's (including cli and rest handler) classloading behavior aligned with the otherÂ components.