Currently, memory state-backend would create a folder named with random UUID under HA directory if no checkpoint path ever configured. (the code logic locates within StateBackendLoader#fromApplicationOrConfigOrDefault) However, the default memory state-backend would not only be created on JM side, but also on each task manager's side, which means many folders with random UUID would be created under HA directory. It would result in exception like:

The directory item limit of /tmp/flink/ha is exceeded: limit=1048576 items=1048576

Â If this happens, no new jobs could be submitted only if we clean up those directories manually.