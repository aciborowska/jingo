    job can't restart when flink  job  has been running for a long time and then taskmanager restarting   ,i find log in AM   that  AM  request containers  taskmanager  all the time .      the  log in NodeManager show that  the new requested containers can't  downloading file from hdfs  because of kerberos . I  configed the keytab config that

security.kerberos.login.use-ticket-cache: false
 security.kerberos.login.keytab: /data/sysdir/knit/user/.flink.keytab
 security.kerberos.login.principal: xxxxxxxxxxxxxxxx

 at  flink-client machine  and  keytab  is exist.  

I showed the logs at AM and NodeManager below.

 

 

 

 