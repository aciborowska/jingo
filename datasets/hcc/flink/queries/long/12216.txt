For the following two methods in HybridMemorySegment class,

public final void get(int offset, ByteBuffer target, int numBytes)

public final void put(int offset, ByteBuffer source, int numBytes)Â 

the actual number of bytes read/written should be specified by the input parameter numBytes, but it does not for some types of ByteBuffer. Instead, it simply read/write until the end.

So this is a bug and I am going to fix it.