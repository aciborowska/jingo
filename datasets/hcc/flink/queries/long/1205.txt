Currently, it is hard to guarantee that on a failed execution attempt, the libraries are de-registered exactly once. Only references per JobId are tracked. If we track the registered ExecutionAttempts, we can make sure we de-register only if we have not yet de-registered that execution attempt.