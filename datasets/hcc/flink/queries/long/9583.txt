We started a job with 120 slots, using a FixedDelayRestart strategy with the delay of 1 minutes.

During recovery, some but not all Slots were released.

When the job restarts again, Flink requests a new batch of slots.

The total number of slots is now 193, larger than the configured amount, but the excess slots are never released.

 

This bug does not happen with legacy mode. I've attach the job manager log.

 