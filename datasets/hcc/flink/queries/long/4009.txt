The Scala Shell test fails to find the flink-ml library jar in the target folder when executing with Intellij. This is due to its working directory being expected in "flink-scala-shell/target" when it is in fact "flink-scala-shell". When executed with Maven, this works fine because the Shade plugin changes the basedir from the project root to the /target folder*. 

As per [~till.rohrmann] and Greg Hogan suggestions we could simply add flink-ml as a test dependency and look for the jar path in the classpath.

* Because we have the dependencyReducedPomLocation set to /target/.