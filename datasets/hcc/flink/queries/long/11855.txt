There is a race condition in the EmbeddedLeaderService which can occur if the EmbeddedLeaderService is shut down before the GrantLeadershipCall has been executed. In this case, the contender is nulled which leads to a NPE.