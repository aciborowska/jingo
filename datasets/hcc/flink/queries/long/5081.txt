When letting flink setup YARN for a one-time job, it apparently does not deliver the yarn.maximum-failed-containers parameter to YARN as the yarn-session.sh script does. Adding it to conf/flink-conf.yaml as 
https://ci.apache.org/projects/flink/flink-docs-master/setup/yarn_setup.html#recovery-behavior-of-flink-on-yarn suggested also does not work.

example:

flink run -m yarn-cluster -yn 3 -yjm 1024 -ytm 4096 <job>.jar --parallelism 3 -Dyarn.maximum-failed-containers=100

