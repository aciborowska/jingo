In Flink 1.9, if we submit a job in attach mode, the client will help to shut down the cluster in the end. While in Flink 1.11, the cluster will be shut down as long as the job result is requested, no matters where the request comes from.

Currently we've found that the client cannot succeed to get the job execution result and report connection lost error because the result has already been requested and the cluster is shut down. The root cause is under investigation but we think it might be related to the network environment since the frequency of occurance is very low.

I'm aware of that there's a big restructure on the job submission from Flink 1.9 to 1.11. But is this change expected?