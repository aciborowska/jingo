FlinkKafkaProducer (in flink-connector-kafka-0.11) tries to access a field named `sequenceNumbers` from the KafkaProducer's TransactionManager.  You can find this line on the master branch here

 


Object transactionManager = getValue(kafkaProducer, "transactionManager");
...
Object sequenceNumbers = getValue(transactionManager, "sequenceNumbers");


 

However, the Kafka TransactionManager no longer has a "sequenceNumbers" field.  This was changed back on 9/14/2017 (KAFKA-5494) in an effort to support multiple inflight requests while still guaranteeing idempotence.  See commit diff here

Subsequently when Flink tries to "recoverAndCommit" (see FlinkKafkaProducer011) it fails with a "NoSuchFieldException: sequenceNumbers", followed by a "Incompatible KafkaProducer version".

Given that the KafkaProducer used is so old (this change was made almost two years ago) are there any plans of upgrading?   Or - are there some known compatibility issues that prevent Flink/Kafka connector from doing so?

 