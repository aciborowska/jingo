When number of failed containers exceeds maximum failed containers and application is stopped, the AM container will be released 10 minutes later. I checked yarn log and found out after invoking unregisterApplicationMaster, the AM container is not released. After 10 minutes, the release is triggered by RM ping check timeout.