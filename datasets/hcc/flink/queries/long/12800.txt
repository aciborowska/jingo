Some tests failed when Runtime.getRuntime().availableProcessors() is 1. The source vertex and other vertex may chained, thus make test failed. such as 

AsyncWaitOperatorTest#testOperatorChainWithProcessingTime

StreamingJobGraphGeneratorTest#testChainStartEndSetting

StreamOperatorChainingTest#testMultiChainingWithObjectReuse

StreamOperatorChainingTest#testMultiChainingWithoutObjectReuse

DataExchangeModeClosedBranchingTest

 

So we would specify parallelism of vertex directly to let its not chained with source .