If there is a firewall around the YARN cluster and the machine, submitting flink job it is unpractical because new flink clusters start up with random ports for REST communication.

 

FLINK-5758 should've fixed this. But it seems FLINK-11081 either undid the changes or did not implement this. The relevant code is changed in FLINK-11081 (https://github.com/apache/flink/commit/730eed71ef3f718d61f85d5e94b1060844ca56db#diff-487838863ab693af7008f04cb3359be3R102)

 

 