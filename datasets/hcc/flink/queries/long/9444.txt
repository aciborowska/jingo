When some Avro schema has map/array fields and the corresponding TableSchema declares MapTypeInfo/ListTypeInfo for these fields, an exception will be thrown when registering the KafkaAvroTableSource, complaining like:

Exception in thread "main" org.apache.flink.table.api.ValidationException: Type Map<String, Integer> of table field 'event' does not match with type GenericType<java.util.Map> of the field 'event' of the TableSource return type.
 at org.apache.flink.table.api.ValidationException$.apply(exceptions.scala:74)
 at org.apache.flink.table.sources.TableSourceUtil$$anonfun$validateTableSource$1.apply(TableSourceUtil.scala:92)
 at org.apache.flink.table.sources.TableSourceUtil$$anonfun$validateTableSource$1.apply(TableSourceUtil.scala:71)
 at scala.collection.IndexedSeqOptimized$class.foreach(IndexedSeqOptimized.scala:33)
 at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:186)
 at org.apache.flink.table.sources.TableSourceUtil$.validateTableSource(TableSourceUtil.scala:71)
 at org.apache.flink.table.plan.schema.StreamTableSourceTable.<init>(StreamTableSourceTable.scala:33)
 at org.apache.flink.table.api.StreamTableEnvironment.registerTableSourceInternal(StreamTableEnvironment.scala:124)
 at org.apache.flink.table.api.TableEnvironment.registerTableSource(TableEnvironment.scala:438)