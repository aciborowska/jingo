I see wrong behavior for Flink in YARN.

I tried to setup SlotsPerTaskManager using "-ys 2 ", but it used only 1 slot.

I found the code https://github.com/apache/flink/blob/master/flink-yarn/src/main/java/org/apache/flink/yarn/cli/FlinkYarnSessionCli.java#L387

For example, when I have :"-yn 7 -ys 2  -p 2" in log I see:
 "The YARN cluster has 14 slots available, but the user requested a parallelism of 2 on YARN. Each of the 7 TaskManagers will get 1 slots."

Why can't we use -ys with -p?

 