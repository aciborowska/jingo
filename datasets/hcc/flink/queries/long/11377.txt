when cli  -yn -ys not effect ,AbstractYarnClusterDescriptor's validClusterSpecification is not final application resources from yarn  (cli  -yn -ys not effect can refer to https://issues.apache.org/jira/browse/FLINK-11376)

 

the cli :

flink-1.7.1/bin/flink  run -m yarn-cluster -yn 1 -ys 1  -ynm test     -ccom.ishansong.bigdata.Main222  ./flinkDemo-1.0-SNAPSHOT.jar

AbstractYarnClusterDescriptor's log :

 org.apache.flink.yarn.AbstractYarnClusterDescriptor           - Cluster specification: ClusterSpecification{masterMemoryMB=1024, taskManagerMemoryMB=1024, numberTaskManagers=1, slotsPerTaskManager=1}

but yarn web ui:

allocated containers=4 and allocated cpu cores=4

