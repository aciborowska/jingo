It seems that if close is called before initializeState, then idsForCurrentCheckpoint is not initialized. 

java.lang.NullPointerException: null
	at org.apache.flink.streaming.api.functions.source.MessageAcknowledgingSourceBase.close(MessageAcknowledgingSourceBase.java:170) ~[flink-dist_2.10-1.2.0.jar:1.2.0]
	at org.apache.flink.streaming.api.functions.source.MultipleIdsMessageAcknowledgingSourceBase.close(MultipleIdsMessageAcknowledgingSourceBase.java:94) ~[flink-dist_2.10-1.2.0.jar:1.2.0]
	at org.apache.flink.streaming.connectors.rabbitmq.RMQSource.close(RMQSource.java:179) ~[blob_e8e6ccdf6cefe7e6370db4b1b2753baf9e977a24:na]
	at org.apache.flink.api.common.functions.util.FunctionUtils.closeFunction(FunctionUtils.java:43) ~[flink-dist_2.10-1.2.0.jar:1.2.0]
	at org.apache.flink.streaming.api.operators.AbstractUdfStreamOperator.dispose(AbstractUdfStreamOperator.java:127) ~[flink-dist_2.10-1.2.0.jar:1.2.0]
	at org.apache.flink.streaming.runtime.tasks.StreamTask.disposeAllOperators(StreamTask.java:442) [flink-dist_2.10-1.2.0.jar:1.2.0]
	at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:343) [flink-dist_2.10-1.2.0.jar:1.2.0]
	at org.apache.flink.runtime.taskmanager.Task.run(Task.java:655) [flink-dist_2.10-1.2.0.jar:1.2.0]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

