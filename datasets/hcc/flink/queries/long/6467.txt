
      if (canceled) {
        List<StateObject> statesToDiscard = new ArrayList<>();

        statesToDiscard.add(metaStateHandle);
        statesToDiscard.addAll(miscFiles.values());
        statesToDiscard.addAll(newSstFiles.values());


It seems access to newSstFiles should be protected by stateBackend.asyncSnapshotLock