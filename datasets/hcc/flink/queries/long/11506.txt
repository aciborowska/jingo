Â When I executed SQL statements using sql-client: select * from TaixFares; Report the following Exception:


Exception in thread "main" org.apache.flink.table.client.SqlClientException: Unexpected exception. This is a bug. Please consider filing an issue. at org.apache.flink.table.client.SqlClient.main(SqlClient.java:199) Caused by: java.io.IOError: java.io.InterruptedIOException: Command interrupted at org.jline.terminal.impl.AbstractPosixTerminal.setAttributes(AbstractPosixTerminal.java:54) at org.apache.flink.table.client.cli.CliView.restoreTerminal(CliView.java:398) at org.apache.flink.table.client.cli.CliView.open(CliView.java:143) at org.apache.flink.table.client.cli.CliClient.callSelect(CliClient.java:401) at org.apache.flink.table.client.cli.CliClient.callCommand(CliClient.java:261) at java.util.Optional.ifPresent(Optional.java:159) at org.apache.flink.table.client.cli.CliClient.open(CliClient.java:193) at org.apache.flink.table.client.SqlClient.openCli(SqlClient.java:121) at org.apache.flink.table.client.SqlClient.start(SqlClient.java:105) at org.apache.flink.table.client.SqlClient.main(SqlClient.java:187) Caused by: java.io.InterruptedIOException: Command interrupted at org.jline.utils.ExecHelper.exec(ExecHelper.java:46) at org.jline.terminal.impl.ExecPty.doGetConfig(ExecPty.java:175) at org.jline.terminal.impl.ExecPty.getAttr(ExecPty.java:87) at org.jline.terminal.impl.ExecPty.doSetAttr(ExecPty.java:93) at org.jline.terminal.impl.AbstractPty.setAttr(AbstractPty.java:21) at org.jline.terminal.impl.AbstractPosixTerminal.setAttributes(AbstractPosixTerminal.java:52) ... 9 more Caused by: java.lang.InterruptedException at java.lang.ProcessImpl.waitFor(ProcessImpl.java:451) at org.jline.utils.ExecHelper.waitAndCapture(ExecHelper.java:66) at org.jline.utils.ExecHelper.exec(ExecHelper.java:36) ... 14 more Shutting down executor...done.

The log content of sql-client*.log file when SQL statement is executed:


2019-02-01 19:09:47,147 INFO org.apache.flink.table.client.config.entries.ExecutionEntry - Property 'execution.restart-strategy.type' not specified. Using default value: fallback
2019-02-01 19:10:32,679 INFO org.apache.flink.table.client.config.entries.ExecutionEntry - Property 'execution.restart-strategy.type' not specified. Using default value: fallback
2019-02-01 19:10:34,220 INFO org.apache.flink.api.java.typeutils.TypeExtractor - class org.joda.time.DateTime does not contain a getter for field iMillis
2019-02-01 19:10:34,220 INFO org.apache.flink.api.java.typeutils.TypeExtractor - class org.joda.time.DateTime does not contain a setter for field iMillis
2019-02-01 19:10:34,220 INFO org.apache.flink.api.java.typeutils.TypeExtractor - Class class org.joda.time.DateTime cannot be used as a POJO type because not all fields are valid POJO fields, and must be processed as GenericType. Please read the Flink documentation on "Data Types & Serialization" for details of the effect on performance.
2019-02-01 19:10:34,222 INFO org.apache.flink.api.java.typeutils.TypeExtractor - class org.joda.time.DateTime does not contain a getter for field iMillis
2019-02-01 19:10:34,223 INFO org.apache.flink.api.java.typeutils.TypeExtractor - class org.joda.time.DateTime does not contain a setter for field iMillis
2019-02-01 19:10:34,223 INFO org.apache.flink.api.java.typeutils.TypeExtractor - Class class org.joda.time.DateTime cannot be used as a POJO type because not all fields are valid POJO fields, and must be processed as GenericType. Please read the Flink documentation on "Data Types & Serialization" for details of the effect on performance.
2019-02-01 19:10:34,279 INFO org.apache.flink.api.java.typeutils.TypeExtractor - class org.apache.flink.types.Row does not contain a getter for field fields
2019-02-01 19:10:34,279 INFO org.apache.flink.api.java.typeutils.TypeExtractor - class org.apache.flink.types.Row does not contain a setter for field fields
2019-02-01 19:10:34,279 INFO org.apache.flink.api.java.typeutils.TypeExtractor - Class class org.apache.flink.types.Row cannot be used as a POJO type because not all fields are valid POJO fields, and must be processed as GenericType. Please read the Flink documentation on "Data Types & Serialization" for details of the effect on performance.
2019-02-01 19:10:34,785 INFO org.apache.flink.configuration.GlobalConfiguration - Loading configuration property: jobmanager.rpc.address, localhost
2019-02-01 19:10:34,786 INFO org.apache.flink.configuration.GlobalConfiguration - Loading configuration property: jobmanager.rpc.port, 6123
2019-02-01 19:10:34,786 INFO org.apache.flink.configuration.GlobalConfiguration - Loading configuration property: jobmanager.heap.size, 1024m
2019-02-01 19:10:34,786 INFO org.apache.flink.configuration.GlobalConfiguration - Loading configuration property: taskmanager.heap.size, 1024m
2019-02-01 19:10:34,786 INFO org.apache.flink.configuration.GlobalConfiguration - Loading configuration property: taskmanager.numberOfTaskSlots, 1
2019-02-01 19:10:34,786 INFO org.apache.flink.configuration.GlobalConfiguration - Loading configuration property: parallelism.default, 1
2019-02-01 19:10:34,786 INFO org.apache.flink.configuration.GlobalConfiguration - Loading configuration property: rest.port, 8081
2019-02-01 19:10:34,791 INFO org.apache.flink.table.client.gateway.local.ProgramDeployer - Submitting job 520e10aac15a651bd2f6fc3d5c067b2d for query default: select * from TaxiRides`
2019-02-01 19:10:34,820 WARN org.apache.flink.configuration.Configuration - Config uses deprecated configuration key 'jobmanager.rpc.address' instead of proper key 'rest.address'
2019-02-01 19:10:35,838 INFO org.apache.flink.runtime.rest.RestClient - Rest client endpoint started.
2019-02-01 19:10:35,848 INFO org.apache.flink.client.program.rest.RestClusterClient - Submitting job 520e10aac15a651bd2f6fc3d5c067b2d (detached: false).
2019-02-01 19:11:09,092 INFO org.apache.flink.runtime.rest.RestClient - Shutting down rest endpoint.
2019-02-01 19:11:09,095 INFO org.apache.flink.runtime.rest.RestClient - Rest endpoint shutdown complete.

2019-02-01 19:15:55,902 ERROR org.apache.flink.table.client.SqlClient - SQL Client must stop. Unexpected exception. This is a bug. Please consider filing an issue.
java.io.IOError: java.io.InterruptedIOException: Command interrupted
at org.jline.terminal.impl.AbstractPosixTerminal.setAttributes(AbstractPosixTerminal.java:54)
at org.apache.flink.table.client.cli.CliView.restoreTerminal(CliView.java:398)
at org.apache.flink.table.client.cli.CliView.open(CliView.java:143)
at org.apache.flink.table.client.cli.CliClient.callSelect(CliClient.java:401)
at org.apache.flink.table.client.cli.CliClient.callCommand(CliClient.java:261)
at java.util.Optional.ifPresent(Optional.java:159)
at org.apache.flink.table.client.cli.CliClient.open(CliClient.java:193)
at org.apache.flink.table.client.SqlClient.openCli(SqlClient.java:121)
at org.apache.flink.table.client.SqlClient.start(SqlClient.java:105)
at org.apache.flink.table.client.SqlClient.main(SqlClient.java:187)
Caused by: java.io.InterruptedIOException: Command interrupted
at org.jline.utils.ExecHelper.exec(ExecHelper.java:46)
at org.jline.terminal.impl.ExecPty.doGetConfig(ExecPty.java:175)
at org.jline.terminal.impl.ExecPty.getAttr(ExecPty.java:87)
at org.jline.terminal.impl.ExecPty.doSetAttr(ExecPty.java:93)
at org.jline.terminal.impl.AbstractPty.setAttr(AbstractPty.java:21)
at org.jline.terminal.impl.AbstractPosixTerminal.setAttributes(AbstractPosixTerminal.java:52)
... 9 more
Caused by: java.lang.InterruptedException
at java.lang.ProcessImpl.waitFor(ProcessImpl.java:451)
at org.jline.utils.ExecHelper.waitAndCapture(ExecHelper.java:66)
at org.jline.utils.ExecHelper.exec(ExecHelper.java:36)
... 14 more

