Here is related code:

  public int size() {
    return elements.size();
  }


Access to elements should be protected by lock.lock() / lock.unlock() pair.