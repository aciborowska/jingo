Running a local mvn clean verify the following error in org.apache.flink.yarn.YARNSessionCapacitySchedulerITCase#perJobYarnClusterWithParallelism is caused by the discovery of a spurious file created by an earlier YARN test.


15:45:16,627 INFO  org.apache.flink.yarn.YarnTestBase                            - Running with args [run, -p, 2, -m, yarn-cluster, -yj, /home/ec2-user/flink-upstream/flink-yarn-tests/../flink-dist/target/flink-1.4-SNAPSHOT-bin/flink-1.4-SNAPSHOT/lib/flink-dist_2.10-1.4-SNAPSHOT.jar, -yt, /home/ec2-user/flink-upstream/flink-yarn-tests/../flink-dist/target/flink-1.4-SNAPSHOT-bin/flink-1.4-SNAPSHOT/lib, -yn, 1, -yjm, 768, -ytm, 1024, /home/ec2-user/flink-upstream/flink-yarn-tests/../flink-yarn-tests/target/flink-yarn-tests-capacityscheduler/flink-yarn-tests-capacityscheduler-localDir-nm-1_0/usercache/ec2-user/appcache/application_1498751075681_0001/filecache/13/.tmp_flink-examples-batch_2.10-1.4-SNAPSHOT-WordCount.jar.crc]
15:45:16,628 INFO  org.apache.flink.client.CliFrontend                           - Using configuration directory /home/ec2-user/flink-upstream/flink-yarn-tests/../flink-dist/target/flink-1.4-SNAPSHOT-bin/flink-1.4-SNAPSHOT/conf
15:45:16,628 INFO  org.apache.flink.client.CliFrontend                           - Trying to load configuration file
15:45:16,628 INFO  org.apache.flink.configuration.GlobalConfiguration            - Loading configuration property: jobmanager.rpc.address, localhost
15:45:16,629 INFO  org.apache.flink.configuration.GlobalConfiguration            - Loading configuration property: jobmanager.rpc.port, 6123
15:45:16,629 INFO  org.apache.flink.configuration.GlobalConfiguration            - Loading configuration property: jobmanager.heap.mb, 1024
15:45:16,629 INFO  org.apache.flink.configuration.GlobalConfiguration            - Loading configuration property: taskmanager.heap.mb, 1024
15:45:16,629 INFO  org.apache.flink.configuration.GlobalConfiguration            - Loading configuration property: taskmanager.numberOfTaskSlots, 1
15:45:16,629 INFO  org.apache.flink.configuration.GlobalConfiguration            - Loading configuration property: taskmanager.memory.preallocate, false
15:45:16,629 INFO  org.apache.flink.configuration.GlobalConfiguration            - Loading configuration property: parallelism.default, 1
15:45:16,629 INFO  org.apache.flink.configuration.GlobalConfiguration            - Loading configuration property: jobmanager.web.port, 8081
15:45:16,629 INFO  org.apache.flink.client.CliFrontend                           - Running 'run' command.
15:45:16,629 INFO  org.apache.flink.client.CliFrontend                           - Building program from JAR file
15:45:16,630 ERROR org.apache.flink.client.CliFrontend                           - Error while running the command.
org.apache.flink.client.program.ProgramInvocationException: Error while opening jar file '/home/ec2-user/flink-upstream/flink-yarn-tests/../flink-yarn-tests/target/flink-yarn-tests-capacityscheduler/flink-yarn-tests-capacityscheduler-localDir-nm-1_0/usercache/ec2-user/appcache/application_1498751075681_0001/filecache/13/.tmp_flink-examples-batch_2.10-1.4-SNAPSHOT-WordCount.jar.crc'. error in opening zip file
	at org.apache.flink.client.program.PackagedProgram.getEntryPointClassNameFromJar(PackagedProgram.java:562)
	at org.apache.flink.client.program.PackagedProgram.<init>(PackagedProgram.java:188)
	at org.apache.flink.client.program.PackagedProgram.<init>(PackagedProgram.java:126)
	at org.apache.flink.client.CliFrontend.buildProgram(CliFrontend.java:900)
	at org.apache.flink.client.CliFrontend.run(CliFrontend.java:229)
	at org.apache.flink.client.CliFrontend.parseParameters(CliFrontend.java:1083)
	at org.apache.flink.yarn.YarnTestBase$Runner.run(YarnTestBase.java:657)
Caused by: java.util.zip.ZipException: error in opening zip file
	at java.util.zip.ZipFile.open(Native Method)
	at java.util.zip.ZipFile.<init>(ZipFile.java:219)
	at java.util.zip.ZipFile.<init>(ZipFile.java:149)
	at java.util.jar.JarFile.<init>(JarFile.java:166)
	at java.util.jar.JarFile.<init>(JarFile.java:130)
	at org.apache.flink.client.program.PackagedProgram.getEntryPointClassNameFromJar(PackagedProgram.java:557)
	... 6 more
15:45:16,632 INFO  org.apache.flink.yarn.YarnTestBase                            - Runner stopped with exception

