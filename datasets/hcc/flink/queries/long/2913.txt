
      ObjectOutputStream os = new ObjectOutputStream(outStream);
      os.writeObject(state);
      os.close();


If IOException is thrown out of writeObject(), the close() call would be skipped.