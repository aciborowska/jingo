The dynamic property parsing in YARN is broken. For example, the following dynamic property won't be parsed properly: -yDenv.java.opts="-DappName=foobar -Did=1". The result will be equivalent to -yDenv.java.opts="-DappName".

The problem is that FlinkYarnSessionCli#getDynamicProperties assumes that all dynamic properties have the form -D<KEY>=<VALUE> where <VALUE> does not contain any =.

I propose to change the parsing of the dynamic properties string such that it splits the key-value pair not via dynamicProperties.split("=") but that we split  the dynamic properties string at the first occurrence of the =.