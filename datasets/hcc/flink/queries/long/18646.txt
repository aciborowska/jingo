UnsafeMemoryBudget#verifyEmpty, called on slot freeing, needs time to wait on GC of all allocated/released managed memory. If there are a lot of segments to GC then it can take time to finish the check. IfÂ slot freeing happens in RPC thread, the GC waiting can block it and TM risks to miss its heartbeat.