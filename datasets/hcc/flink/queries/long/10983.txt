I try to test 1.7.0-rc2 and found the following error. I think we should harden this test by increase the port range. 
Since the 1.7 release is on the corner, I will try to fix it ASAP.



Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 3.423 sec <<< FAILURE! - in org.apache.flink.queryablestate.itcases.NonHAQueryableStateFsBackendITCase
org.apache.flink.queryablestate.itcases.NonHAQueryableStateFsBackendITCase  Time elapsed: 3.423 sec  <<< ERROR!
java.io.IOException: Failed to start the Queryable State Data Server.
        at org.apache.flink.runtime.io.network.NetworkEnvironment.start(NetworkEnvironment.java:348)
        at org.apache.flink.runtime.taskexecutor.TaskManagerServices.fromConfiguration(TaskManagerServices.java:231)
        at org.apache.flink.runtime.taskexecutor.TaskManagerRunner.startTaskManager(TaskManagerRunner.java:365)
        at org.apache.flink.runtime.minicluster.MiniCluster.startTaskManagers(MiniCluster.java:801)
        at org.apache.flink.runtime.minicluster.MiniCluster.start(MiniCluster.java:325)
        at org.apache.flink.runtime.testutils.MiniClusterResource.startMiniCluster(MiniClusterResource.java:140)
        at org.apache.flink.runtime.testutils.MiniClusterResource.before(MiniClusterResource.java:84)
        at org.apache.flink.test.util.MiniClusterWithClientResource.before(MiniClusterWithClientResource.java:51)
        at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:46)
        at org.junit.rules.RunRules.evaluate(RunRules.java:20)
        at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
        at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.apache.flink.util.FlinkRuntimeException: Unable to start Queryable State Server. All ports in provided range are occupied.
        at org.apache.flink.queryablestate.network.AbstractServerBase.start(AbstractServerBase.java:198)
        at org.apache.flink.queryablestate.server.KvStateServerImpl.start(KvStateServerImpl.java:95)
        at org.apache.flink.runtime.io.network.NetworkEnvironment.start(NetworkEnvironment.java:344)
        at org.apache.flink.runtime.taskexecutor.TaskManagerServices.fromConfiguration(TaskManagerServices.java:231)
        at org.apache.flink.runtime.taskexecutor.TaskManagerRunner.startTaskManager(TaskManagerRunner.java:365)
        at org.apache.flink.runtime.minicluster.MiniCluster.startTaskManagers(MiniCluster.java:801)
        at org.apache.flink.runtime.minicluster.MiniCluster.start(MiniCluster.java:325)
        at org.apache.flink.runtime.testutils.MiniClusterResource.startMiniCluster(MiniClusterResource.java:140)
        at org.apache.flink.runtime.testutils.MiniClusterResource.before(MiniClusterResource.java:84)
        at org.apache.flink.test.util.MiniClusterWithClientResource.before(MiniClusterWithClientResource.java:51)
        at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:46)
        at org.junit.rules.RunRules.evaluate(RunRules.java:20)
        at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
        at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)

