The download directory is not cleaned up on the "unhappy" path. Its path is based on the hash of the downloaded file and serves as a condition to try unpacking the file instead of downloading. If something goes wrong during the downloading process, directory remains without the file and gets the DownloadCache into a failing state.