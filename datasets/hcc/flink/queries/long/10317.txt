We should set the size of the JVM Metaspace to a sane default, like  -XX:MaxMetaspaceSize=256m.

If not set, the JVM offheap memory will grow indefinitely with repeated classloading and Jitting, eventually exceeding allowed memory on docker/yarn or similar setups.

It is hard to come up with a good default, however, I believe the error messages one gets when metaspace is too small are easy to understand (and easy to take action), while it is very hard to figure out why the memory footprint keeps growing steadily and infinitely.