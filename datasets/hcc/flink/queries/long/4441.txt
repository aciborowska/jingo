When the state is empty the rocks db state backend returns an empty hashmap instead of a null in the snapshotPartitionedState method.

This means that these operators always appear stateful to the flink runtime which makes it impossible for instance to remove a stateless operator using the savepoints.