Description

Was trying out the Queryable State and ran into a problem where the submitted job starts regular Akka actors and making external HTTP calls via akka-http libraries and the flink runtime was complaining that it was not able to read the key akka.http (this key is held in the configuration file for akka-http).

When i ran our app on the sbt shell locally, it was able to see the key akka.http but when we submitted the fatjar (via sbt-assembly) to flink, it was throwing the error message (see below). Looks like a class loader issue but i'm not sure.

Any help is much appreciated !
Error message

Caused by: com.typesafe.config.ConfigException$Missing: No configuration setting found for key 'akka.http'
	at com.typesafe.config.impl.SimpleConfig.findKeyOrNull(SimpleConfig.java:152)
	at com.typesafe.config.impl.SimpleConfig.findOrNull(SimpleConfig.java:170)
	at com.typesafe.config.impl.SimpleConfig.findOrNull(SimpleConfig.java:176)
	at com.typesafe.config.impl.SimpleConfig.find(SimpleConfig.java:184)
	at com.typesafe.config.impl.SimpleConfig.find(SimpleConfig.java:189)
	at com.typesafe.config.impl.SimpleConfig.getObject(SimpleConfig.java:258)
	at com.typesafe.config.impl.SimpleConfig.getConfig(SimpleConfig.java:264)
	at com.typesafe.config.impl.SimpleConfig.getConfig(SimpleConfig.java:37)
	at akka.http.scaladsl.Http$.createExtension(Http.scala:843)
	at akka.http.scaladsl.Http$.createExtension(Http.scala:719)
	at akka.actor.ActorSystemImpl.registerExtension(ActorSystem.scala:917)
	at akka.actor.ExtensionId$class.apply(Extension.scala:79)
	at akka.http.scaladsl.Http$.apply(Http.scala:838)
	at akka.http.scaladsl.Http$.apply(Http.scala:719)
	at org.example.state.A.<init>(Simple.scala:158)
	... 18 more


