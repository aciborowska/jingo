Reported by Robert Metzger:


java.lang.NullPointerException
       at org.apache.flink.runtime.io.network.partition.consumer.LocalInputChannel.getNextBuffer(LocalInputChannel.java:185)
       at org.apache.flink.runtime.io.network.partition.consumer.SingleInputGate.getNextBufferOrEvent(SingleInputGate.java:444)
       at org.apache.flink.streaming.runtime.io.BarrierBuffer.getNextNonBlocked(BarrierBuffer.java:152)
       at org.apache.flink.streaming.runtime.io.StreamInputProcessor.processInput(StreamInputProcessor.java:195)
       at org.apache.flink.streaming.runtime.tasks.OneInputStreamTask.run(OneInputStreamTask.java:67)
       at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:267)
       at org.apache.flink.runtime.taskmanager.Task.run(Task.java:638)
       at java.lang.Thread.run(Thread.java:745)



This is most likely caused by the result partition being released after the notifcations have happened.