Here is related code:

    final InputStream is = stream.getState(getUserCodeClassloader());
    final ObjectInputStream ois = new ObjectInputStream(is);
    final DataInputViewStreamWrapper div = new DataInputViewStreamWrapper(is);

    nfa = (NFA<IN>)ois.readObject();


Neither is nor ois is closed upon return from the method