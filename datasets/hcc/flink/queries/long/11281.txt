Hi, all.

I found Flink builds got two stable failures in StateBackendMigrationTestBase of recent PRs, which also occurs in my development environment. The detailed errors are as follows.

This currently doesn't pass because the ListSerializer doesn't respect the reconfigured case, yet.

java.lang.UnsupportedOperationException: The serializer should have been reconfigured as a new instance; shouldn't be used.

at org.apache.flink.runtime.testutils.statemigration.TestType$ReconfigurationRequiringTestTypeSerializer.serialize(TestType.java:160)
 at org.apache.flink.runtime.testutils.statemigration.TestType$ReconfigurationRequiringTestTypeSerializer.serialize(TestType.java:154)
 at org.apache.flink.contrib.streaming.state.RocksDBSerializedCompositeKeyBuilder.serializeKeyGroupAndKey(RocksDBSerializedCompositeKeyBuilder.java:159)
 at org.apache.flink.contrib.streaming.state.RocksDBSerializedCompositeKeyBuilder.setKeyAndKeyGroup(RocksDBSerializedCompositeKeyBuilder.java:96)
 at org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackend.setCurrentKey(RocksDBKeyedStateBackend.java:383)
 at org.apache.flink.runtime.state.StateBackendMigrationTestBase.testKeySerializerUpgrade(StateBackendMigrationTestBase.java:401)
 at org.apache.flink.runtime.state.StateBackendMigrationTestBase.testStateBackendRestoreSucceedsIfNewKeySerializerRequiresReconfiguration