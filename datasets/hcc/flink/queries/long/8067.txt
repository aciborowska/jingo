The user code ClassLoader is not set as the context ClassLoader for the thread invoking ProcessingTimeCallback#onProcessingTime(long timestamp):
https://github.com/apache/flink/blob/84a07a34ac22af14f2dd0319447ca5f45de6d0bb/flink-streaming-java/src/main/java/org/apache/flink/streaming/runtime/tasks/StreamTask.java#L222

This is problematic, for example, if user code dynamically loads classes in ProcessFunction#onTimer(long timestamp, OnTimerContext ctx, Collector<O> out) using the current thread's context ClassLoader (also see FLINK-8005).