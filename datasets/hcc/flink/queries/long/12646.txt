In


org.apache.flink.runtime.rest.RestClientTest#testConnectionTimeout


, we use a "unroutableIp" with a value of  "10.255.255.1" for test.

But sometimes this IP is reachable in a private network of a company, which is the case for me. As a result, this test failed with a following exception: 

 


java.lang.AssertionError: Expected: an instance of org.apache.flink.shaded.netty4.io.netty.channel.ConnectTimeoutException but: <org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /10.255.255.1:80> is a org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannel$AnnotatedConnectException at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20) at org.junit.Assert.assertThat(Assert.java:956) at org.junit.Assert.assertThat(Assert.java:923) at org.apache.flink.runtime.rest.RestClientTest.testConnectionTimeout(RestClientTest.java:76) ...


 

 

Can we change the `unroutableIp` to a reserved IP address, i.e "240.0.0.0", which is described as  Reserved for future use in wikipedia 

Or change the assertion? 