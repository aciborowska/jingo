This is caused by FLINK-16311, because the HttpFunction was relying on contracts of PersistedAppendingBuffer that were not correct.

Specifically, the culprit is here:
https://github.com/apache/flink-statefun/blob/master/statefun-flink/statefun-flink-core/src/main/java/org/apache/flink/statefun/flink/core/httpfn/HttpFunction.java#L152

This branch checks if the obtained view is null, if not, resends a batch request.
However, that would never be null due to FLINK-16311.