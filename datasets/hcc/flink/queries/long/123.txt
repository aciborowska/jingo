In KMeansIterative, when you add an identity mapper after the reduceClusterCenter reducer you get:
java.lang.RuntimeException: : BUG: The task must have at least one output
	at eu.stratosphere.pact.runtime.task.RegularPactTask.registerInputOutput(RegularPactTask.java:248)
	at eu.stratosphere.nephele.execution.RuntimeEnvironment.<init>(RuntimeEnvironment.java:194)
	at eu.stratosphere.nephele.executiongraph.ExecutionGroupVertex.<init>(ExecutionGroupVertex.java:237)
	at eu.stratosphere.nephele.executiongraph.ExecutionGraph.createVertex(ExecutionGraph.java:497)
	at eu.stratosphere.nephele.executiongraph.ExecutionGraph.constructExecutionGraph(ExecutionGraph.java:275)
	at eu.stratosphere.nephele.executiongraph.ExecutionGraph.<init>(ExecutionGraph.java:176)
	at eu.stratosphere.nephele.jobmanager.JobManager.submitJob(JobManager.java:532)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at eu.stratosphere.nephele.ipc.RPC$Server.call(RPC.java:417)
	at eu.stratosphere.nephele.ipc.Server$Handler.run(Server.java:946)
I discovered this one from a plan in the scala frontend where I also have a final mapper that does some real work after a reducer in an iteration (BulkIteration).

---------------- Imported from GitHub ----------------
Url: https://github.com/stratosphere/stratosphere/issues/123
Created by: aljoscha
Labels: bug, 
Milestone: Release 0.4
Assignee: StephanEwen
Created at: Thu Oct 03 09:16:36 CEST 2013
State: closed