The way that the web client and CLI interact is not a good design. The web client puts a static variable into the CLI to alter its behavior towards its needs.

This is a typical case of no proper separation of concerns.

The shared behavior should go into utility classes, or a common abstract superclass, and the CLI frontend and the web client should not be tightly intermingled.