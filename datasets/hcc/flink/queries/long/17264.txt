Start a taskmanager on Mac via taskmanager.sh will get the following error.


wangyang-pc:build-target danrtsey.wy$ ./bin/taskmanager.sh start-foreground [ERROR] Unexpected result ( 1 lines): BASH_JAVA_UTILS_EXEC_RESULT:-Xmx536870902 -Xms536870902 -XX:MaxDirectMemorySize=268435458 -XX:MaxMetaspaceSize=268435456 [ERROR] extractExecutionParams only accepts exactly one line as the input [ERROR] Could not get JVM parameters properly.


 

The root cause is FLINK-17023 introduce the following change and it could not work as expected.


local num_lines=$(echo "$execution_config" | wc -l)


On linux environment, the output is "1". However, on Mac, it is "      1". Maybe we need to add "tr -d '[:space:]' after wc".

 

cc Caizhi Weng 