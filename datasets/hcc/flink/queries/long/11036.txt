A Flink distribution that has been built from a source release has no git commit id associated. The web UI shows unkown as the version commit. Therefore, the test_streaming_classloader.sh can not be executed on a source release. Either we change the test setup or we skip the test if the commit id is not present.



==============================================================================
Running 'class loading end-to-end test'
==============================================================================
TEST_DATA_DIR: /Users/twalthr/flink/tests/flink1.7/flink-1.7.0/flink-end-to-end-tests/test-scripts/temp-test-directory-30N
Flink dist directory: /Users/twalthr/flink/tests/flink1.7/flink-1.7.0/flink-dist/target/flink-1.7.0-bin/flink-1.7.0
Testing parent-first class loading
Starting cluster.
Starting standalonesession daemon on host TTMACBOOK.
Starting taskexecutor daemon on host TTMACBOOK.
Waiting for dispatcher REST endpoint to come up...
Waiting for dispatcher REST endpoint to come up...
Waiting for dispatcher REST endpoint to come up...
Dispatcher REST endpoint is up.
Starting execution of program
Program execution finished
Job with JobID d69f02237884c6119699302497586dbf has finished.
Job Runtime: 334 ms
Stopping taskexecutor daemon (pid: 1598) on host TTMACBOOK.
Stopping standalonesession daemon (pid: 1180) on host TTMACBOOK.
Output from Flink program does not match expected output.
EXPECTED: NoSuchMethodError:[0-9a-f]{6,}:[0-9a-f]{6,}hello-there-42
ACTUAL: NoSuchMethodError:hello-there-42:hello-there-42
[FAIL] Test script contains errors.
Checking for errors...
No errors in log files.
Checking for exceptions...
No exceptions in log files.
Checking for non-empty .out files...
No non-empty .out files.

[FAIL] 'class loading end-to-end test' failed after 0 minutes and 9 seconds! Test exited with exit code 1

