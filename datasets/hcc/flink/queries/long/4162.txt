With the fix for FLINK-4149 a restarting event-time CEP job fails with this exception:

java.lang.IllegalStateException: Detected an underflow in the pruning timestamp. This indicates that either the window length is too long (10) or that the timestamp has not been set correctly (e.g. Long.MIN_VALUE).
	at org.apache.flink.cep.nfa.NFA.process(NFA.java:185)
	at org.apache.flink.cep.operator.KeyedCEPPatternOperator.processEvent(KeyedCEPPatternOperator.java:48)
	at org.apache.flink.cep.operator.AbstractKeyedCEPPatternOperator.processWatermark(AbstractKeyedCEPPatternOperator.java:163)
	at org.apache.flink.streaming.runtime.io.StreamInputProcessor.processInput(StreamInputProcessor.java:165)
	at org.apache.flink.streaming.runtime.tasks.OneInputStreamTask.run(OneInputStreamTask.java:66)
	at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:265)
	at org.apache.flink.runtime.taskmanager.Task.run(Task.java:588)
	at java.lang.Thread.run(Thread.java:745)

