Since the AVRO upgrade to 1.8.2, I could compile the flink-avro module any more with a failure like this in mvn clean install -DskipTests -pl flink-connectors/flink-avro:

Compilation failure
[ERROR] flink-connectors/flink-avro/src/test/java/org/apache/flink/api/io/avro/generated/Fixed16.java:[10,8] org.apache.flink.api.io.avro.generated.Fixed16 is not abstract and does not override abstract method readExternal(java.io.ObjectInput) in org.apache.avro.specific.SpecificFixed


This was caused by maven both not cleaning up the generated sources and also not overwriting them with new ones itself. Only a manual rm -rf flink-connectors/flink-avro/src/test/java/org/apache/flink/api/io/avro/generated solved the issue.

The cause for this, though, is that the avro files are generated under the src directory, not target/generated-test-sources as they should be. Either the generated sources should be cleaned up as well, or the generated files should be moved to this directory which is a more invasive change due to some hacks with respect to these files.