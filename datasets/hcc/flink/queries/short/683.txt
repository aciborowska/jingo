Type extractor should detect type mismatches