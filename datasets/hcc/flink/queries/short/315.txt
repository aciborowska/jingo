Add deferred updates to workset iterations (issue #21) and fix chaining of iteration state updates (issue #123)