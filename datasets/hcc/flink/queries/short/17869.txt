Fix the race condition of aborting unaligned checkpoint