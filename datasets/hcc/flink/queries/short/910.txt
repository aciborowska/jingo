Type extractor fails in Java 6