LocalExecutor#endSession() uses wrong lock for synchronization