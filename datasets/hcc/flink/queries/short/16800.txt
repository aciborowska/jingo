TypeMappingUtils#checkIfCompatible didn't deal with nested types