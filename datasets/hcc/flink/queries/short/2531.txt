combining the "if" branch to improve the performance