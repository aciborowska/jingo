Use InetAddress.getLocalHost() first when detecting TaskManager IP address