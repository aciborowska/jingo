String length restriction not working as intended