There is a return statement missing from LettuceConnection.setBit and setRange. This causes the operation to be executed twice, once on the async conn and once on the sync conn.