AssignmentManager should account for unsuccessful split correctly which initially passes quota check