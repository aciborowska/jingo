HashFunction inadvertently destroys some randomness