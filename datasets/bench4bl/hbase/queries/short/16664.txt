Timeout logic in AsyncProcess is broken