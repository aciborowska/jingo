This is combination of HBASE-15892 and HBASE-15909 and the fact that python-requirements.txt didn't exist in old branches because of which the patches weren't directly applicable. Was easier to make a single patch consisting everything, should be easier to backport too.