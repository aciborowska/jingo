Hbase Streaming Scan is a feature recently added to trunk.
In this feature, an asynchronous scanner pre-loads data to the cache based on its size (both row count and size in bytes). In one of the locations where the scanner polls an item from the cache, the variable holding the estimated byte size of the cache is not updated. This affects the decision of when to load the next batch of data.
A bug fix patch is attached - it comprises only local changes to the ClientAsyncPrefetchScanner.java file.