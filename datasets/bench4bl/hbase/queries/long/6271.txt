AssignmentManger stores region state related information in several places: regionsInTransition, regions (region info to server name map), and servers (server name to region info set map).  However the access to these places is not coordinated properly.  It leads to inconsistent in-memory region state information.  Sometimes, some region could even be offline, and not in transition.