MapAccessor.assertValueOfType() fails with a NullPointerException when the value is null for the specified key. A simple if (value == null) return value; should solve the problem. 