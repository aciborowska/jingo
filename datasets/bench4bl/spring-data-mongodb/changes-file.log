commit 928b5a77422fc7347f8bf3511f37de51b93ec3de
tree 83420c95ecca3e1120109bc9d967dee75847d1c6
parent 118a52a8d65e2c97776aafec3569257ab3266758
author Spring Buildmaster <buildmaster@springframework.org> 1366192208 -0700
committer Spring Buildmaster <buildmaster@springframework.org> 1366192208 -0700

    DATAMONGO-654 - Release 1.2.1.RELEASE.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-distribution/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb/pom.xml

commit 118a52a8d65e2c97776aafec3569257ab3266758
tree 82e55fc64502d2c286ba3ab1def990f36ea9f0f0
parent b47e8ca3dab7c7fba5367b4ee7957a815a3fcf6f
author Oliver Gierke <ogierke@vmware.com> 1366190926 +0200
committer Oliver Gierke <ogierke@vmware.com> 1366190926 +0200

    DATAMONGO-654 - Prepare 1.2.1.RELEASE.
    
    Upgraded to Spring Data Build 1.0.3.RELEASE. Upgraded to Spring Data Commons 1.5.1.RELEASE. Updated changelog, notice and readme. Polished readme.md.

M	README.md
M	pom.xml
M	src/main/resources/changelog.txt
M	src/main/resources/notice.txt
M	src/main/resources/readme.txt

commit b47e8ca3dab7c7fba5367b4ee7957a815a3fcf6f
tree 653c6546c60e82f672e96901c2cd9d46975d9b00
parent 8527d6eb431d8734722c30b0c94d2f9d3f82cfd9
author Oliver Gierke <ogierke@vmware.com> 1366187077 +0200
committer Oliver Gierke <ogierke@vmware.com> 1366187077 +0200

    DATAMONGO-656 - Fixed potential NPE in MongoTemplate.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java

commit 8527d6eb431d8734722c30b0c94d2f9d3f82cfd9
tree 29951f28a1b0b639c2a57082de919d8e624b8394
parent d645c778c3b32f4c31327b9a10b8353f360b249c
author Oliver Gierke <ogierke@vmware.com> 1366038215 +0200
committer Oliver Gierke <ogierke@vmware.com> 1366038356 +0200

    DATAMONGO-651 - MongoTemplate now throws Mongo-specific exception with WriteResult.
    
    If the WriteResultChecking is set to EXCEPTION on a MongoTemplate, we now throw a Mongo-specific exception that captures both the WriteResult and MongoActionOperation for further evaluation.

A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoDataIntegrityViolationException.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit d645c778c3b32f4c31327b9a10b8353f360b249c
tree e84c10c89243373a277ee4728e278fef056d49a3
parent 5c47f1ae9e340ed74eadf44b866a8ab401f6bd48
author Oliver Gierke <ogierke@vmware.com> 1365674498 +0200
committer Oliver Gierke <ogierke@vmware.com> 1365674513 +0200

    DATAMONGO-571 - Fixed setting null values during update of versioned entities.
    
    In case of updating a versioned object,the Update object is now constructed from plain key value pairs, not using $set anymore. This will correctly set the null values in the updated document.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Update.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit 5c47f1ae9e340ed74eadf44b866a8ab401f6bd48
tree 97a5ee47ae198659ae5809597fd316c836ae4e86
parent 9f324bac195c1800248c71f5a23b557dba9936b3
author Oliver Gierke <ogierke@vmware.com> 1365670624 +0200
committer Oliver Gierke <ogierke@vmware.com> 1365671282 +0200

    DATAMONGO-650 - Added snapshot repository to resolve Spring Data Commons.

M	pom.xml

commit 9f324bac195c1800248c71f5a23b557dba9936b3
tree be7e731e08b4c087f0d9437968c9bba7178a6441
parent 186caba1ac5ac1f228da4b94eed36fd66fdd23dd
author Oliver Gierke <ogierke@vmware.com> 1365618869 +0200
committer Oliver Gierke <ogierke@vmware.com> 1365618869 +0200

    DATAMONGO-648 - Replaced XSD ids with XSD strings.
    
    This change allows usage of Spring Data MongoDB XML namespace elements with <bean /> element using a profile. This scenario creates the case of e.g. two <mongo:db-factory /> declarations in the same XML file.

M	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.2.xsd

commit 186caba1ac5ac1f228da4b94eed36fd66fdd23dd
tree a32564f96c8912bfcc3211bc183d0f446ff239ef
parent 2ebb7e801d9bb23feb9565b621c445013a74c24a
author Oliver Gierke <ogierke@vmware.com> 1364895756 +0200
committer Oliver Gierke <ogierke@vmware.com> 1364895770 +0200

    DATAMONGO-642 - MongoChangeSetPersister now considers mapped collection.
    
    So far the change set persister has used the plain domain type name to persist data. We now consider the collection name defined by the object mapping (through @Document(collection = "…")).

M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/MongoChangeSetPersister.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/mongodb/crossstore/CrossStoreMongoTests.java

commit 2ebb7e801d9bb23feb9565b621c445013a74c24a
tree bc00558c9e4b02326add229a2e34ca57038c93c0
parent a932f3474e18cdd8e1d91adf1d9b68b38d59e9ac
author Oliver Gierke <ogierke@vmware.com> 1364892994 +0200
committer Oliver Gierke <ogierke@vmware.com> 1364893153 +0200

    DATAMONGO-641 - Fixed potential NullPointerException in MongoLog4jAppender.
    
    Log4j appender now only closes Mongo instance if available.

M	spring-data-mongodb-log4j/src/main/java/org/springframework/data/mongodb/log4j/MongoLog4jAppender.java
A	spring-data-mongodb-log4j/src/test/java/org/springframework/data/mongodb/log4j/MongoLog4jAppenderUnitTests.java

commit a932f3474e18cdd8e1d91adf1d9b68b38d59e9ac
tree 3d79da38bda7b619aa1c872cdb35d289361736b8
parent e992456532dee63a474809b718eada8d7b888aee
author Oliver Gierke <ogierke@vmware.com> 1364892805 +0200
committer Oliver Gierke <ogierke@vmware.com> 1364893145 +0200

    DATAMONGO-641 - Reformatting to prepare fix.

M	spring-data-mongodb-log4j/src/main/java/org/springframework/data/mongodb/log4j/MongoLog4jAppender.java
M	spring-data-mongodb-log4j/src/test/java/org/springframework/data/mongodb/log4j/AppenderTest.java

commit e992456532dee63a474809b718eada8d7b888aee
tree f9f3b1aa7645ac603279637a97decc4548f3437d
parent 7b34c5cac41002b0040fc439b9fea9d395adf1d0
author Oliver Gierke <ogierke@vmware.com> 1364484418 +0100
committer Oliver Gierke <ogierke@vmware.com> 1364484595 +0100

    DATAMONGO-638 - MappingContext does not create PersistentEntities for AbstractMaps.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MongoMappingContextUnitTests.java

commit 7b34c5cac41002b0040fc439b9fea9d395adf1d0
tree c9843beee21f114a8d2e0b9896e35f92533c7855
parent 16baf00f5e594b7886bcaed59a9ea622087138ff
author Oliver Gierke <ogierke@vmware.com> 1364379608 +0100
committer Oliver Gierke <ogierke@vmware.com> 1364382246 +0100

    DATAMONGO-629 - Fixed QueryMapper not to massage queries without type information.
    
    So far the QueryMapper applied the id massaging (especially interpreting the default id keys) even if there was no persistence metadata available to do so. This caused e.g. queries handed into MongoTemplate.count(Query, String) to get keys of "id" massaged into "_id" which shouldn't be the case as we cannot assume anything about the documents and the keys contained in them.
    
    So we now only apply the defaults if there is at least persistence metadata present. This means that for methods on MongoOperations that don't take type information of any kind the queries have to be defined in terms of the document, not the object model as we cannot refer to it.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/QueryMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/QueryMapperUnitTests.java

commit 16baf00f5e594b7886bcaed59a9ea622087138ff
tree d87c0284b2fa4e377a150af6bcb7244a326eb4c7
parent 61a2c56a27b19c3a73971270aac808a3ff0d9c56
author Andrey Bloschetsov <bloschetsov@gmail.com> 1348119264 +0400
committer Oliver Gierke <ogierke@vmware.com> 1364380102 +0100

    DATAMONGO-637 - Fixed typo in Query.query(…).
    
    Correcting mispelled "critera". Polished JavaDoc a little.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Query.java

commit 61a2c56a27b19c3a73971270aac808a3ff0d9c56
tree 3efc251c97b1b06624fe97808d0ba677ae812ef4
parent e62437b64a78935185f2fa06f2d1098f633a6eb1
author Oliver Gierke <ogierke@vmware.com> 1364226280 +0100
committer Oliver Gierke <ogierke@vmware.com> 1364233594 +0100

    DATAMONGO-632 - Removed schemaLocation attribute from namespace references.

M	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.1.xsd
M	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.2.xsd

commit e62437b64a78935185f2fa06f2d1098f633a6eb1
tree 7e9f3737a2b910bf8a391a04dbba474cc819407d
parent e9a7e887be27c8d1151e6ce9d640fdb2db8abc2e
author Oliver Gierke <ogierke@vmware.com> 1364233458 +0100
committer Oliver Gierke <ogierke@vmware.com> 1364233458 +0100

    DATAMONGO-633 - Back down to bug fix versions of SD Parent and Core.
    
    Avoid version bump to Querydsl 3.0.

M	pom.xml

commit e9a7e887be27c8d1151e6ce9d640fdb2db8abc2e
tree b550ef30a92dfd46dc45bbe7e2a294eb0cd06591
parent b91a66f6f9572de28f8e58e0397069c2fcedbdbd
author Oliver Gierke <ogierke@vmware.com> 1364231588 +0100
committer Oliver Gierke <ogierke@vmware.com> 1364231601 +0100

    DATAMONGO-635 - Fixed some Sonar warnings.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/AbstractMongoQuery.java

commit b91a66f6f9572de28f8e58e0397069c2fcedbdbd
tree 30037861d4227b20197a9c43650c19e01c031290
parent a047e54e5a8c97940bdd65753792d83f221fe888
author Oliver Gierke <ogierke@vmware.com> 1361874708 +0100
committer Oliver Gierke <ogierke@vmware.com> 1361875176 +0100

    DATAMONGO-622 - Saving unversioned object now uses doInsert(…).
    
    We now rather use doInsert(…) if a versioned object is saved the first time to prevent accidental updates not bumping the version number.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit a047e54e5a8c97940bdd65753792d83f221fe888
tree 4b79f7487e367c7877999bf3144a901123cc48e6
parent 8197ff57c82f92bd7706b59a57a5c073c9b56106
author Oliver Gierke <ogierke@vmware.com> 1361872560 +0100
committer Oliver Gierke <ogierke@vmware.com> 1361875170 +0100

    DATAMONGO-621 - Initializing version property now uses ConversionService.
    
    The BeanWrapper used in MongoTemplate.initializeVersionProperty(…) now uses the ConversionService held in the MongoConverter.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/PersonWithVersionPropertyOfTypeLong.java

commit 8197ff57c82f92bd7706b59a57a5c073c9b56106
tree 4cc3900474baca3188200a3f8182f37561e9dc32
parent a2136719e11a2e6e80d892e9ed1bc9598de7e44b
author Oliver Gierke <ogierke@vmware.com> 1361872330 +0100
committer Oliver Gierke <ogierke@vmware.com> 1361875162 +0100

    DATAMONGO-620 - Updating versioned object uses explicit collection name.
    
    We're now handing the collection name given to doSaveVersioned(…) to the update method.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/PersonWithVersionPropertyOfTypeInteger.java

commit a2136719e11a2e6e80d892e9ed1bc9598de7e44b
tree b8be3c4e20f50d536fccb7c543e64a8e6e9978e7
parent 7bcf142c8dfcb89fe50a398695f011bc71938567
author Oliver Gierke <ogierke@vmware.com> 1361358264 +0100
committer Oliver Gierke <ogierke@vmware.com> 1361358452 +0100

    DATAMONGO-617 - Fixed potential NullPointerException in MongoTemplate.insert(…).
    
    If MongoTemplate.insert(…) was called with a Mongo-simple type (such as a raw DBBobject) it caused a NullPointerException during the lookup of a version property. This is now fixed by correcting the guard.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit 7bcf142c8dfcb89fe50a398695f011bc71938567
tree 1b344ee9b609e09093a1838f71450b923cb4e099
parent d50d03a80ed2670f5ab90ee6718f49f574af9370
author Oliver Gierke <ogierke@vmware.com> 1360582841 +0100
committer Oliver Gierke <ogierke@vmware.com> 1360582872 +0100

    DATAMONGO-613 - Readded JConsole image and upgrade to Spring Data Build 1.1.

M	pom.xml
A	src/docbkx/reference/jconsole.png

commit d50d03a80ed2670f5ab90ee6718f49f574af9370
tree 169fec2d2f4d2223ecfb83f79413cefe61fce6df
parent ba894a45113ff622953ed464602a3739cdb56041
author Oliver Gierke <ogierke@vmware.com> 1360582720 +0100
committer Oliver Gierke <ogierke@vmware.com> 1360582755 +0100

    DATAMONGO-612 - Fixed reconfiguration of dist.id.

M	pom.xml
M	spring-data-mongodb-distribution/pom.xml

commit ba894a45113ff622953ed464602a3739cdb56041
tree d723b9eae7df5d167fa7d4cca10fc75893e62e32
parent 2bc6ebc2506bb102e72e8f87a325276748e66d2b
author Spring Buildmaster <buildmaster@springframework.org> 1360325750 -0800
committer Oliver Gierke <ogierke@vmware.com> 1360326125 +0100

    DATAMONGO-609 - Prepare next development iteration.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-distribution/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb/pom.xml

commit 2bc6ebc2506bb102e72e8f87a325276748e66d2b
tree c1348c02b2551009dae4a1f6dc4bfeaef76b2e7a
parent 909110cf4e31f53431e4b008a276146ce45f914f
author Spring Buildmaster <buildmaster@springframework.org> 1360325746 -0800
committer Spring Buildmaster <buildmaster@springframework.org> 1360325746 -0800

    DATAMONGO-609 - Release version 1.2.0.RELEASE

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-distribution/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb/pom.xml

commit 909110cf4e31f53431e4b008a276146ce45f914f
tree d311a3ef63dc9a2edba97be50ab00ade6f040096
parent ba094da5a74bfbcdc56270a0c54d11ef76b3f781
author Oliver Gierke <ogierke@vmware.com> 1360325149 +0100
committer Oliver Gierke <ogierke@vmware.com> 1360325149 +0100

    DATAMONGO-609 - Upgraded to parent project and Spring Data Commons in release versions.

M	pom.xml

commit ba094da5a74bfbcdc56270a0c54d11ef76b3f781
tree 1328b20b1305debf837df8bcb37b9baa8a52fd64
parent 876b31bc520b40a7956519fde413965e29a6e51e
author Oliver Gierke <ogierke@vmware.com> 1360325073 +0100
committer Oliver Gierke <ogierke@vmware.com> 1360325073 +0100

    DATAMONGO-611 - Upgraded to MongoDB Java driver 2.10.1.

M	pom.xml

commit 876b31bc520b40a7956519fde413965e29a6e51e
tree 706a2ef14ba77708d0314ba5d4f9471fbf6a80e5
parent dc8e8281eb3a42bd082773e2cb6c6469c91c5667
author Oliver Gierke <ogierke@vmware.com> 1360321342 +0100
committer Oliver Gierke <ogierke@vmware.com> 1360324820 +0100

    DATAMONGO-609 - Updated changelog.

M	src/main/resources/changelog.txt
M	src/main/resources/notice.txt

commit dc8e8281eb3a42bd082773e2cb6c6469c91c5667
tree 9b9d32a2b4ac295f1650b5680e95bef505efada1
parent 48deb1a1500782c403a84b668b8f4ada1f914b77
author Oliver Gierke <ogierke@vmware.com> 1360169621 +0100
committer Oliver Gierke <ogierke@vmware.com> 1360169621 +0100

    DATAMONGO-606 - Add JodaTime specific Converter implementations if JodaTime is present on classpath.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/CustomConversions.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 48deb1a1500782c403a84b668b8f4ada1f914b77
tree 186b26732d1239fd6b7c19aceb231a99d106aa36
parent 48625956b7016ad30cf9dbf6d4939d750a6fe791
author Oliver Gierke <ogierke@vmware.com> 1360168773 +0100
committer Oliver Gierke <ogierke@vmware.com> 1360168773 +0100

    DATAMONGO-603 - Polishing unit tests.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/NearQueryUnitTests.java

commit 48625956b7016ad30cf9dbf6d4939d750a6fe791
tree 80a0826adb510d2c05a89ff849f8271c4484a6e3
parent 782cf6e10d063528a9f9182c6734eca1acd4964b
author Michal Vich <michal.vich@gmail.com> 1358963190 +0000
committer Oliver Gierke <ogierke@vmware.com> 1360159479 +0100

    DATAMONGO-568 - MongoTemplate.find(…) does not throw NullPointerException anymore.
    
    Trigger findAll(…) if the Query object given to a find(…) method is null.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit 782cf6e10d063528a9f9182c6734eca1acd4964b
tree 9ce19b2a05000d963dd8013e58f4376d5b3f918e
parent c28e51cf864672eccf107fb8b3155d56e766e388
author Michal Vich <michal.vich@gmail.com> 1358977182 +0000
committer Oliver Gierke <ogierke@vmware.com> 1360158116 +0100

    DATAMONGO-81 - Added more unit tests for MongoExceptionTranslator.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoExceptionTranslator.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoExceptionTranslatorUnitTests.java

commit c28e51cf864672eccf107fb8b3155d56e766e388
tree c077e955d087867e6edb4f1a7b216e7c5ceb9d5b
parent 4b1065cac5d402d9ff37fda4a3cec97bc2da86fd
author Oliver Gierke <ogierke@vmware.com> 1359725264 +0100
committer Oliver Gierke <ogierke@vmware.com> 1359729509 +0100

    DATAMONGO-603 - Make sure geo queries and repositories get correct Metric applied.
    
    Heavily refactored NearQuery to simplify implementation and testability. Made sure the metric of the maximum distance is applied if no metric had been defined before. Adapted query preparation code to re-enforce the correct metric being set to not rely on the auto-application behavior of NearQuery to be safe against potential further refactorings.

A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/CustomMetric.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/NearQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/AbstractMongoQuery.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoSpatialTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/NearQueryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java

commit 4b1065cac5d402d9ff37fda4a3cec97bc2da86fd
tree 567b122e23b695bc8c63667923b0d1b7094021a9
parent c807b2abcfcfc22bf5acf04893c956629dff5812
author Oliver Gierke <ogierke@vmware.com> 1359488201 +0100
committer Oliver Gierke <ogierke@vmware.com> 1359488201 +0100

    DATAMONGO-598 - Set needed properties and activate distribution artifact upload.

M	spring-data-mongodb-distribution/pom.xml

commit c807b2abcfcfc22bf5acf04893c956629dff5812
tree aa6f63a57003a042227652ba3516daf285503970
parent 19ad2d3aacbae7487707f915140bd56dad5975af
author Oliver Gierke <ogierke@vmware.com> 1359461766 +0100
committer Oliver Gierke <ogierke@vmware.com> 1359461766 +0100

    DATAMONGO-601 - Fixed exposing password by MongoDbUtils.
    
    MongoDbUtils is now not exposing the plain password in the exception message piped into CannotGetMongoDbConnectionException but uses the newly introduced toString() method of UserCredentials (see DATACMNS-275).

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoDbUtils.java

commit 19ad2d3aacbae7487707f915140bd56dad5975af
tree dffbb50b56fc88bb3b3b440ffc0ed8beb80fe6f4
parent bd7fe5bfd35e9b1580412818625d49640a236bdc
author Oliver Gierke <ogierke@vmware.com> 1359453276 +0100
committer Oliver Gierke <ogierke@vmware.com> 1359453276 +0100

    DATACMNS-274 - Adapt to moved type MappingContextIsNewStrategyFactory.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/AbstractMongoConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MappingMongoConverterParser.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/AuditingEventListenerUnitTests.java

commit bd7fe5bfd35e9b1580412818625d49640a236bdc
tree d32886493b4f134bcd5e510436fcb2600d7e6846
parent a237999037a1b09d66e6df5d47882c813fbba332
author Oliver Gierke <ogierke@vmware.com> 1359108689 +0100
committer Oliver Gierke <ogierke@vmware.com> 1359109779 +0100

    DATAMONGO-600 - Fixed parameter binding for derived queries on properties using polymorphism.
    
    We need to retain the type in the serialized DBObject in case a derived query binds parameters for properties that use polymorphism as we serialize the object as nested document and this only matches in an all-or-nothing way. So if the type information is missing, we won't see any results.
    
    So we now hand the TypeInformation of the property into the conversion logic and transparently skip the type information removal in case the types differ.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/AbstractMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoWriter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/Credentials.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepository.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/UsernameAndPassword.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoQueryCreatorUnitTests.java

commit a237999037a1b09d66e6df5d47882c813fbba332
tree 3be1598a284f8a54c3ec6665cd115c507d09cdd4
parent d8a97527245cae99d3bc8954c569181ab3b9a689
author Oliver Gierke <ogierke@vmware.com> 1358512506 +0100
committer Oliver Gierke <ogierke@vmware.com> 1358516748 +0100

    DATAMONGO-598 - Upgraded to new build infrastructure.
    
    Fixed test ordering issue in Cross-Store module.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/MongoChangeSetPersister.java
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/MongoDocumentBacking.aj
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/mongodb/crossstore/CrossStoreMongoTests.java
A	spring-data-mongodb-cross-store/template.mf
A	spring-data-mongodb-distribution/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-log4j/template.mf
D	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/template.mf
D	src/ant/upload-dist.xml
D	src/assembly/distribution.xml
D	src/docbkx/resources/css/highlight.css
D	src/docbkx/resources/css/html.css
D	src/docbkx/resources/images/admons/blank.png
D	src/docbkx/resources/images/admons/caution.gif
D	src/docbkx/resources/images/admons/caution.png
D	src/docbkx/resources/images/admons/caution.tif
D	src/docbkx/resources/images/admons/draft.png
D	src/docbkx/resources/images/admons/home.gif
D	src/docbkx/resources/images/admons/home.png
D	src/docbkx/resources/images/admons/important.gif
D	src/docbkx/resources/images/admons/important.png
D	src/docbkx/resources/images/admons/important.tif
D	src/docbkx/resources/images/admons/next.gif
D	src/docbkx/resources/images/admons/next.png
D	src/docbkx/resources/images/admons/note.gif
D	src/docbkx/resources/images/admons/note.png
D	src/docbkx/resources/images/admons/note.tif
D	src/docbkx/resources/images/admons/prev.gif
D	src/docbkx/resources/images/admons/prev.png
D	src/docbkx/resources/images/admons/tip.gif
D	src/docbkx/resources/images/admons/tip.png
D	src/docbkx/resources/images/admons/tip.tif
D	src/docbkx/resources/images/admons/toc-blank.png
D	src/docbkx/resources/images/admons/toc-minus.png
D	src/docbkx/resources/images/admons/toc-plus.png
D	src/docbkx/resources/images/admons/up.gif
D	src/docbkx/resources/images/admons/up.png
D	src/docbkx/resources/images/admons/warning.gif
D	src/docbkx/resources/images/admons/warning.png
D	src/docbkx/resources/images/admons/warning.tif
D	src/docbkx/resources/images/callouts/1.png
D	src/docbkx/resources/images/callouts/10.png
D	src/docbkx/resources/images/callouts/11.png
D	src/docbkx/resources/images/callouts/12.png
D	src/docbkx/resources/images/callouts/13.png
D	src/docbkx/resources/images/callouts/14.png
D	src/docbkx/resources/images/callouts/15.png
D	src/docbkx/resources/images/callouts/2.png
D	src/docbkx/resources/images/callouts/3.png
D	src/docbkx/resources/images/callouts/4.png
D	src/docbkx/resources/images/callouts/5.png
D	src/docbkx/resources/images/callouts/6.png
D	src/docbkx/resources/images/callouts/7.png
D	src/docbkx/resources/images/callouts/8.png
D	src/docbkx/resources/images/callouts/9.png
D	src/docbkx/resources/images/jconsole.png
D	src/docbkx/resources/images/logo.png
D	src/docbkx/resources/images/xdev-spring_logo.jpg
D	src/docbkx/resources/xsl/fopdf.xsl
D	src/docbkx/resources/xsl/highlight-fo.xsl
D	src/docbkx/resources/xsl/highlight.xsl
D	src/docbkx/resources/xsl/html.xsl
D	src/docbkx/resources/xsl/html_chunk.xsl
D	src/main/javadoc/doc-files/th-background.png
D	src/main/javadoc/spring-javadoc.css

commit d8a97527245cae99d3bc8954c569181ab3b9a689
tree 0e8e230fa20d506686fcf56db17e99396ad51c84
parent 4c8bf0dec2f279cb5a5014098c3b3526b53ff521
author Oliver Gierke <ogierke@vmware.com> 1355667985 +0100
committer Oliver Gierke <ogierke@vmware.com> 1355667985 +0100

    DATAMONGO-592 - Fix handling of SpEL evaluation values.
    
    During constructor parameter value resolution the value to be used can result from evaluating a SpEL expression on the root document. This value has to be converted recursively if it is a nested document. Adapted to the altered API in SD Commons and override potentiallyConvertSpelValue(…) to re-invoke converter.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 4c8bf0dec2f279cb5a5014098c3b3526b53ff521
tree b891a218715fa070b69512f117781f0a16be6aae
parent cffc27d83a28173e8a1880e0130cc24df3b36904
author Philipp Schneider <github-commit@phil-schneider.de> 1354828487 +0100
committer Oliver Gierke <ogierke@vmware.com> 1355380631 +0530

    DATAMONGO-583 - Using while (…) instead of for (…) for DBCursors to avoid memory leak.
    
    Instead of iterating over the DBCursor using a for-loop we now use a while-loop to avoid the potential memory leak outlined in [0].
    
    [0] https://jira.mongodb.org/browse/JAVA-664

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java

commit cffc27d83a28173e8a1880e0130cc24df3b36904
tree 194aa1a74001dc1ce817546e4c734606b9db9985
parent 42ab4cb7b4a6728766ff5c4776627d8723218a00
author Oliver Gierke <ogierke@vmware.com> 1355135158 +0900
committer Oliver Gierke <ogierke@vmware.com> 1355380615 +0530

    DATAMONGO-590 - Code cleanups in MongoTemplate and error handling APIs.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoAction.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoActionOperation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SimpleMongoDbFactory.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/WriteConcernResolver.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/WriteResultChecking.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit 42ab4cb7b4a6728766ff5c4776627d8723218a00
tree b79b9fd626586d08752e847795f878c4dfa9e5c1
parent 42df25434fcf07ddcfe87155d6b327ef4e723368
author Oliver Gierke <ogierke@vmware.com> 1355128696 +0900
committer Oliver Gierke <ogierke@vmware.com> 1355128696 +0900

    DATAMONGO-588 - Version attribute now gets initialized on insert.
    
    The version attribute of an entity has not been correctly initialized to 0 when inserting objects using MongoTemplate.insert(…). We now set it to 0 correctly.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit 42df25434fcf07ddcfe87155d6b327ef4e723368
tree 5f4aaa61c0e86eb29217600066bf57691048fb84
parent 4e16f7ebe28745d9429a777b0c7b5a60ebdbf2e8
author Oliver Gierke <ogierke@vmware.com> 1354531026 +0100
committer Oliver Gierke <ogierke@vmware.com> 1354531026 +0100

    DATAMONGO-585 - Fix concurrency issue in database authentication.
    
    So far the authentication of the database was synchronized *after* the check whether the database under consideration had already been authenticated. This can cause threads to concurrently try to authenticate the database which is rejected by the driver. Improved the synchronization block to include both the ….isAuthenticated() check as well as the authentication.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoDbUtils.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoDbUtilsIntegrationTests.java

commit 4e16f7ebe28745d9429a777b0c7b5a60ebdbf2e8
tree 7d727c5a5779c0062bdcc70d048d16828de55c58
parent 04a87b373df6083a219fa5cdc0f8e08b0d0b8679
author Oliver Gierke <ogierke@vmware.com> 1354191750 +0100
committer Oliver Gierke <ogierke@vmware.com> 1354191758 +0100

    DATACMNS-378 - Fixed ClassCastException in MapReduceResults.
    
    The parseCount(…) method now safely converts both integer and long values from the source DBObject.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/MapReduceCounts.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/MapReduceResults.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/MapReduceCountsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/MapReduceResultsUnitTests.java

commit 04a87b373df6083a219fa5cdc0f8e08b0d0b8679
tree 4b821287b70537ef5a6b57319b0eae1ee7723a71
parent c4eca7eaddc62cc80073f04e74c7ffb771e1a04a
author Oliver Gierke <ogierke@vmware.com> 1354120760 +0100
committer Oliver Gierke <ogierke@vmware.com> 1354120760 +0100

    DATAMONGO-577 - Cleaned up obsolete property.
    
    The version property in BasicMongoPersistentEntity became obsolete after the upgrade in Spring Data Commons.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentEntity.java

commit c4eca7eaddc62cc80073f04e74c7ffb771e1a04a
tree 71451f945a3dbbd39e627ad9aace446cb1188504
parent 3a9dc2b98c6824626e09e642d57c7f37028a58f7
author Oliver Gierke <ogierke@vmware.com> 1354120547 +0100
committer Oliver Gierke <ogierke@vmware.com> 1354120547 +0100

    DATAMONGO-581 - Expose the PersistentEntity managed in the repository factory bean.
    
    MongoRepositoryFactoryBean now populates the MappingContext of the super class when the MongoOperations instance is set.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/config/MongoNamespaceIntegrationTests.java

commit 3a9dc2b98c6824626e09e642d57c7f37028a58f7
tree 8bec17371551604d7cc653150e2984652178e0c4
parent c568b7cbc2adcfe5306a4443b65ffeea220022c2
author Philipp Schneider <github-commit@phil-schneider.de> 1354106871 +0100
committer Oliver Gierke <ogierke@vmware.com> 1354109405 +0100

    DATAMONGO-503 - Added support for content type on GridFsOperations.
    
    Added methods to take the content type of the file to be created. Clarified nullability of arguments in JavaDoc.
    
    Pull request: #19.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/gridfs/GridFsOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/gridfs/GridFsTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/gridfs/GridFsTemplateIIntegrationTests.java

commit c568b7cbc2adcfe5306a4443b65ffeea220022c2
tree 105ac196a21b6ced544ace15f6c306126e230ba0
parent 94823500624432de101e464f6adf72d98b37a347
author Oliver Gierke <ogierke@vmware.com> 1346941421 +0200
committer Oliver Gierke <ogierke@vmware.com> 1354023840 +0100

    DATAMONGO-580 - Improved BeanDefinitionParser for MappingMongoConverter.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/BeanNames.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MappingMongoConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoAuditingBeanDefinitionParser.java

commit 94823500624432de101e464f6adf72d98b37a347
tree 2bc7c76faa01a524852fc18b026e36ef12486193
parent 772a140defec4dbdf8ce0a5cd34e285d47b9b35e
author Oliver Gierke <ogierke@vmware.com> 1353526278 +0100
committer Oliver Gierke <ogierke@vmware.com> 1354021252 +0100

    DATAMONGO-577 - Added support for auditing.
    
    Introduced AuditingEventListener to invoke auditing subsystem available through Spring Data Commons. Added <mongo:auditing /> namespace element to transparently activate it.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/AbstractMongoConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/BeanNames.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MappingMongoConverterParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoAuditingBeanDefinitionParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoNamespaceHandler.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/Version.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AuditingEventListener.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/BeforeConvertEvent.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/MappingMongoEntityInformation.java
M	spring-data-mongodb/src/main/resources/META-INF/spring.schemas
A	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.2.xsd
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/AuditingIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/AuditingEventListenerUnitTests.java
A	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/config/auditing.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/monitor/MongoMonitorIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml

commit 772a140defec4dbdf8ce0a5cd34e285d47b9b35e
tree 8c5069e400e0386ee30d2c257f38619556d89728
parent 936259a76696b0d8f6923405edf3930ab2d37fa2
author Oliver Gierke <ogierke@vmware.com> 1353664229 +0100
committer Oliver Gierke <ogierke@vmware.com> 1353664229 +0100

    DATAMONGO-576 - Configure java.util.logging to prevent verbose test logging.
    
    Added Slf4j bridge and configured surefire to configure JUL accordingly.

M	spring-data-mongodb-parent/pom.xml
A	spring-data-mongodb/src/test/resources/logging.properties

commit 936259a76696b0d8f6923405edf3930ab2d37fa2
tree a8980849116b253e677d4f2cd35736837536b98d
parent 533d21281e06e83535bc0630eecc152d3cf5fc48
author Oliver Gierke <ogierke@vmware.com> 1353525366 +0100
committer Oliver Gierke <ogierke@vmware.com> 1353661249 +0100

    DATAMONGO-575 - Improved implementation of entity metadata lookup in MongoQueryMethod.
    
    Got rid of obsolete EntityInformationCreator API and moved to a custom EntityMetadata extension instead.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/AbstractMongoQuery.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/EntityInformationCreator.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoEntityMetadata.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryMethod.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/SimpleMongoEntityMetadata.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/DefaultEntityInformationCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/IndexEnsuringQueryCreationListener.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/MongoRepositoryFactory.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoParametersParameterAccessorUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoQueryCreatorUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoQueryMethodUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/StringBasedMongoQueryUnitTests.java

commit 533d21281e06e83535bc0630eecc152d3cf5fc48
tree e8dac71df297b75933294c019d4bb7be453796e7
parent 6977fa87e647452cdcc889c162e4527b19bf3e4f
author Oliver Gierke <ogierke@vmware.com> 1352827382 +0100
committer Oliver Gierke <ogierke@vmware.com> 1352827382 +0100

    DATAMONGO-570 - Guard against null values in references.
    
    QueryMapper does not try to convert null values into DBRef objects anymore but returns the plain null value as is.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/QueryMapper.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/QueryMapperUnitTests.java

commit 6977fa87e647452cdcc889c162e4527b19bf3e4f
tree 9f2425b3535244778292e1ee0a9b3cc5965763fe
parent 41dcebb010510d05c4caede0e37123d5ebb3c917
author Oliver Gierke <ogierke@vmware.com> 1352825397 +0100
committer Oliver Gierke <ogierke@vmware.com> 1352825659 +0100

    DATAMONGO-573 - Moved to Logback for test logging.

D	spring-data-mongodb-cross-store/src/test/resources/log4j.properties
A	spring-data-mongodb-cross-store/src/test/resources/logback.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml
D	spring-data-mongodb/src/test/resources/log4j.properties
A	spring-data-mongodb/src/test/resources/logback.xml

commit 41dcebb010510d05c4caede0e37123d5ebb3c917
tree 9b3b3504bc5ab8ddb5d6ad8263132363b986c837
parent ef077182f67305e5af3a269be251dc10923e9119
author Oliver Gierke <ogierke@vmware.com> 1352821688 +0100
committer Oliver Gierke <ogierke@vmware.com> 1352825659 +0100

    DATAMONGO-559 - Upgraded to Spring Data Commons 1.5.0.BUILD-SNAPSHOT.

M	spring-data-mongodb-parent/pom.xml

commit ef077182f67305e5af3a269be251dc10923e9119
tree cf7d1e475de710037c991692e0f3e2e3f73fc8bd
parent 21e7c6376682fce17049d402635cf10a66b9f71c
author Oliver Gierke <ogierke@vmware.com> 1351111425 +0200
committer Oliver Gierke <ogierke@vmware.com> 1352825659 +0100

    DATAMONGO-563 - Upgraded MongoDB Java driver to 2.9.2.

M	spring-data-mongodb-parent/pom.xml

commit 21e7c6376682fce17049d402635cf10a66b9f71c
tree d0cc027eb3a5c46510bda16137dc5fa981d74248
parent 4b018a9d7dd6b7c17e3989df85d7a644b7fbf934
author Dave Syer <david_syer@hotmail.com> 1351267325 +0200
committer Dave Syer <david_syer@hotmail.com> 1351267325 +0200

    Update README.md

M	README.md

commit 4b018a9d7dd6b7c17e3989df85d7a644b7fbf934
tree a206a5ace09ea42aae2da51254137674cdf332b4
parent ecf15b93e040ba6f58724793652c5ef781a912a4
author Jan Kronquist <jan.kronquist@gmail.com> 1351083507 +0200
committer Oliver Gierke <ogierke@vmware.com> 1351087646 +0200

    DATAMONGO-562 - Saving versioned entity with already set id now works.
    
    Instead of inspecting the id property we now assume the version property unset for initialization and work from there.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit ecf15b93e040ba6f58724793652c5ef781a912a4
tree 5590d75a01f6b97e0998fe06dc15efca67c76020
parent 6323a86560dea0334c6f9b71c9905ab9d4ed67b9
author Spring Buildmaster <buildmaster@springframework.org> 1350511221 -0700
committer Spring Buildmaster <buildmaster@springframework.org> 1350511221 -0700

    DATAMONGO-559 - Prepare next development iteration.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 6323a86560dea0334c6f9b71c9905ab9d4ed67b9
tree 3e47d5f201bfddaec20ae4329b6201a8cd477460
parent 3b0b7315e1b447429557726aaf2560d612128179
author Spring Buildmaster <buildmaster@springframework.org> 1350511199 -0700
committer Spring Buildmaster <buildmaster@springframework.org> 1350511199 -0700

    DATAMONGO-559 - Release version 1.1.1.RELEASE.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 3b0b7315e1b447429557726aaf2560d612128179
tree 5590d75a01f6b97e0998fe06dc15efca67c76020
parent 4aeba6f92d32decc55fc3a1c7c07da48a5186c8f
author Oliver Gierke <ogierke@vmware.com> 1350510819 -0400
committer Oliver Gierke <ogierke@vmware.com> 1350510819 -0400

    DATAMONGO-559 - Prepare 1.1.1.RELEASE release.

M	src/main/resources/changelog.txt

commit 4aeba6f92d32decc55fc3a1c7c07da48a5186c8f
tree eccd7692e4dd9be220f49b30c2d411912f37fe81
parent 342f9ae837091b024187a65408cd764da28c81b6
author Oliver Gierke <ogierke@vmware.com> 1350509235 -0400
committer Oliver Gierke <ogierke@vmware.com> 1350509235 -0400

    DATAMONGO-553 - MappingMongoConverter now uses MongoPersistentProperty.usePropertyAccess() to decide whether to use property access.
    
    Introduced usePropertyAccess() method on MongoPersistentProperty and added an implementation that forces that into being true for Throwable.cause as using the field would cause a cycle as it points to this in the first place but rather massages the value in the getter.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/SimpleMongoMappingContext.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentPropertyUnitTests.java

commit 342f9ae837091b024187a65408cd764da28c81b6
tree 6c1903aba715357384412616eecd60f7d1b6f2a3
parent 66d98b355ee063c869443edb1e3d2c444f3c5fd7
author Oliver Gierke <ogierke@vmware.com> 1350316169 -0400
committer Oliver Gierke <ogierke@vmware.com> 1350316169 -0400

    DATAMONGO-551 - MongoTemplate can now persist plain Strings if they are valid JSON.
    
    Added some code to MongoTemplate that inspects the object to be saved for being a String. If it is we try to parse the given String into a JSON document and continue as if we had been given a DBObject initially. Non-parseable Strings are rejected with a MappingException.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit 66d98b355ee063c869443edb1e3d2c444f3c5fd7
tree ce3a22da7627e6eaf6ea664af8e701b6030c5a51
parent cabbe747f893b32b33237351c3fa4c39b01564c2
author Oliver Gierke <ogierke@vmware.com> 1350313212 -0400
committer Oliver Gierke <ogierke@vmware.com> 1350315480 -0400

    DATAMONGO-550 - Fixed potential NullPointerExceptions in MongoTemplate.
    
    Guarded access to results of mappingContext.getPersistentEntity(…) to prevent NullPointerExceptions in case the template is used with non-entity types like a plain DBObject. Added some custom logic for plain BasicDBObjects to get the _id field populated appropriately.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit cabbe747f893b32b33237351c3fa4c39b01564c2
tree 01120ddab00d0f5e38d0c1b886980895e8c69c17
parent 5ff3064acd6da9ed9ee1273165d3855a3e2b464a
author Oliver Gierke <ogierke@vmware.com> 1349938189 +0200
committer Oliver Gierke <ogierke@vmware.com> 1349938189 +0200

    DATAMONGO-549 - Fixed potential NullPointerException in MongoTemplate.
    
    Added assertions and guards against MongoPersistentEntity lookups resulting in null values.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit 5ff3064acd6da9ed9ee1273165d3855a3e2b464a
tree e5d1a196845edd687fb74783bf0206517217ad41
parent 3001e2941f7de4ece98d0a81308b1aa3cf506d04
author Spring Buildmaster <buildmaster@springframework.org> 1349872221 -0700
committer Spring Buildmaster <buildmaster@springframework.org> 1349872221 -0700

    DATAMONGO-541 - Prepare next development iteration.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 3001e2941f7de4ece98d0a81308b1aa3cf506d04
tree 6f1901146e471db72027fe5dfb1cc9d9c9a7c7ce
parent 9cf72fbdd46cbdbc08036bf921a79bd78fb0bfbe
author Spring Buildmaster <buildmaster@springframework.org> 1349872215 -0700
committer Spring Buildmaster <buildmaster@springframework.org> 1349872215 -0700

    DATAMONGO-541 - Release 1.1.0.RELEASE.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 9cf72fbdd46cbdbc08036bf921a79bd78fb0bfbe
tree 9035809a2745fb928b8604a0af26da95c3ee62b8
parent cb5144de0f12f6d02c61e4c31fec1bb9d458a41d
author Oliver Gierke <ogierke@vmware.com> 1349871791 +0200
committer Oliver Gierke <ogierke@vmware.com> 1349871791 +0200

    DATAMONGO-541 - Polished pom.xml for Maven central propagation.

M	pom.xml
M	spring-data-mongodb-parent/pom.xml

commit cb5144de0f12f6d02c61e4c31fec1bb9d458a41d
tree 7a0872ba7214394a7e57a66d8ad24482743be185
parent 4be90e51ae2c16cf0b879ded8c11fdf4fc9c5f1b
author Oliver Gierke <ogierke@vmware.com> 1349870683 +0200
committer Oliver Gierke <ogierke@vmware.com> 1349870683 +0200

    DATAMONGO-541 - Updated reference docs and changelog.

M	src/docbkx/index.xml
M	src/main/resources/changelog.txt

commit 4be90e51ae2c16cf0b879ded8c11fdf4fc9c5f1b
tree c200d7384aedebb2c1addc10c6b5be9d730899f8
parent 6c368d557b7adceea148db1ed12f66087f4017d8
author Oliver Gierke <ogierke@vmware.com> 1349870667 +0200
committer Oliver Gierke <ogierke@vmware.com> 1349870667 +0200

    DATAMONGO-541 - Upgrade to Spring Data Commons 1.4.0.RELEASE.

M	spring-data-mongodb-parent/pom.xml

commit 6c368d557b7adceea148db1ed12f66087f4017d8
tree 396750cb4e3337c8de7bee20574361bf06ba750d
parent a8432e13a16f12c9e1263da0f48dc370607c0745
author Oliver Gierke <ogierke@vmware.com> 1349766687 +0200
committer Oliver Gierke <ogierke@vmware.com> 1349766687 +0200

    DATAMONGO-548 - Upgrade to Querydsl 2.8.0.

M	spring-data-mongodb/pom.xml

commit a8432e13a16f12c9e1263da0f48dc370607c0745
tree 5f4f97ae95abfccff1197e019d4058b7304aba65
parent 05ac139554e68667d152696968f772d54f73c3eb
author Oliver Gierke <ogierke@vmware.com> 1348130326 +0200
committer Oliver Gierke <ogierke@vmware.com> 1348130326 +0200

    DATAMONGO-543 - Polished quick start section.
    
    Updated dependency versions to Spring Data MongoDB and Spring. Removed explicit dependency listing. Removed section on how to migrate between 1.0 milestones. Removed obsolete paragraphs.

M	src/docbkx/reference/mongodb.xml

commit 05ac139554e68667d152696968f772d54f73c3eb
tree 3fbc2e7dca5c543b888220f4a7b34609d132facc
parent 3661b2981e7d5481876c12299fe3e0ff8d5de2d0
author Oliver Gierke <ogierke@vmware.com> 1347887059 +0200
committer Oliver Gierke <ogierke@vmware.com> 1347887059 +0200

    DATAMONGO-528 - Documented GridFs support.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/gridfs/GridFsOperations.java
M	spring-data-mongodb/src/test/resources/gridfs/gridfs.xml
M	src/docbkx/reference/mongodb.xml

commit 3661b2981e7d5481876c12299fe3e0ff8d5de2d0
tree 1d65d8c34b54ac3ea06cf8c4265aa207d6ebe352
parent 69bd7acf74100c8dd7b3a03def47c64dfed19789
author Oliver Gierke <ogierke@vmware.com> 1347877368 +0200
committer Oliver Gierke <ogierke@vmware.com> 1347877368 +0200

    DATAMONGO-456 - Fixed <db-factory /> element documentation in XSD.

M	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.1.xsd

commit 69bd7acf74100c8dd7b3a03def47c64dfed19789
tree bd1e223ecf891b2e8b670b94cb7e28e41f741621
parent d882af257fbf0c04f364b049b291a490ad7dd96f
author Oliver Gierke <ogierke@vmware.com> 1347876472 +0200
committer Oliver Gierke <ogierke@vmware.com> 1347876472 +0200

    DATAMONGO-457 - Fixed links in reference documentation.

M	src/docbkx/introduction/introduction.xml

commit d882af257fbf0c04f364b049b291a490ad7dd96f
tree 69e135e01fe781beae1617728b9f21c642d953e3
parent c92058a79ac2447b34d36e809314043006949f31
author Oliver Gierke <ogierke@vmware.com> 1347875829 +0200
committer Oliver Gierke <ogierke@vmware.com> 1347875829 +0200

    DATAMONGO-539 - Fixed MongoTemplate.remove(object, collectionName).
    
    If the entity being removed using MongoTemplate.remove(object, collectionName) contained an id that could be converted into an ObjectID it wasn't removed correctly currently. This was caused by the fact that the intermediate call didn't hand over the entity type and thus the id conversion failed. This in turn caused the query not to match the previous saved object.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit c92058a79ac2447b34d36e809314043006949f31
tree 7d070abeaf6e48d48f51e9ec8fee24f7f4e0a3ab
parent ed2b576261521ae2c9dbb7f5ab0d72ba183a312d
author Oliver Gierke <ogierke@vmware.com> 1347549170 +0200
committer Oliver Gierke <ogierke@vmware.com> 1347549170 +0200

    DATAMONGO-539 - Added test case to show removing entity from explicit collection works.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit ed2b576261521ae2c9dbb7f5ab0d72ba183a312d
tree b160d78ca60bb7101f3869af6fa3f0ee2a6175bb
parent 6744446a482cb487d8e4d5c1beeca4fa55d9d3dd
author Oliver Gierke <ogierke@vmware.com> 1347526463 +0200
committer Oliver Gierke <ogierke@vmware.com> 1347526463 +0200

    DATAMONGO-538 - Query API can now work with Sort and Pageable from Spring Data Commons.
    
    Introduced with(Sort sort) and with(Pageable pageable) on Query. Deprecated sort() method and the custom Sort class. Deprecated QueryUtils.applyPagination(…) and ….applySorting(…) and changed internal calls to this to use the Query API directly. Some JavaDoc polishing.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Query.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Sort.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/AbstractMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/QueryUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/StringBasedMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/BasicQueryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/SortTests.java

commit 6744446a482cb487d8e4d5c1beeca4fa55d9d3dd
tree fce7fb4fe1bcc30be3146ae86ad29b4c4490729a
parent fdecec48b2f32181ed3e268a254e8e7ca5d2df57
author Oliver Gierke <ogierke@vmware.com> 1347447511 +0200
committer Oliver Gierke <ogierke@vmware.com> 1347447511 +0200

    DATAMONGO-532 - Synchronize DB authentication.
    
    In multithreaded environments Mongo database authentication can be triggered twice if two or more threads refer to the same db instance. This is now prevented by synchronizing calls to db.authenticate(…).

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoDbUtils.java

commit fdecec48b2f32181ed3e268a254e8e7ca5d2df57
tree 66cc0159ae0fe8844769d4256d652d022f62c38d
parent f1289c46e6ad52f785ff8d8a5ed5effa6302ffee
author Oliver Gierke <ogierke@vmware.com> 1347443660 +0200
committer Oliver Gierke <ogierke@vmware.com> 1347443660 +0200

    DATAMONGO-484 - Upgraded to MongoDB driver 2.9.1.

M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/GroupByTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryTests.java
M	spring-data-mongodb/src/test/resources/log4j.properties

commit f1289c46e6ad52f785ff8d8a5ed5effa6302ffee
tree af16073df37e9cbb357d5c483786bc08dc423c17
parent aa0b87be570d6c6271e6c4927860d82e144e61bc
author Oliver Gierke <ogierke@vmware.com> 1346941377 +0200
committer Oliver Gierke <ogierke@vmware.com> 1347389073 +0200

    DATAMONGO-535 - Fixed broken MongoDBUtils resource synchronization.
    
    We now make sure we really re-use the database instance bound to the thread avoiding duplicate lookups of Mongo.getDb(…). This doesn't seem to gain a big performance benefit anymore as the Mongo instance caches the DB instances internally anyway.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoDbUtils.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoDbUtilsUnitTests.java

commit aa0b87be570d6c6271e6c4927860d82e144e61bc
tree 3115b8af3856ad1d39184a63ef56f6d98fd4aafa
parent 2040f02d07cd6b027ad65099ddb0f43017ad909a
author Oliver Gierke <ogierke@vmware.com> 1347378017 +0200
committer Oliver Gierke <ogierke@vmware.com> 1347389072 +0200

    DATAMONGO-536 - Fixed package cycle introduced by SerializationUtils.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SerializationUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Query.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/SerializationUtils.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/SerializationUtilsUnitTests.java

commit 2040f02d07cd6b027ad65099ddb0f43017ad909a
tree 5b2309f624da80e1393d45e11e3eba6a9c5d10d8
parent 13a69ecdfdd6e33c283f2cd1b3af5f2ff7c33d4b
author noter <noter@eforce.pl> 1346921511 +0200
committer Oliver Gierke <ogierke@vmware.com> 1347389055 +0200

    DATAMONGO-279 - Added support for optimistic locking.
    
    Introduced @Version annotation to demarcate a version property on an entity. MongoTemplate will initialize this property on the first save of an instance if not set already. If it is already set, the template will bump the version number on subsequent saves and actually trigger an update backed by a query including the old version number. A failure to update the entity accordingly will then trigger an OptimisticLockingFailureException.
    
    General JavaDoc polish in mapping package.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/CachingMongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/SimpleMongoMappingContext.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/Version.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Update.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/PersonWithVersionPropertyOfTypeInteger.java

commit 13a69ecdfdd6e33c283f2cd1b3af5f2ff7c33d4b
tree b99ab6dd188c181ea21cd28b8fc6894f8e1ffc31
parent f0051deff06d33f5f0e69f5d58412e3c94558b2d
author Oliver Gierke <ogierke@vmware.com> 1347045119 +0200
committer Oliver Gierke <ogierke@vmware.com> 1347045677 +0200

    DATAMONGO-533 - Fixed index creator registration.
    
    In cases an ApplicationContext already contains a MongoPersistentEntityIndexCreator the default one is not registered, even if the one in the ApplicationContext listens to another MappingContext's events.
    
    Polished iterable classes setup in MongoTemplate along the way. Some JavaDoc polishes as well.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreatorIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreatorUnitTests.java

commit f0051deff06d33f5f0e69f5d58412e3c94558b2d
tree a42966c68a68925f20ba94146c519be796c755f7
parent 05a8148084ab9d5cc8ab2f85466b8a4f5e458251
author Oliver Gierke <ogierke@vmware.com> 1346941540 +0200
committer Oliver Gierke <ogierke@vmware.com> 1346941540 +0200

    Formatting.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java

commit 05a8148084ab9d5cc8ab2f85466b8a4f5e458251
tree 520f44cacc7ae80b4eadaf4c1fe941b16b3f16b3
parent aaa44b3369e477e2ff7551477c847d9c17f5364b
author Oliver Gierke <ogierke@vmware.com> 1346940407 +0200
committer Oliver Gierke <ogierke@vmware.com> 1346940407 +0200

    DATAMONGO-530 - Fixed propagation of setApplicationContext(…) in MappingMongoConverter.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MongoMappingContextUnitTests.java

commit aaa44b3369e477e2ff7551477c847d9c17f5364b
tree 720d90e7f9565db821278b292f1021ac357444b0
parent 7f35c4430d6aa9f8cf9b4f94d8b91199af8422d9
author Oliver Gierke <ogierke@vmware.com> 1346684173 +0200
committer Oliver Gierke <ogierke@vmware.com> 1346939321 +0200

    DATAMONGO-529 - Update Querydsl setup to use 1.0.4.
    
    Raised Maven compiler plugin version to 2.5.1.

M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 7f35c4430d6aa9f8cf9b4f94d8b91199af8422d9
tree 6a40d153b9f8c018251010a61ccc5d09d43cd917
parent 114489d19aa86c1ddbbf9ce379eab320ce022dde
author Oliver Gierke <ogierke@vmware.com> 1346690845 +0200
committer Oliver Gierke <ogierke@vmware.com> 1346690845 +0200

    DATAMONGO-527 - Fixed Criteria.equals(…).

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Criteria.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/CriteriaTests.java

commit 114489d19aa86c1ddbbf9ce379eab320ce022dde
tree 8e8d3ec7280cfcf69ad6e00b1c54fd6bf4a28bf8
parent eda8200d51ad248986f373bb7c49d2fe624fea5a
author Oliver Gierke <ogierke@vmware.com> 1346683613 +0200
committer Oliver Gierke <ogierke@vmware.com> 1346683613 +0200

    DATAMONGO-521 - Added test case to show that repository AND query works.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepositoryIntegrationTests.java

commit eda8200d51ad248986f373bb7c49d2fe624fea5a
tree 9c95b6e752aff89880464063a2304de2bbc0bd05
parent b078ea9ceb62780391470e3859866b93185bf513
author Oliver Gierke <ogierke@vmware.com> 1346672696 +0200
committer Oliver Gierke <ogierke@vmware.com> 1346678661 +0200

    DATAMONGO-523 - Added test case to verify type alias detection.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit b078ea9ceb62780391470e3859866b93185bf513
tree 4f7f2b28e6d8b438079b9359f43daba617b034aa
parent d90b1a0ddd461bceb5f94c20b87aae4379a82cc8
author Oliver Gierke <ogierke@vmware.com> 1346320585 +0200
committer Oliver Gierke <ogierke@vmware.com> 1346678660 +0200

    DATAMONGO-513 - Update to Spring Data Commons 1.4.0.BUILD-SNAPSHOT.

M	spring-data-mongodb-parent/pom.xml

commit d90b1a0ddd461bceb5f94c20b87aae4379a82cc8
tree ef189d8f7f33b83ce051c38582a16a35bbb24799
parent 737a42e07a9809b555f1139a2b8cfe998a6a2a91
author mpollack <mpollack@vmware.com> 1345925863 -0400
committer Oliver Gierke <ogierke@vmware.com> 1346678613 +0200

    DATAMONGO-526 - Polished README.md.
    
    Update README to remove references to old API, Docs links as well as CouchDB. Remove reference to Spring Data Document, copy initial paragraph introducing the project from http://www.springsource.org/spring-data/mongodb

M	README.md

commit 737a42e07a9809b555f1139a2b8cfe998a6a2a91
tree 0663a350964d14c78c25fbb778840cd1b413f08b
parent 22d5d4c01946f92e83408b94ae187e513241d331
author Spring Buildmaster <buildmaster@springframework.org> 1345800249 -0700
committer Spring Buildmaster <buildmaster@springframework.org> 1345800249 -0700

    DATAMONGO-513 - Prepare next development iteration.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 22d5d4c01946f92e83408b94ae187e513241d331
tree f748c6edadb95503c76be2f65add53719f6104b1
parent 7ac1e7b6e1258d3381e33b266af180d735c58dab
author Spring Buildmaster <buildmaster@springframework.org> 1345800246 -0700
committer Spring Buildmaster <buildmaster@springframework.org> 1345800246 -0700

    DATAMONGO-513 - Release 1.1.0.RC1.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 7ac1e7b6e1258d3381e33b266af180d735c58dab
tree 0663a350964d14c78c25fbb778840cd1b413f08b
parent e86ab783f3892efb033eea0c331af2a251f88daa
author Oliver Gierke <ogierke@vmware.com> 1345799814 +0200
committer Oliver Gierke <ogierke@vmware.com> 1345799814 +0200

    DATAMONGO-513 - Prepare changelog for 1.1.0.RC1.

M	src/main/resources/changelog.txt

commit e86ab783f3892efb033eea0c331af2a251f88daa
tree aabbb62d5da25ba3a556f88c224f0417a43c470b
parent 6fe3e67ecbb6fd8a099b08da85f950a43fa79fe8
author Oliver Gierke <ogierke@vmware.com> 1345745561 +0200
committer Oliver Gierke <ogierke@vmware.com> 1345745561 +0200

    DATAMONGO-513 - Update to Spring Data Commons 1.4.0.RC1.

M	spring-data-mongodb-parent/pom.xml
M	src/docbkx/index.xml

commit 6fe3e67ecbb6fd8a099b08da85f950a43fa79fe8
tree e07f310870e7b9ad54fa1173e65db9a1c7f16b78
parent 3b78034c556158aa7042a0fe59394a6e0053ebf3
author Oliver Gierke <ogierke@vmware.com> 1345543724 +0200
committer Oliver Gierke <ogierke@vmware.com> 1345544730 +0200

    DATAMONGO-517 - Fixed complex keyword handling.
    
    Introduced intermediate getMappedKeyword(Keyword keyword, MongoPersistentProperty property) to correctly return a DBObject for keyword plus converted value. A few refactorings and improvements in the implementation of QueryMapper (Keyword value object etc.).

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/QueryMapper.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/QueryMapperUnitTests.java

commit 3b78034c556158aa7042a0fe59394a6e0053ebf3
tree d6c32dbbc092b1521b99af3f62f5d6dbd20ec5c0
parent a06a69797f8ec353d86e8a82057c4272f2922282
author Oliver Gierke <ogierke@vmware.com> 1345475977 +0200
committer Oliver Gierke <ogierke@vmware.com> 1345475977 +0200

    DATAMONGO-519 - Make Spring 3.1.2.RELEASE default Spring dependency version.
    
    We move away from Maven version ranges as they complicate the build and dependency resolution process. They make the build in-reproducible. Users stuck with a 3.0.x version of Spring will now have to manually declare Spring dependencies in their needed 3.0.x version. Not that at least Spring 3.0.7 is required currently.

M	spring-data-mongodb-parent/pom.xml

commit a06a69797f8ec353d86e8a82057c4272f2922282
tree b322e1fd4b8705dad4d1d0338771ddfdde4ac9da
parent 8b1557e38c65fa4d71e5123ece403c5819a8f447
author Oliver Gierke <ogierke@vmware.com> 1345119002 +0200
committer Oliver Gierke <ogierke@vmware.com> 1345119002 +0200

    DATACMNS-214 - Adapted API change in Spring Data Commons.
    
    Plus additional cleanups.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/TestMongoConfiguration.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MongoMappingContextUnitTests.java

commit 8b1557e38c65fa4d71e5123ece403c5819a8f447
tree 82de7fdb5d3eecb78f9c7b19b1b1083700e0261d
parent fcdc6d0df266abecbdb32947a12ff603c9241c39
author Oliver Gierke <ogierke@vmware.com> 1345051454 +0200
committer Oliver Gierke <ogierke@vmware.com> 1345052402 +0200

    DATAMONGO-506 - Added test case to show BasicQuery is working for nested properties.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit fcdc6d0df266abecbdb32947a12ff603c9241c39
tree a26507b2a6075eac3b0bb76f3275664d72cd0d8d
parent 83b6cd7f0552006a2831faab52cc715561fdbeb1
author Oliver Gierke <ogierke@vmware.com> 1345048003 +0200
committer Oliver Gierke <ogierke@vmware.com> 1345048229 +0200

    DATAMONGO-511 - QueryMapper now maps associations correctly.
    
    Complete overhaul of the QueryMapper to better handle complex scenarios like property paths and association references.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/QueryMapper.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/QueryMapperUnitTests.java

commit 83b6cd7f0552006a2831faab52cc715561fdbeb1
tree 5fd19032d0b2bdd876cc5ed1427acf03921fd152
parent 38a9a6d51d014f216690e399f078205f9d340226
author Oliver Gierke <ogierke@vmware.com> 1345047423 +0200
committer Oliver Gierke <ogierke@vmware.com> 1345048215 +0200

    DATAMONGO-510 - Criteria now only uses BasicDBList internally.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Criteria.java

commit 38a9a6d51d014f216690e399f078205f9d340226
tree 5079e79667a3e43762018bc1e29a097ab7e2e70d
parent 5e2f16c678b99fa44e95fbb0b46d080b388fcf05
author Oliver Gierke <ogierke@vmware.com> 1345047363 +0200
committer Oliver Gierke <ogierke@vmware.com> 1345047363 +0200

    DATAMONGO-509 - SimpleMongoRepository.exists(…) now avoids loading unnecessary data.
    
    We're explicitly ruling out the entities attributes via a field spec to avoid unnecessary object marshaling just to find out whether it exists or not.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java

commit 5e2f16c678b99fa44e95fbb0b46d080b388fcf05
tree 92c9e15c25b922a9427e213c09763402e7273b53
parent d7ae95a7791a03f4f1170d4f89c9ec885f55deb8
author Oliver Gierke <ogierke@vmware.com> 1345041536 +0200
committer Oliver Gierke <ogierke@vmware.com> 1345041536 +0200

    DATAMONGO-508 - Eagerly return DBRef creation if the given value already is a DBRef.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit d7ae95a7791a03f4f1170d4f89c9ec885f55deb8
tree d244974ab9983c978f1447fcb3d434cf53048b29
parent 8fbdf9afbdda91c73b79ea777afa53709e60afc1
author Oliver Gierke <ogierke@vmware.com> 1345036604 +0200
committer Oliver Gierke <ogierke@vmware.com> 1345036604 +0200

    DATAMONGO-505 - Fixed handling of parameter binding of associations and collection values.
    
    Instead of converting given association values as-is, ConvertingParameterAccessor now converts each collection value into a DBRef individually.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/ConvertingParameterAccessorUnitTests.java

commit 8fbdf9afbdda91c73b79ea777afa53709e60afc1
tree 24f3edc5ce559a3a711d1643a9f57c3b3325fdae
parent f5a4d78e62654313de84236549af28d8116c8e74
author Oliver Gierke <ogierke@vmware.com> 1344860839 +0200
committer Oliver Gierke <ogierke@vmware.com> 1344860839 +0200

    DATACMNS-212 - Apply refactorings in Spring Data Commons.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoMappingEventPublisher.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreatorUnitTests.java

commit f5a4d78e62654313de84236549af28d8116c8e74
tree 4c3ac6a478786cf7023d7e6313f39c4197aaea90
parent 1f4264e6a71fd65817cd89cb845fda0c7094913b
author Oliver Gierke <info@olivergierke.de> 1344850679 +0200
committer Oliver Gierke <info@olivergierke.de> 1344850679 +0200

    DATAMONGO-476 - @EnableMongoRepositories is now inherited into sub-classes.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/config/EnableMongoRepositories.java

commit 1f4264e6a71fd65817cd89cb845fda0c7094913b
tree e9ae377bf9bf310a799870e5e17dd2a0a30bb719
parent 05baa851d8c59675412611c67213979a20677e11
author Oliver Gierke <info@olivergierke.de> 1344621516 +0200
committer Oliver Gierke <info@olivergierke.de> 1344621516 +0200

    DATAMONGO-472 - MongoQueryCreator now correctly translates Not keyword.
    
    We're now translating a negating property reference into a ne(…) call instead of a not().is(…).

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepository.java

commit 05baa851d8c59675412611c67213979a20677e11
tree 4a1f14d803f55c72941aa509a5d9bfc704ef3de5
parent 35e8ae12247792dcac6238dc3d29f77b41cd6704
author Oliver Gierke <info@olivergierke.de> 1344444978 +0200
committer Oliver Gierke <info@olivergierke.de> 1344444978 +0200

    DATAMONGO-502 - QueryMapper now translates property names into field names.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/QueryMapper.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/QueryMapperUnitTests.java

commit 35e8ae12247792dcac6238dc3d29f77b41cd6704
tree f4c0bd296ab176d5ed6081452127bec95a713465
parent ceec0bcc4ab3bd72895a05eb702f846c6f952cfd
author Oliver Gierke <info@olivergierke.de> 1343741576 +0200
committer Oliver Gierke <info@olivergierke.de> 1343741690 +0200

    DATAMONGO-500 - Index creation is only done for the correct MappingContext.
    
    Index creation now double checks the MappingContext a MappingContextEvent originates from before actually creating indexes. This avoids invalid indexes being created in a multi-database scenario.

M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MappingMongoConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoMappingEventPublisher.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreator.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreatorIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreatorUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/index/SampleEntity.java
A	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreatorIntegrationTests-context.xml

commit ceec0bcc4ab3bd72895a05eb702f846c6f952cfd
tree 2b82bf24eb5b55d737badfe95f74672987927b5d
parent 0d87e7fa5f9071245160eefbd6d2f08e70e5254f
author Oliver Gierke <info@olivergierke.de> 1343723943 +0200
committer Oliver Gierke <info@olivergierke.de> 1343723943 +0200

    DATAMONGO-499 - Fixed namespace reference to repository XSD.

M	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.0.xsd

commit 0d87e7fa5f9071245160eefbd6d2f08e70e5254f
tree c5864c2a492a71e086c6dde0a32e4cf48fc73cbd
parent a530629d976ff2612b99c4d054cf3853641cff64
author Oliver Gierke <info@olivergierke.de> 1343662064 +0200
committer Oliver Gierke <info@olivergierke.de> 1343664042 +0200

    DATAMONGO-496 - AbstractMongoConfiguration now defaults mapping base package.
    
    AbstractMappingConfiguration now uses the package of the class extending it to enable entity scanning for that package. To disable entity scanning entirely override the method to return null or an empty String.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/AbstractMongoConfiguration.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/AbstractMongoConfigurationUnitTests.java

commit a530629d976ff2612b99c4d054cf3853641cff64
tree 75f28da92d0b3a9f70ed1227ffbb9634c016e155
parent ba0232b1876a743c3629f8f1aab35315ddf5b474
author Oliver Gierke <info@olivergierke.de> 1343655562 +0200
committer Oliver Gierke <info@olivergierke.de> 1343655562 +0200

    DATAMONGO-497 - Fixed reading of empty collections.
    
    Reading an empty collection always returned a HashSet assuming the returned value would be converted into the assigned properties value later on. However the method should rather return the correct type already which we do now by invoking the potential conversion.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit ba0232b1876a743c3629f8f1aab35315ddf5b474
tree b1b4873fb81c2e6ede97b0b679c051eb0a3cff34
parent 04a17cacb71d7fcb765d1278eabec5a8bb7fc567
author Oliver Gierke <info@olivergierke.de> 1343378371 +0200
committer Oliver Gierke <info@olivergierke.de> 1343378371 +0200

    DATAMONGO-494 - QueryMapper now forwards entity metadata into nested $(n)or criterias.
    
    Introduced helper class to ease assertions on DBObjects as well.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/QueryMapper.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/DBObjectUtils.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/QueryMapperUnitTests.java

commit 04a17cacb71d7fcb765d1278eabec5a8bb7fc567
tree 5bc57998d30ed345533b058cdc7d37685e5ecdc8
parent 761d725fce837ec4122412905dab30749ab61ce1
author Oliver Gierke <info@olivergierke.de> 1343290798 +0200
committer Oliver Gierke <info@olivergierke.de> 1343291730 +0200

    DATAMONGO-495 - Fixed debug output in MongoTemplate.doFind(…).
    
    Using SerializationUtils to safely output the query to be executed.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java

commit 761d725fce837ec4122412905dab30749ab61ce1
tree 32a5bf6792048e19518a092b55a945081abe420b
parent 726b0b1bccbbd51b56ed73a48c40b791718699d7
author Oliver Gierke <info@olivergierke.de> 1343155432 +0200
committer Oliver Gierke <info@olivergierke.de> 1343155432 +0200

    DATAMONGO-493 - Fixed broken $ne handling in QueryMapper.
    
    $ne expressions are now only being tried to be converted into an ObjectId in case they follow an id property. Previously they tried in every case which might have led to Strings being converted into ObjectIds that accidentally were valid ObjectIds but didn't represent an id at all.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/QueryMapper.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/QueryMapperUnitTests.java

commit 726b0b1bccbbd51b56ed73a48c40b791718699d7
tree 5f7c4db43629573c320f1e6d1c522512f360d64f
parent 888e0314528aa21cfecdd64c9471147f0fb461a8
author Oliver Gierke <info@olivergierke.de> 1343153630 +0200
committer Oliver Gierke <info@olivergierke.de> 1343153630 +0200

    DATAMONGO-493 - Added test case to show the described scenario is working.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/QueryMapperUnitTests.java

commit 888e0314528aa21cfecdd64c9471147f0fb461a8
tree ee37a73a81ef240ac9017d384fd941753745c136
parent 91b818b8c1ece2f481bf4a1390832db1333e4483
author Spring Buildmaster <buildmaster@springframework.org> 1343141833 -0700
committer Spring Buildmaster <buildmaster@springframework.org> 1343141833 -0700

    DATAMONGO-491 - Prepare next development iteration.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 91b818b8c1ece2f481bf4a1390832db1333e4483
tree 0221a8ed70884c09122b1cdc3f8f7ae9315abe46
parent 7646a64770dc6594836b5555e0c84d2ee1a9fc88
author Spring Buildmaster <buildmaster@springframework.org> 1343141830 -0700
committer Spring Buildmaster <buildmaster@springframework.org> 1343141830 -0700

    DATAMONGO-491 - Release 1.1.0.M2.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 7646a64770dc6594836b5555e0c84d2ee1a9fc88
tree ee37a73a81ef240ac9017d384fd941753745c136
parent 94c057e89c99bbb60844ab0d9563f46fee6ec2fe
author Oliver Gierke <info@olivergierke.de> 1343141453 +0200
committer Oliver Gierke <info@olivergierke.de> 1343141453 +0200

    DATAMONGO-491 - Prepare 1.1.0.M2 release.
    
    Updated changelog and links to reference documentation.

M	src/docbkx/index.xml
M	src/main/resources/changelog.txt

commit 94c057e89c99bbb60844ab0d9563f46fee6ec2fe
tree 6a25d398acaff7ead15c8b8756d118c6b4abcddf
parent 190d7cefb0c31c909655255ea133ff72bf67d5c0
author Oliver Gierke <info@olivergierke.de> 1343136475 +0200
committer Oliver Gierke <info@olivergierke.de> 1343136475 +0200

    DATAMONGO-491 - Upgrade to Spring Data Commons 1.4.0.M1.

M	spring-data-mongodb-parent/pom.xml

commit 190d7cefb0c31c909655255ea133ff72bf67d5c0
tree 8c7b0d251edcc811348899372c35028512382f68
parent 669bc071b12ec996b21b9d1dff9ba94db771bf30
author Oliver Gierke <info@olivergierke.de> 1343129020 +0200
committer Oliver Gierke <info@olivergierke.de> 1343129020 +0200

    DATAMONGO-474 - Populating id's after save now inspects field only.
    
    So far the algorithm to inspect whether an id property has to be set after a save(…) operation has used the plain BeanWrapper.getProperty(PersistentProperty property) method. This caused problems in case the getter of the id field returned something completely different (to be precise: a complex type not convertible out of the box).
    
    We now inspect the id field only to retrieve the value.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateUnitTests.java

commit 669bc071b12ec996b21b9d1dff9ba94db771bf30
tree 8171fcb63427b43cbcffaf38c6a9b6fcc502025d
parent 31b9b6b5c0ec6057a13853f194904c66f04d81af
author Oliver Gierke <info@olivergierke.de> 1343055672 +0200
committer Oliver Gierke <info@olivergierke.de> 1343055672 +0200

    DATAMONGO-490 - Fixed typos.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/AbstractMongoConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/CustomConversions.java

commit 31b9b6b5c0ec6057a13853f194904c66f04d81af
tree 279e87fa1fc19f04e6ec9e1d867f91ae164d9256
parent 914ecd34fe09c491c9f6b112b9d98169b1b4541c
author Oliver Gierke <info@olivergierke.de> 1343053611 +0200
committer Oliver Gierke <info@olivergierke.de> 1343054004 +0200

    DATAMONGO-489 - Ensure read collections get converted to appropriate target type.
    
    When reading BasicDBLists we now make sure the resulting collection is converted into the actual target type eventually. It might be an array and thus need an additional round of massaging before being returned as value.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 914ecd34fe09c491c9f6b112b9d98169b1b4541c
tree e28bb4eeb1091e07a7c2b54cef113338593e3d7a
parent 74532ff19918a79b545754cec92109e197bf0062
author Oliver Gierke <info@olivergierke.de> 1342653842 +0200
committer Oliver Gierke <info@olivergierke.de> 1342653842 +0200

    DATAMONGO-486 - Polished namespace implementation.
    
    Be better citizen regarding namespace support in STS. Moved ParsingUtils to Spring Data Commons.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/AbstractMongoConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoDbFactoryParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoParsingUtils.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/ParsingUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/config/MongoRepositoryConfigurationExtension.java

commit 74532ff19918a79b545754cec92109e197bf0062
tree 55b126b163e6fea18ece5db8cf5c7336fa0f3dbf
parent c7bcb55bda4975541d7a4567291dc86d7a24ccfb
author Oliver Gierke <info@olivergierke.de> 1342521627 +0200
committer Oliver Gierke <info@olivergierke.de> 1342521627 +0200

    DATAMONGO-485 - Added test case to show complex id's are working.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit c7bcb55bda4975541d7a4567291dc86d7a24ccfb
tree 89cf360b6736858af94b524557f64fd52de9661f
parent afe560ca7d7890806c643c6aca0700106892df38
author Oliver Gierke <info@olivergierke.de> 1341582256 +0200
committer Oliver Gierke <info@olivergierke.de> 1342519129 +0200

    DATAMONGO-476 - JavaConfig support for repositories.

M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoNamespaceHandler.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/config/EnableMongoRepositories.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/config/MongoRepositoriesRegistrar.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/config/MongoRepositoryConfigParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/config/MongoRepositoryConfigurationExtension.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/config/SimpleMongoRepositoryConfiguration.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.1.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/cdi/CdiExtensionIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/cdi/CdiPersonRepository.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/cdi/PersonRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/cdi/RepositoryClient.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/config/MongoRepositoriesRegistrarIntegrationTests.java
M	spring-data-mongodb/src/test/resources/geospatial.xml
M	spring-data-mongodb/src/test/resources/mapping.xml
M	spring-data-mongodb/src/test/resources/namespace/db-factory-bean-custom-write-concern.xml
M	spring-data-mongodb/src/test/resources/namespace/db-factory-bean.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/config/MongoNamespaceReplicaSetTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/config/MongoNamespaceTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/repository/PersonRepositoryIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/repository/RepositoryIndexCreationIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/server-jmx.xml
M	spring-data-mongodb/src/test/resources/template-mapping.xml
M	src/docbkx/reference/mongo-repositories.xml

commit afe560ca7d7890806c643c6aca0700106892df38
tree 502f2e374fdb89f41ed14c4912e0a35f00c3c425
parent 1380c49fd0e3473c8866a983a26c817d6f512a71
author Amol Nayak <amolnayak311@gmail.com> 1341946092 +0530
committer Oliver Gierke <info@olivergierke.de> 1342457465 +0200

    DATAMONGO-480 - Consider WriteResult for insert(…) and save(…) methods.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit 1380c49fd0e3473c8866a983a26c817d6f512a71
tree ba3cf67bf947a2cbf1a054113985db1418c60171
parent 90240a8da5a9e86a140558f46d4c847cf2970cc1
author Oliver Gierke <info@olivergierke.de> 1342455731 +0200
committer Oliver Gierke <info@olivergierke.de> 1342456254 +0200

    DATAMONGO-483 - Indexes now use the field name even if index name is defined.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/CompoundIndex.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreator.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreatorUnitTests.java

commit 90240a8da5a9e86a140558f46d4c847cf2970cc1
tree 5e694761b5f339346cd3814d46132949d96db61c
parent ad587f63ed42f78d4fce8c24a5e264296e58c468
author Oliver Gierke <info@olivergierke.de> 1342453357 +0200
committer Oliver Gierke <info@olivergierke.de> 1342453357 +0200

    DATAMONGO-482 - Fixed typo in reference documentation.

M	src/docbkx/reference/mongodb.xml

commit ad587f63ed42f78d4fce8c24a5e264296e58c468
tree 62c8b27752afa26dbeb9412217cfd4039633d357
parent 3c7cb592b31917d7cbef2b6b299a6bbdf4f9f103
author Oliver Gierke <info@olivergierke.de> 1342449198 +0200
committer Oliver Gierke <info@olivergierke.de> 1342449198 +0200

    DATAMONGO-474 - Fixed criteria mapping for MongoTemplate.group(…).
    
    The criteria object handed to the group object needs to be mapped correctly to map complex values. Improved error handling on the way.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java

commit 3c7cb592b31917d7cbef2b6b299a6bbdf4f9f103
tree bc143859dcaa0fa8585aaeed8b12522901038c65
parent 5b15c9500ae819037a215711938d2c7ade2fce9d
author Oliver Gierke <info@olivergierke.de> 1342443332 +0200
committer Oliver Gierke <info@olivergierke.de> 1342443363 +0200

    DATAMONGO-475 - Fixed debug output in map-reduce operations.
    
    Using SerializationUtils.serializeToJsonSafely(…) instead of plain toString() as this might cause SerializationExceptions for complex objects.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java

commit 5b15c9500ae819037a215711938d2c7ade2fce9d
tree 5e98546bae0e554a59224f6e75ba81ad1c8eeb38
parent 2d25f0d6e4e4cd14c81327673739201a8a908449
author Raman Gupta <raman@vivosys.com> 1341588846 -0400
committer Oliver Gierke <info@olivergierke.de> 1342367751 +0200

    DATAMONGO-477 - Change upper bound of Guava dependency to 14.

M	spring-data-mongodb/template.mf

commit 2d25f0d6e4e4cd14c81327673739201a8a908449
tree 2dad89f57a500b45ab7a2ef651c2bb585ee86eef
parent 557fc869eb9c823b5e8cd436bd5d217ba4ecb3c5
author Oliver Gierke <info@olivergierke.de> 1340724993 +0200
committer Oliver Gierke <info@olivergierke.de> 1340724993 +0200

    DATAMONGO-469 - Polishing in MongoQueryCreator.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java

commit 557fc869eb9c823b5e8cd436bd5d217ba4ecb3c5
tree 957fd2d79ab77f60daa0c5fd2c5594eaca26ada7
parent 033f44e802052e13c49a521bc178e2736b7f760f
author Oliver Gierke <info@olivergierke.de> 1340710374 +0200
committer Oliver Gierke <info@olivergierke.de> 1340710374 +0200

    DATAMONGO-469 - Fixed parsing of And keyword in derived queries.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoQueryCreatorUnitTests.java

commit 033f44e802052e13c49a521bc178e2736b7f760f
tree 7bd4e06bc0f850e30be4e4b5e1c18df2b85d9f4d
parent ee3c1bc0073522500458ac7acf316d16c6183ae0
author Oliver Gierke <info@olivergierke.de> 1340710200 +0200
committer Oliver Gierke <info@olivergierke.de> 1340710200 +0200

    DATAMONGO-470 - Implemented equals(…) and hashCode() for Query and Criteria.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Query.java

commit ee3c1bc0073522500458ac7acf316d16c6183ae0
tree 5fb8062b9d6e310def11eba355d82413b1b628fd
parent f507fe2e4d429c2fc314bf86833afe9b797ba275
author Oliver Gierke <info@olivergierke.de> 1340621767 +0200
committer Oliver Gierke <info@olivergierke.de> 1340622558 +0200

    DATAMONGO-467 - Fix identifier handling for Querydsl.
    
    As we try to massage the value of the id property into an ObjectId if possible we need to do so as well when mapping the Querydsl query. Adapted SpringDataMongoDbSerializer accordingly.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SpringDataMongodbSerializer.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/support/SpringDataMongodbSerializerUnitTests.java

commit f507fe2e4d429c2fc314bf86833afe9b797ba275
tree 372061fe4cb50ef59fc3ca219ab44d6e565b6ec0
parent 4a27ba0a3fcc60ebd6a160861501069e6bb3050b
author Oliver Gierke <info@olivergierke.de> 1340615574 +0200
committer Oliver Gierke <info@olivergierke.de> 1340615574 +0200

    DATAMONGO-464 - Fixed resource synchronization in MongoDbUtils.
    
    MongoDbUtils now correctly returns DB instances for others than the first one bound. So far the lookup for an alternate database resulted in the first one bound to be returned. Polished log statements a bit.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoDbUtils.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoDbUtilsUnitTests.java

commit 4a27ba0a3fcc60ebd6a160861501069e6bb3050b
tree 8332324aab84629d6a9a5ca11a25a1524c28f00e
parent e2e5fd8b311658aa83593aefffc59d122c316326
author Oliver Gierke <info@olivergierke.de> 1340369195 +0200
committer Oliver Gierke <info@olivergierke.de> 1340369195 +0200

    DATAMONGO-466 - QueryMapper now only tries id conversion for top level document.
    
    So far the QueryMapper has tried to map id properties of nested documents to ObjectIds which it shouldn't do actually.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/QueryMapper.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/QueryMapperUnitTests.java

commit e2e5fd8b311658aa83593aefffc59d122c316326
tree a73da27ae34115700f3ce4dc04590a0c6ed95678
parent ba9abd1dd06d9c25d47d1edb8350c308ad91ec9f
author Oliver Gierke <info@olivergierke.de> 1340368897 +0200
committer Oliver Gierke <info@olivergierke.de> 1340369003 +0200

    DATACMNS-186, DATACMNS-185 - Upgrade to Spring Data Commons 1.3.2.BUILD-SNAPSHOT.
    
    Use the new initialize() method in test cases for MappingContext. Benefit from rejection of multiple id properties.

M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentProperty.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/CustomConvertersUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/DataMongo273Tests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentPropertyUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/GenericMappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MongoMappingContextUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/GroupByTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/MapReduceTests.java

commit ba9abd1dd06d9c25d47d1edb8350c308ad91ec9f
tree 88d031ad952813de055b5b7dfc9653acf045425d
parent ab666148436985630f9f749b38aefeed27f4a869
author Oliver Gierke <info@olivergierke.de> 1340187812 +0200
committer Oliver Gierke <info@olivergierke.de> 1340187899 +0200

    DATAMONGO-455 - Documentation mentions BasicQuery.

M	src/docbkx/reference/mongodb.xml

commit ab666148436985630f9f749b38aefeed27f4a869
tree 9ded7b1f7fdf438caed1bd25cd9f7dc56713b70b
parent caa2f5f0308fe34a9ff033786528e2bec24829d5
author Oliver Gierke <info@olivergierke.de> 1340181982 +0200
committer Oliver Gierke <info@olivergierke.de> 1340182652 +0200

    DATAMONGO-454 - Improvements to ServerAddressPropertyEditor.
    
    ServerAddressPropertyEditor now only eventually fails if none of the configured addresses can be parsed correctly. Strengthened the parsing implementation to not fail for host-only parsing or accidental double commas.
    Cleaned up integration tests for replica set configuration.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/ServerAddressPropertyEditor.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoNamespaceReplicaSetTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/NamespaceTestSupport.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/ServerAddressPropertyEditorUnitTests.java

commit caa2f5f0308fe34a9ff033786528e2bec24829d5
tree 9e6be987450ca5327fd10bb9a7e5809e5ec76075
parent 6e7c8f5771a8bc2b80a037d0f608dd757b692969
author Oliver Gierke <info@olivergierke.de> 1340179516 +0200
committer Oliver Gierke <info@olivergierke.de> 1340179516 +0200

    DATAMONGO-378 - Fixed potential ClassCastException for MapReduceResults and upcoming MongoDB release.
    
    The type of the value returned for the total field of the timing map in map-reduce results has changed from Integer to Long as of MongoDB version 2.1.0 apparently. Changed MapReduceResults to accommodate either Integer or Long types.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/MapReduceResults.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/MapReduceResultsUnitTests.java

commit 6e7c8f5771a8bc2b80a037d0f608dd757b692969
tree 22809231897a7239c8189a968bf675d3bd7603e1
parent 44c4566c9de97bacd9bdb78f1406a73ef8a32f2c
author Oliver Gierke <info@olivergierke.de> 1340124282 +0200
committer Oliver Gierke <info@olivergierke.de> 1340124282 +0200

    DATAMONGO-462 - Added custom converters for URL.
    
    So far URL instances were treated as entities and serialized as nested document. As there was no custom converter registered to re-instantiate the objects and URL does not contain a no-arg constructor, reading the instances back in resulted in an ugly exception in ReflectionEntityInstantiator. We now register a custom Converter to serialize URL instances as their plain toString() representation. This causes the reading working out of the box as the StringToObjectConverter registered by default uses the constructor taking a String on URL accidentally. To make sure this still works we added an explicit StringToURLConverter to implement symmetric conversions.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/CustomConversions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoConverters.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/CustomConversionsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 44c4566c9de97bacd9bdb78f1406a73ef8a32f2c
tree ba17f3094398fef15cdfedc74a76d1c78a741de2
parent 9a1e6226b122c3a40b0f009bbf9f631aa0cd8619
author Oliver Gierke <info@olivergierke.de> 1340090824 +0200
committer Oliver Gierke <info@olivergierke.de> 1340091035 +0200

    DATAMONGO-428 - Fixed parsing of output collection for complex MapReduce result.
    
    The raw result for a map-reduce operation might contain a complex element containing the output collection in case the original request configured an output database as option. Adapted the parsing of the output collection to accommodate both scenarios (plain String value as well as DBObject wrapper).

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/MapReduceResults.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/MapReduceResultsUnitTests.java

commit 9a1e6226b122c3a40b0f009bbf9f631aa0cd8619
tree 8d035f4db3aaf2e623baf53a72efde39e6c12d01
parent cdb6d54d6a7d8f9e42ad97f33e1da5b1e70e9b14
author Oliver Gierke <info@olivergierke.de> 1340089148 +0200
committer Oliver Gierke <info@olivergierke.de> 1340089288 +0200

    DATAMONGO-424 - Don't resolve DBRefs eagerly if property type is DBRef.
    
    So far we have resolved DBRef values eagerly without inspecting the actual property type the would have to be assigned eventually. Now we simply skip the recursive resolve process if the property type (or component type, map value type) is DBRef actually.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit cdb6d54d6a7d8f9e42ad97f33e1da5b1e70e9b14
tree ed2a1facd008d70bcd103807cfdda6e19959afd1
parent 1fbfd3f0cbfafe987c5c4761759194e9879d3385
author Oliver Gierke <info@olivergierke.de> 1340043528 +0200
committer Oliver Gierke <info@olivergierke.de> 1340043528 +0200

    DATAMONGO-460 - Improvements to Querydsl repository implementation.
    
    Internalized setup of MongodbSerializer which makes the constructors of SpringDataMongodbQuery much simpler.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/QueryDslMongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/QuerydslRepositorySupport.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SpringDataMongodbQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SpringDataMongodbSerializer.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/support/SpringDataMongodbSerializerUnitTests.java

commit 1fbfd3f0cbfafe987c5c4761759194e9879d3385
tree 3f3e40dc37ed94fd0746543f4511cdd0dbdf4917
parent 848e6f59c27ccb02e042cd6c014775c5d81d950d
author Oliver Gierke <info@olivergierke.de> 1339670202 +0200
committer Oliver Gierke <info@olivergierke.de> 1339670234 +0200

    DATAMONGO-450 - Log output uses mapped query for debug logging.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java

commit 848e6f59c27ccb02e042cd6c014775c5d81d950d
tree 4d96886302867a5697a2816bcb3f3806c56fd04a
parent b3a891c69b38f5b53b5f6041c9af6aa3f89afe24
author Oliver Gierke <info@olivergierke.de> 1339669146 +0200
committer Oliver Gierke <info@olivergierke.de> 1339669615 +0200

    DATAMONGO-447 - Fixed broken log output in debug level.
    
    The debug output now uses the already mapped query object when concatenating the log string. Improved applying the id after save operations by inspecting whether the object already has the id set before trying to set it. This could have caused problems in case you use a complex id and don't provide a custom converter as it can be serialized out of the box. Fixed minor glitch in MappingMongoConverter which was not really a bug as another path through the code has covered the scenario later on. Introduced SerializationUtils class that provides a method to safely serialize objects to pseudo JSON. Pseudo in the sense that it simply renders a complex object as { $java : object.toString() }. This is useful for debug output before the DBObject was mapped into Mongo-native types.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SerializationUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Query.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/SerializationUtilsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit b3a891c69b38f5b53b5f6041c9af6aa3f89afe24
tree 0de1471da15bb552b7b2da3026b9f6529771ad71
parent 54e105d19dc3cc02d6e022b5fe120f41b99d5df9
author Oliver Gierke <info@olivergierke.de> 1339153150 +0200
committer Oliver Gierke <info@olivergierke.de> 1339153150 +0200

    DATAMONGO-458 - Read empty collections are modifiable now.
    
    So far we've read empty collections and populated the property value of the Java object being created with Collections.emptySet(). This returns an unmodifiable Set so that further modifications fail with an UnsupportedOperationException. We now simply use new HashSet<Object>().

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 54e105d19dc3cc02d6e022b5fe120f41b99d5df9
tree 3bd073123fabece205e6853a429d996ca63ae80b
parent 4cfb62a4135f1b7d42b615ad237e5cd95895e0d7
author Oliver Gierke <info@olivergierke.de> 1338294053 +0200
committer Oliver Gierke <info@olivergierke.de> 1338294053 +0200

    General dependency and plugin version upgrades.
    
    Upgraded to JUnit 4.10. Move to junit-dep dependency to allow cleaning up hamcrest dependencies. Use hamcrest-library ins tread of hamcrest-all. Upgrade to Mockito 1.9.0, use mockito-core instead of mockito-all. Upgrade to Spring Data Core 1.3.1.BUILD-SNAPSHOT. Upgraded to Querydsl 2.6.0. Upgraded compiler and Surefire plugin.

M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/QueryMapperUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/support/SpringDataMongodbSerializerUnitTests.java

commit 4cfb62a4135f1b7d42b615ad237e5cd95895e0d7
tree f4d0aa57bceb52c375910b61c85259eb850964b4
parent 7cdf9cedf372b4609050cb085eb313d5b0530ba6
author Oliver Gierke <info@olivergierke.de> 1337082239 +0200
committer Oliver Gierke <info@olivergierke.de> 1337082239 +0200

    DATAMONGO-451 - Tweaked pom.xml to allow build run without Bundlor.
    
    Expose the failOnWarnings property to be able to override it through a command line argument. Necessary as the Sonar build uses Clover which instruments source code and thus creates type dependencies, Bundlor complains about not being declared in template.mf.

M	spring-data-mongodb-parent/pom.xml

commit 7cdf9cedf372b4609050cb085eb313d5b0530ba6
tree cc5e5eaecb5197c68e37139b4847f147b807a16c
parent fd198c172b343f4be32cf674e5384c7f158205ca
author Maciej Walkowiak <maciej.walkowiak@young-internet.com> 1336575582 +0200
committer Oliver Gierke <info@olivergierke.de> 1337080676 +0200

    DATAMONGO-446 -  Fixed bug in paging query methods returning Lists
    
    Using List as return type for paginating methods didn't work for query methods currently. Fixed by inspecting the Pageable parameter potentially handed into them and restricting the result set accordingly.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/AbstractMongoQuery.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepository.java

commit fd198c172b343f4be32cf674e5384c7f158205ca
tree 96ef2f9012efc0cc057ffb25ad172f4c4e593f86
parent 4be229312c49e2f02c04b6412c968d952e8643ce
author Spring Buildmaster <buildmaster@springframework.org> 1336396286 -0700
committer Spring Buildmaster <buildmaster@springframework.org> 1336396286 -0700

    DATAMONGO-396 - Released 1.1.0.M1.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 4be229312c49e2f02c04b6412c968d952e8643ce
tree 759db8400f6c6bab4ac2127f9429bd6a4f82cac6
parent 54ec7af4626df326285ff308e35111b2445ce979
author Spring Buildmaster <buildmaster@springframework.org> 1336396285 -0700
committer Spring Buildmaster <buildmaster@springframework.org> 1336396285 -0700

    DATAMONGO-396 - Release 1.1.0.M1.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 54ec7af4626df326285ff308e35111b2445ce979
tree 988d0391ade8b3f2ec6715bf7ac4053632c7630b
parent 716267799215f8f8bc7ba225f3b7833ee8e56649
author Oliver Gierke <info@olivergierke.de> 1336395228 +0200
committer Oliver Gierke <info@olivergierke.de> 1336395260 +0200

    DATAMONGO-396 - Updated changelog before 1.1.0.M1 release.
    
    Fixed dependency to Spring Data Commons to 1.3.0.RC2.

M	spring-data-mongodb-parent/pom.xml
M	src/main/resources/changelog.txt

commit 716267799215f8f8bc7ba225f3b7833ee8e56649
tree 61651eeceac2041f222b411d6a170b5c5653be66
parent cf131aaa7eaf5a323859341d28f16b3e6ab7b254
author Oliver Gierke <info@olivergierke.de> 1336393582 +0200
committer Oliver Gierke <info@olivergierke.de> 1336393726 +0200

    DATAMONGO-443 - Upgraded to Querydsl 2.5.0.
    
    Updated repository implementation and support classes to use Google Guava API instead of Commons Collections introduced in Querydsl 2.5.0.

M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/QueryDslMongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/QuerydslRepositorySupport.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SpringDataMongodbQuery.java
M	spring-data-mongodb/template.mf

commit cf131aaa7eaf5a323859341d28f16b3e6ab7b254
tree 2e53b56ed4b10ad4b344c85bada7bb8aeaa91f31
parent 6cd3b7a3aad3c5b97fa382d06b02e1a45d7ec766
author Oliver Gierke <info@olivergierke.de> 1336328083 +0200
committer Oliver Gierke <info@olivergierke.de> 1336393725 +0200

    DATAMONGO-441 - Improved MongoDBUtils API.
    
    Use UserCredentials value object instead of low level String and char[] for username and password. Adapted clients accordingly.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/CannotGetMongoDbConnectionException.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoAdmin.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoDbUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SimpleMongoDbFactory.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/monitor/AbstractMonitor.java

commit 6cd3b7a3aad3c5b97fa382d06b02e1a45d7ec766
tree 81036e1a898924d441a937301e45425c24f5ab86
parent 71e639402c7b97efcb04df1129194f73a67fc7d5
author Thomas Risberg <trisberg@vmware.com> 1336090781 -0400
committer Oliver Gierke <info@olivergierke.de> 1336393702 +0200

    DATAMONGO-299 - Adding tests ensuring exception alert for multiple conditions for same key.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/CriteriaTests.java

commit 71e639402c7b97efcb04df1129194f73a67fc7d5
tree 9b832c312c9d2da8d5784059e0c678018ec25e22
parent fed31c74e1c1846cf390e0c1ccc43e72172b39a2
author Oliver Gierke <info@olivergierke.de> 1336059303 +0200
committer Oliver Gierke <info@olivergierke.de> 1336060646 +0200

    DATAMONGO-439 - Created performance tests.
    
    Added a performance tests that tests two things. Write performance in a variety of WriteConcern configurations as well as write-read performance against WriteConcern.SAFE. The tests can be executed by running the Maven build with the performance-test profile. Fixed some performance hotspots discovered in the course of profiling the test case.

M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/CachingMongoPersistentProperty.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/performance/PerformanceTests.java

commit fed31c74e1c1846cf390e0c1ccc43e72172b39a2
tree d4b1553f025c0ba5e1b48eccd7654e1b70e37b2e
parent 5b13307e3936cf5779f1c420fb36d1dc0b6d6906
author Oliver Gierke <info@olivergierke.de> 1335981271 +0200
committer Oliver Gierke <info@olivergierke.de> 1335981271 +0200

    DATACMNS-166 - Adapted changes of Spring Data Commons.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/MongoRepositoryFactory.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/support/MongoRepositoryFactoryBeanUnitTests.java

commit 5b13307e3936cf5779f1c420fb36d1dc0b6d6906
tree 6e5da46ed616424ecbf593fb9e1859639ad16725
parent d317bcfa71bf427a25708c4c89420c5d1953c08b
author Maciej Walkowiak <maciej.walkowiak@young-internet.com> 1335197358 +0200
committer Oliver Gierke <info@olivergierke.de> 1335533789 +0200

    DATAMONGO-36 - Added support for JSR-303 validation
    
    Added event listener that uses a java.validation.Validator to trigger validation on an entity before persisting it. This validation is enabled by default if the javx.validation API is present on the classpath. Added namespace attribute 'disable-validation' to allow disabling that auto enabling behavior.

M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/BeanNames.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MappingMongoConverterParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/ValidatingMongoEventListener.java
M	spring-data-mongodb/src/main/resources/META-INF/spring.schemas
A	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.1.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MappingMongoConverterParserIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MappingMongoConverterParserValidationIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/User.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/ValidatingMongoEventListenerTest.java
A	spring-data-mongodb/src/test/resources/namespace/converter-default.xml
A	spring-data-mongodb/src/test/resources/namespace/converter-validation-disabled.xml
A	spring-data-mongodb/src/test/resources/namespace/converter-validation-enabled.xml
A	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/core/mapping/event/ValidatingMongoEventListenerTest-context.xml
M	spring-data-mongodb/template.mf

commit d317bcfa71bf427a25708c4c89420c5d1953c08b
tree 587da93192365854f4d6894cbd3b7330f3a7e966
parent 883bfbe79ee958d9ee883157f64fb1e25dfdd40c
author Oliver Gierke <info@olivergierke.de> 1335205428 +0200
committer Oliver Gierke <info@olivergierke.de> 1335461014 +0200

    DATAMONGO-396 - Upgrade to current Spring Data Commons snapshot version.

M	spring-data-mongodb-parent/pom.xml

commit 883bfbe79ee958d9ee883157f64fb1e25dfdd40c
tree a76693c0850e72a1432c013c02d9d2b011e77c09
parent 7502ac137cbea4d77dbfeef25b767846707cf45d
author Oliver Gierke <info@olivergierke.de> 1334582988 +0200
committer Oliver Gierke <info@olivergierke.de> 1334582988 +0200

    Added Eclipse formatter settings.
    
    Formatted cross-store module with the Spring Data formatter.

A	etc/formatting.xml
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/MongoChangeSetPersister.java
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/MongoDocumentBacking.aj
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/RelatedDocument.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/mongodb/crossstore/CrossStoreMongoTests.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/mongodb/crossstore/test/Address.java

commit 7502ac137cbea4d77dbfeef25b767846707cf45d
tree fd8c8bf832ee0dc1cdc0551c4a993b257a565d87
parent 3dfc59bfb89272a3b02073ba66da8f448098cb3e
author Oliver Gierke <info@olivergierke.de> 1334579970 +0200
committer Oliver Gierke <info@olivergierke.de> 1334582399 +0200

    DATAMONGO-432 - Upgraded to Spring Data Commons 1.3.0.RC1.

M	spring-data-mongodb-parent/pom.xml

commit 3dfc59bfb89272a3b02073ba66da8f448098cb3e
tree 6c36a77a11bbcf78792e02d38423e9fbcfd9efb0
parent 9e50621c1b3f4f7b71b0f6641691972678561ced
author Oliver Gierke <info@olivergierke.de> 1334403106 +0200
committer Oliver Gierke <info@olivergierke.de> 1334582399 +0200

    DATAMONGO-429 - Fixed handling of nested arrays in QueryMapper.
    
    QueryMapper now correctly transforms arrays not concreting them into BasicDBObjects anymore.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/QueryMapper.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/QueryMapperUnitTests.java

commit 9e50621c1b3f4f7b71b0f6641691972678561ced
tree 76b4761005c462e31ce24b93ef4be136dcc24758
parent 472beaf6d2584acdb0206ceb22656e0146448215
author Oliver Gierke <info@olivergierke.de> 1334349607 +0200
committer Oliver Gierke <info@olivergierke.de> 1334582399 +0200

    DATAMONGO-431 - Adapted changes in CrudRepository.save(…).

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java

commit 472beaf6d2584acdb0206ceb22656e0146448215
tree a909411e4b10c2c28fc26ba1dd30d6fdb30859a0
parent d6d8a13b0cff10bb2205de99e0ba4d46501463c1
author Oliver Gierke <info@olivergierke.de> 1333987026 +0200
committer Oliver Gierke <info@olivergierke.de> 1334582398 +0200

    DATAMONGO-427 - Added support for Before and After keywords for query creation.
    
    The query creator now supports methods as follows: List<User> findByCreatedAtBefore(Date date);

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepository.java

commit d6d8a13b0cff10bb2205de99e0ba4d46501463c1
tree 58e30fe64325c3acf7ab1d716c565c6192c4e148
parent 3dcf93744bbb3d4ace336c0ffc6b085340eded69
author Oliver Gierke <info@olivergierke.de> 1333380217 +0200
committer Oliver Gierke <info@olivergierke.de> 1334582398 +0200

    DATAMONGO-423 - Fixed handling of negated regular expressions.
    
    When using the not() method combined with the regex(…) methods on Criteria we created an invalid query so far. Fixed the regex(…) method to always transform the regex expressions and options into a Pattern instance and render that according to the $not state.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Criteria.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryTests.java

commit 3dcf93744bbb3d4ace336c0ffc6b085340eded69
tree 2f644295e6b4d9bbb0cc233eda5ecfb0382ada42
parent 6373a70ca4d596d94cd9cddb666134993b22104e
author Oliver Gierke <info@olivergierke.de> 1333241098 -0600
committer Oliver Gierke <info@olivergierke.de> 1334582398 +0200

    DATAMONGO-425 - Fixed parameter binding for Dates and manually defined queries.
    
    Replaced manual JSON serialization for special parameters inside StringBasedMongoQuery by calling JSON.serialize(…).

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/StringBasedMongoQuery.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/config/MongoNamespaceIntegrationTests.java

commit 6373a70ca4d596d94cd9cddb666134993b22104e
tree 7fa9af24b31a7468ddb7237ba64523ff2024f74c
parent 858afa80f12257b059a58129615ba19c04f9ed0a
author Oliver Gierke <info@olivergierke.de> 1333373802 +0200
committer Oliver Gierke <info@olivergierke.de> 1334582384 +0200

    DATAMONGO-181 - Improved resource handling for Mongo instance.
    
    SimpleMongoDbFactory now only closes the Mongo instance if it created it itself. Removed public getter for WriteConcern and hold a UserCredentials instead of its parts. Uses improved UserCredentials API introduced in DATACMNS-142.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SimpleMongoDbFactory.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoDbFactoryParserIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoNamespaceTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/SimpleMongoDbFactoryUnitTests.java

commit 858afa80f12257b059a58129615ba19c04f9ed0a
tree cab87c93e4d128d16c0e89de134127bcfcbd9bd5
parent 97f57e3541dd2f0001d92ababe317b7fb765bac3
author Oliver Gierke <info@olivergierke.de> 1333238142 -0600
committer Oliver Gierke <info@olivergierke.de> 1333366374 +0200

    DATAMONGO-422 - Fixed invalid UUID conversion.
    
    Removed UUIDToBinaryConverter and BinaryToUUIDConverter as the MongoDB Java driver can handle it itself. Added UUID as Mongo-simple type. Added integration test for reading and writing a UUID property.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/CustomConversions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoConverters.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoSimpleTypes.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/CustomConversionsUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MongoConvertersIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MongoConvertersUnitTests.java

commit 97f57e3541dd2f0001d92ababe317b7fb765bac3
tree a74cf5d5fb41272b51072f1e091cd142bfb411fc
parent 05c2045e45f5309c4e8f48c36142d7aea38db355
author Oliver Gierke <info@olivergierke.de> 1332359088 +0100
committer Oliver Gierke <info@olivergierke.de> 1332359088 +0100

    DATAMONGO-418 - Added support for StartingWith, EndingWith and Containing keywords.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoQueryCreatorUnitTests.java

commit 05c2045e45f5309c4e8f48c36142d7aea38db355
tree 44a8abe884302b8f1eb4ae7c8d62d55950824ee0
parent d3598198a6c8fdc4336cea26c9718c5d2a3505f3
author Oliver Gierke <info@olivergierke.de> 1331563593 +0100
committer Oliver Gierke <info@olivergierke.de> 1331565716 +0100

    DATAMONGO-347 - Derived repository queries now correctly resolve referenced DBRef properties.
    
    Added toDBRef(…) method to MongoWriter to be able to create a DBRef representation of an object. Polished DBRef creation implementation inside MappingMongoConverter. Removed collection and id attributes from @DBRef annotation as they have neither been documented nor used so far. Refactored MongoQueryCreator to be aware of the property and convert the given value into a DBRef if necessary.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoWriter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/DBRef.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepository.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/User.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoQueryCreatorUnitTests.java

commit d3598198a6c8fdc4336cea26c9718c5d2a3505f3
tree 87776b4bb32ef75f7447482146722e0d6ab6ff37
parent 2a8fe5bac7ddfb90ad348e3d2e710f03d07565a7
author Oliver Gierke <info@olivergierke.de> 1331565615 +0100
committer Oliver Gierke <info@olivergierke.de> 1331565615 +0100

    DATAMONGO-360 - Beautify IndexInfo API.
    
    Added a method to IndexInfo to allow asking the object whether it is an index with a given collection of fields. Refactored RepositoryIndexCreationIntegrationTest to use that API to be more safe against potential duplicate index definitions.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/IndexInfo.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/index/IndexInfoUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/RepositoryIndexCreationIntegrationTests.java

commit 2a8fe5bac7ddfb90ad348e3d2e710f03d07565a7
tree d753e2398bafe84370696b5aac3b980b87cfbdfe
parent cdc8f52badeb3b700b8dda06637e0c91983bd39d
author Oliver Gierke <info@olivergierke.de> 1331549539 +0100
committer Oliver Gierke <info@olivergierke.de> 1331549630 +0100

    DATAMONGO-413 - Fixed bug in MongoQueryCreator.
    
    MongoQueryCreator used the outdated OrQuery class to concatenate parts with OR. Refactored the class to use the Criteria.orOperator(…) method. Removed OrQuery class as it is deprecated in the 1.0.x branch.

D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/OrQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoQueryCreatorUnitTests.java

commit cdc8f52badeb3b700b8dda06637e0c91983bd39d
tree 9e02344712fdf000558669e805a5d764e69291ef
parent 39492daa50aabb11230a5420b340eab5f34e1324
author Oliver Gierke <info@olivergierke.de> 1324389402 +0100
committer Oliver Gierke <info@olivergierke.de> 1331311953 +0100

    DATAMONGO-356 - CDI integration for Mongo repositories.

M	spring-data-mongodb/pom.xml
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/cdi/MongoRepositoryBean.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/cdi/MongoRepositoryExtension.java
A	spring-data-mongodb/src/main/resources/META-INF/services/javax.enterprise.inject.spi.Extension
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/cdi/CdiExtensionIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/cdi/MongoTemplateProducer.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/cdi/PersonRepository.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/cdi/RepositoryClient.java
A	spring-data-mongodb/src/test/resources/META-INF/beans.xml
M	spring-data-mongodb/template.mf

commit 39492daa50aabb11230a5420b340eab5f34e1324
tree 92c21a58da0b10c17a30117ee0cd930d89713a24
parent 16904ba1a7de54e92acdc8ff5934b29179ec9297
author Oliver Gierke <info@olivergierke.de> 1331305372 +0100
committer Oliver Gierke <info@olivergierke.de> 1331305408 +0100

    DATAMONGO-366 - Polished reference documentation.
    
    Fixed link to bug tracker. Polished docbook files a bit.

M	src/docbkx/introduction/getting-started.xml
M	src/docbkx/introduction/introduction.xml
M	src/docbkx/reference/introduction.xml

commit 16904ba1a7de54e92acdc8ff5934b29179ec9297
tree 93b6d1f2a5bf678ff64006f86ac9a02bdf44a5d4
parent 51a469b46ff6b8e04d3cd070aec96e977df95b61
author Oliver Gierke <info@olivergierke.de> 1331302944 +0100
committer Oliver Gierke <info@olivergierke.de> 1331302944 +0100

    DATAMONGO-402 - Adapt new entity instantiation API.
    
    Adapt to the entity instantiation API refactored to be able to cope with non-static member classes.

M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 51a469b46ff6b8e04d3cd070aec96e977df95b61
tree 54acda654142b25e5c0c5f5b9d964c3117b248b2
parent 9f2b1f4ed02f86c0ef54838beb73f8a4a1c28941
author Oliver Gierke <info@olivergierke.de> 1331208650 +0100
committer Oliver Gierke <info@olivergierke.de> 1331208650 +0100

    DATAMONGO-412 - General overhaul of the JavaConfig base class.
    
    Refactored JavaConfig base class to reflect the XML namespace a bit more closely (esp. regarding configuration of custom converters and thus registering "simple" types). Prevent duplicate invocation of getUserCredentials(). Added JavaDoc to explain which configuration methods use which other ones to ease detailed configuration.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/AbstractMongoConfiguration.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/TestMongoConfiguration.java

commit 9f2b1f4ed02f86c0ef54838beb73f8a4a1c28941
tree 5278f7da26a5fa3916e0fe17a128c9bc76c7e5bf
parent e0ea8a608824e92a2f1f6fa40f099d4e7a5fb7a9
author Oliver Gierke <info@olivergierke.de> 1331203494 +0100
committer Oliver Gierke <info@olivergierke.de> 1331205419 +0100

    DATAMONGO-273, DATAMONGO-294 - Re-enabled accidentally disabled test case.

D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/DataDoc273Test.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/DataMongo273Tests.java

commit e0ea8a608824e92a2f1f6fa40f099d4e7a5fb7a9
tree e5ea13314f18c24218bd2e06a7511229f1c7d7a3
parent 8861934336c32343d57e20bfd54ac7efd5a82641
author Oliver Gierke <info@olivergierke.de> 1331205273 +0100
committer Oliver Gierke <info@olivergierke.de> 1331205402 +0100

    Fixed some architecture inconsistencies.
    
    Updated Sonargraph architecture description file to include GridFS subsystem. Moved QueryMapper into convert subsystem. Polished MongoRepository interface. Let SimpleMongoRepository implement MongoRepository.

M	spring-data-mongodb/Spring Data MongoDB.sonargraph
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/IndexOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/QueryMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/QueryMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/gridfs/GridFsTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/QueryMapperUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryMapperUnitTests.java

commit 8861934336c32343d57e20bfd54ac7efd5a82641
tree 1925f934d5aab4504475f5c86520789128d9d5d5
parent 93c9713adfe83af3ebb0a60b0871a90daad680dc
author Oliver Gierke <info@olivergierke.de> 1331203181 +0100
committer Oliver Gierke <info@olivergierke.de> 1331205085 +0100

    DATAMONGO-360 - Fixed index information creation for geo indexes.
    
    Fixed a ClassCastException that occurred because we didn't consider index information of geo indexes (they return "2d" as direction). Introduced new IndexField abstraction that supersedes the fieldSpec Map in IndexInfo.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/DefaultIndexOperations.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/IndexField.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/IndexInfo.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoSpatialTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/index/IndexFieldUnitTests.java

commit 93c9713adfe83af3ebb0a60b0871a90daad680dc
tree 16cda799540c33f0ab32d2b29655b56120315996
parent 68a0c1ee2ce5f0b5be8cae320a6d167d8c586983
author Oliver Gierke <info@olivergierke.de> 1331065570 +0100
committer Oliver Gierke <info@olivergierke.de> 1331065570 +0100

    DATAMONGO-382 - Fixed potential ClassCastException in MappingMongoConverter.
    
    MappingMongoConverter's convertToMongoType(…) now deals with Sets (and more generally all Collections) correctly.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 68a0c1ee2ce5f0b5be8cae320a6d167d8c586983
tree dc3aad62fd12aaf5f4047f8686aa745f53a306c8
parent c3d533d59d6ee5c72f735c056d112b389adb1a0a
author Oliver Gierke <info@olivergierke.de> 1331058285 +0100
committer Oliver Gierke <info@olivergierke.de> 1331058285 +0100

    DATAMONGO-394 - Upgrade to Querydsl 2.3.2.

M	spring-data-mongodb/pom.xml

commit c3d533d59d6ee5c72f735c056d112b389adb1a0a
tree 44a04855e0db2663da51756e4f716a9f1345c8e8
parent e4b9be6b386abbdad79d25927fa7c17a7a4a2767
author Oliver Gierke <info@olivergierke.de> 1330589128 +0100
committer Oliver Gierke <info@olivergierke.de> 1330675704 +0100

    DATAMONGO-411 - Double check type of PersistentEntity for index creation.
    
    The Spring container does not check nested generic types of the type parameter of  ApplicationEvent<T>. As T is parameterized in our case as well (PersistentEntity<…, …>) we can code an event listener against that fully parameterized type but might run into ClassCastExceptions as we might get other implementations handed into the method at runtime. We now do an instanceof check to safely invoke checkForIndexes(…) only in case we get the correct event type.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreator.java

commit e4b9be6b386abbdad79d25927fa7c17a7a4a2767
tree 3e2f42117aa556010f5d0cb3fce2b7a2704d7fa4
parent 09a8b9c9c471ea937af966db7323e3cd24680f9f
author Oliver Gierke <info@olivergierke.de> 1330628120 +0100
committer Oliver Gierke <info@olivergierke.de> 1330675679 +0100

    DATAMONGO-408 - Added StringToWriteConverter for XML setup convenience.
    
    When using a PropertyPlaceHolderConfigurer to set WriteConcerns on a MongoFactoryBean just like this:
    
    <bean class="….mongodb.core.MongoFactoryBean">
      <property name="writeConcern" value="${mongodb.writeConcern}"/>
    </bean>
    
    we might create invalid WriteConcerns as the BeanFactory will use the WriteConcern's constructor taking a String to create the instance by default. To make Spring use the valueOf(…) method in advance one needs to register either our already existing WriteConcernPropertyEditor or the newly introduced StringToWriteConcernConverter in Springs ConversionService.

A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/StringToWriteConcernConverter.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/StringToWriteConcernConverterUnitTest.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/WriteConcernPropertyEditorUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoFactoryBeanIntegrationTest.java

commit 09a8b9c9c471ea937af966db7323e3cd24680f9f
tree a12feee6c4383fab3447ba66eebf2bf737ffbf6d
parent e531508bdc6cee428b74a40994d26981ae47e3c1
author Oliver Gierke <info@olivergierke.de> 1328967142 +0100
committer Oliver Gierke <info@olivergierke.de> 1328968341 +0100

    DATAMONGO-401 - Fixed NullPointerException in StringBasedMongoQuery.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/StringBasedMongoQuery.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/StringBasedMongoQueryUnitTests.java

commit e531508bdc6cee428b74a40994d26981ae47e3c1
tree d7fd0b4b210e7242d23236b06a5da5e5c76c347a
parent 289c4b95ae2e3a9b5e329548edfc292c6f524b53
author Oliver Gierke <info@olivergierke.de> 1328894123 +0100
committer Oliver Gierke <info@olivergierke.de> 1328894363 +0100

    DATAMONGO-380 - Improved map handling for keys containing dots.
    
    MappingMongoConverter now rejects objects that would result in field keys containing a dot as we cannot reliably escape and unescape them without potentially wrecking correct keys on reading. However I added a property mapKeyReplacement that can be set to e.g. ~ to have all dots in map keys replaced with ~. This will of course cause ~ to be transformed into dots when reading. If further customization is necessary override potentiallyEscapeMapKey(…) and potentiallyUnescapeMapKey(…).

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 289c4b95ae2e3a9b5e329548edfc292c6f524b53
tree 55776489a243eabb86d775d6bcfc885ee32f5866
parent 25e6d6e025da5478e31cb51586b000a5fc195c8f
author Oliver Gierke <info@olivergierke.de> 1328890287 +0100
committer Oliver Gierke <info@olivergierke.de> 1328890575 +0100

    DATAMONGO-397 - Replaced references to MongoTemplate with MongoOperations in repository package.
    
    The reference in MongoRepositoryFactoryBean to MongoTemplate was unnecessary on the one hand and could cause problems in case the MongoTemplate is proxied as it can't be wired into the factory anymore then.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/config/MongoRepositoryConfigParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/AbstractMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/support/MongoRepositoryFactoryBeanUnitTests.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/repository/PersonRepositoryIntegrationTests-context.xml

commit 25e6d6e025da5478e31cb51586b000a5fc195c8f
tree 2c5938e84ecc6cf0b4e20c2ab16c7ecefb5524ab
parent 83d18b5ce6af4463544b73c9ba100cffa7097015
author Oliver Gierke <info@olivergierke.de> 1328732103 +0100
committer Oliver Gierke <info@olivergierke.de> 1328732103 +0100

    DATAMONGO-396 - Update Spring Data Commons dependency to 1.3.0.M1.

M	spring-data-mongodb-parent/pom.xml

commit 83d18b5ce6af4463544b73c9ba100cffa7097015
tree 4077201f4e645de741eb0b239366e63647818262
parent 8f09748d7822a379be9ef8be8cd94adebbe6d965
author Oliver Gierke <info@olivergierke.de> 1328729948 +0100
committer Oliver Gierke <info@olivergierke.de> 1328729948 +0100

    Readded Spring Test dependency to cross-store module.

M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 8f09748d7822a379be9ef8be8cd94adebbe6d965
tree 49e0ee5cda13ebd42797feb1313e556893a61fd7
parent 4429971548fc3ed97eb2d1bb6c6570a459205e34
author Oliver Gierke <info@olivergierke.de> 1328695049 +0100
committer Oliver Gierke <info@olivergierke.de> 1328695049 +0100

    DATAMONGO-394 - Upgrade to Querydsl 2.3.1.

M	spring-data-mongodb/pom.xml

commit 4429971548fc3ed97eb2d1bb6c6570a459205e34
tree 2f825bafb2f4576b85ed2dfb76051d95f8563f0f
parent 065a50bc8cb18c5b51cb117922bb4752368f25ff
author Oliver Gierke <info@olivergierke.de> 1328535273 +0100
committer Oliver Gierke <info@olivergierke.de> 1328537301 +0100

    DATACMNS-390 - Added UUIDToBinaryConverter to be able to handle UUIDs by default.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/CustomConversions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoConverters.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoSimpleTypes.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/CustomConversionsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MongoConvertersUnitTests.java

commit 065a50bc8cb18c5b51cb117922bb4752368f25ff
tree 596be02f26ca7de41dcb3704c7f4a4d90ce89d68
parent f8daa69e535b6f1298b5d2fb354fe9403c5fe0e0
author Oliver Gierke <info@olivergierke.de> 1328534001 +0100
committer Oliver Gierke <info@olivergierke.de> 1328536834 +0100

    DATAMONGO-391 - Move to SLF4J for logging.
    
    Polished pom.xml files. Upgraded to Log4J 1.2.16 as it excludes unnecessary dependencies. Consolidated test dependencies into parent pom. Remove dependency-management sections. Exclude commons-logging in favor of SLF4J.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoAdmin.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoDbUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SimpleMongoDbFactory.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/CustomConversions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoConverters.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AbstractMongoEventListener.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/LoggingEventListener.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/monitor/AbstractMonitor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/StringBasedMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/IndexEnsuringQueryCreationListener.java
M	spring-data-mongodb/template.mf

commit f8daa69e535b6f1298b5d2fb354fe9403c5fe0e0
tree 72acb66ed28c4fa993e5599107d8540a07ec452a
parent 8a18cd4aef1d24aef804cdfd0c9ac880f1c16e73
author Oliver Gierke <info@olivergierke.de> 1328198109 +0100
committer Oliver Gierke <info@olivergierke.de> 1328198109 +0100

    DATACMNS-129 - Implement CrudRepository.findAll(Iterable<ID> ids).

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java

commit 8a18cd4aef1d24aef804cdfd0c9ac880f1c16e73
tree dc89b94f81132b8d24b8d5eed46bee0f065dd32d
parent 3320208a1d0a413684a092290e5a6f6d0d4065ec
author Oliver Gierke <info@olivergierke.de> 1328198068 +0100
committer Oliver Gierke <info@olivergierke.de> 1328198068 +0100

    DATACMNS-128 - Adapted to API changes of ParametersParameterAccessor.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/StubParameterAccessor.java

commit 3320208a1d0a413684a092290e5a6f6d0d4065ec
tree 1e45f3b632097aecde8dacf0d091351c7721cd12
parent 4ebc6e96d36b288c2730988c94ca501310e2a7d3
author Oliver Gierke <info@olivergierke.de> 1328108823 +0100
committer Oliver Gierke <info@olivergierke.de> 1328110197 +0100

    DATAMONGO-358 - Fixed collection reading when property type is no a collection.
    
    If you have a property of type object and it contains a collection we didn't property read it back in as creating the collection instance failed due to an invalid call to CollectionFactory. We now default the parameter handed to that call to List in case the property type is not a Collection at all.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 4ebc6e96d36b288c2730988c94ca501310e2a7d3
tree ee262dc76f6f70e897dc35fecbab202401aba488
parent 91fe5480a803c79b6937740b03e50f6215f9ed6c
author Oliver Gierke <info@olivergierke.de> 1328105573 +0100
committer Oliver Gierke <info@olivergierke.de> 1328106620 +0100

    DATAMONGO-385 - Added test case to show repositories working with Long id.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/support/MongoRepositoryFactoryUnitTests.java

commit 91fe5480a803c79b6937740b03e50f6215f9ed6c
tree 3a7b31832f2bfdbb359698800402b44cefe720f5
parent b6322d7bbc5b0b5510a5962a63cd0a8fb0b13769
author Oliver Gierke <info@olivergierke.de> 1328102609 +0100
committer Oliver Gierke <info@olivergierke.de> 1328102609 +0100

    DATAMONGO-387 - Repository query execution for GeoPage results are now working correctly.
    
    Added special handling of GeoPage return types for repository query methods.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/AbstractMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/PartTreeMongoQuery.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepository.java

commit b6322d7bbc5b0b5510a5962a63cd0a8fb0b13769
tree 10830912cee4a15d73414c866bcd2cde4596b26c
parent 572c4bb2cd5b3c7f7a5ab4271e5e29ae8a6524ab
author Oliver Gierke <info@olivergierke.de> 1328092016 +0100
committer Oliver Gierke <info@olivergierke.de> 1328093221 +0100

    DATAMONGO-374 - Added test case showing custom converters being used for updates.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateUnitTests.java

commit 572c4bb2cd5b3c7f7a5ab4271e5e29ae8a6524ab
tree c1f2faaabc64d2dd0a2ca73417aba1a09ef99ba6
parent 9caa8b15cdbc5bfc26015941cab6bb1ad213857a
author Oliver Gierke <info@olivergierke.de> 1319030503 +0200
committer Oliver Gierke <info@olivergierke.de> 1328088508 +0100

    DATAMONGO-6 - Initial support for GridFS.
    
    We now provide a GridFsTemplate for storing, retrieving and deleting documents from GridFS. Introduced GridFsResource implementation to integrate with Spring's Resource abstraction. Beyond that GridFsOperations extends ResourcePatternResolver and thus allows to retrieve GridFsResources via Ant-style filename patterns.

A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/gridfs/AntPath.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/gridfs/GridFsCriteria.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/gridfs/GridFsOperations.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/gridfs/GridFsResource.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/gridfs/GridFsTemplate.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/gridfs/AntPathUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/gridfs/GridFsTemplateIIntegrationTests.java
A	spring-data-mongodb/src/test/resources/gridfs/gridfs.xml

commit 9caa8b15cdbc5bfc26015941cab6bb1ad213857a
tree 408401c17893445309dc03cb5a5b297f60aa0637
parent 275f4fe6b877ecdf6032172dbe86c44978131de7
author Oliver Gierke <info@olivergierke.de> 1328086783 +0100
committer Oliver Gierke <info@olivergierke.de> 1328086783 +0100

    DATAMONGO-375 - Polished XSD by removing unnecessary version numbers.

M	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/config/MongoDbFactoryNoDatabaseRunningTests-context.xml
M	spring-data-mongodb/src/test/resources/server-jmx.xml

commit 275f4fe6b877ecdf6032172dbe86c44978131de7
tree bca20793c18c720885affb6472f702738e7946e1
parent 4c40ef7e3d4558416fe5f94086304c4850752d47
author Oliver Gierke <info@olivergierke.de> 1328031996 +0100
committer Oliver Gierke <info@olivergierke.de> 1328031996 +0100

    Consolidate Maven repository usage to use repo.springsource.org/libs-snapshot.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 4c40ef7e3d4558416fe5f94086304c4850752d47
tree 3ee2dc965801738a0a58af5fac32b6b443939de9
parent 609097c0dcc9fef07b82f8a8b272a76a0edcc21b
author Oliver Gierke <info@olivergierke.de> 1327315015 +0100
committer Oliver Gierke <info@olivergierke.de> 1327398593 +0100

    DATAMONGO-383 - Adapt new EntityInstantiator API of Spring Data Commons.

M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/AbstractMongoConverter.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappedConstructor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java

commit 609097c0dcc9fef07b82f8a8b272a76a0edcc21b
tree b090339d7c840bc4513b7c55b8ae7124d88acd34
parent 307d86498efc36acd1138a9d5fd115bdebd3ca86
author Oliver Gierke <info@olivergierke.de> 1326737955 +0000
committer Oliver Gierke <info@olivergierke.de> 1326737955 +0000

    DATAMONGO-379 - Improved entity instantiation.
    
    Huge refactoring of the way MappingMongoConverter instantiates entities. The constructor arguments now have to mirror a property exactly in terms of name. Thus we can pick up mapping information from the property to lookup the correct value from the source document. The @Value annotation can be used to either inject completely arbitrary values into the instance (e.g. by referring to a Spring bean) or simply define an expression against DBObject's fields:
    
    class Sample {
      String foo;
      String bar;
    
      Sample(String foo, @Value("#root._bar") String bar) {
        this.foo = foo;
        this.bar = bar;
      }
    }
    
    trying to create an instance of this class from
    
    { "foo" : "FOO" } -> new Sample("FOO", null)
    { "_bar" : "BAR" } -> new Sample(null, "BAR").

A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/DBObjectPropertyAccessor.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappedConstructor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoSpatialTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/GenericMappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MappingTests.java

commit 307d86498efc36acd1138a9d5fd115bdebd3ca86
tree 4db7e2b33c321bc6a97eabf01989f39487312882
parent 19879b8dabc2370e93a7008f0df78599c683db42
author Oliver Gierke <info@olivergierke.de> 1326379898 +0100
committer Oliver Gierke <info@olivergierke.de> 1326379898 +0100

    DATAMONGO-368 - MappingMongoConverter does not remove null values from collections anymore.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 19879b8dabc2370e93a7008f0df78599c683db42
tree d36661b0ebce2042a8ea2ef21cf3070c96458ac9
parent b190f2255116d6f9b53a41a116acb18fb7d6a5e8
author Oliver Gierke <info@olivergierke.de> 1326367431 +0100
committer Oliver Gierke <info@olivergierke.de> 1326367431 +0100

    DATAMONGO-376 - Fixed potential NPE in SpringDataMongodbSerializer.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/QueryDslMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/support/SpringDataMongodbSerializerUnitTests.java

commit b190f2255116d6f9b53a41a116acb18fb7d6a5e8
tree 040c101119c6179d9cafb90a374a618390f45068
parent 0e9c6a5de8799ee6d7d1e20faaac7b1bf2ca65cd
author Oliver Gierke <info@olivergierke.de> 1326362532 +0100
committer Oliver Gierke <info@olivergierke.de> 1326367398 +0100

    Polished formatting and Javadoc.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MappingMongoConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/DocumentCallbackHandler.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/FindAndModifyOptions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoAction.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoActionOperation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SimpleMongoDbFactory.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/WriteConcernResolver.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/DefaultMongoTypeMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Box.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Circle.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Polygon.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Shape.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/IndexInfo.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoMappingEventPublisher.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoSimpleTypes.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AbstractMongoEventListener.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AfterLoadEvent.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/GroupBy.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/GroupByResults.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/MapReduceCounts.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/MapReduceOptions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/MapReduceResults.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/MapReduceTiming.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Query.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/AbstractMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/EntityInformationCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoParameters.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoParametersParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/StringBasedMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/DefaultEntityInformationCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/IndexEnsuringQueryCreationListener.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MappingMongoConverterParserIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoDbFactoryNoDatabaseRunningTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoDbFactoryParserIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MyWriteConcern.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/NamespaceTestSupport.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/Friend.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoOptionsFactoryBeanUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/QueryCursorPreparerUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/SimpleMongoDbFactoryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/TestMongoConfiguration.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/CustomConvertersUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/DataDoc273Test.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/DefaultMongoTypeMapperUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MongoConvertersUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/BoxUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/CircleUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/DistanceUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoResultUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoResultsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/PointUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/PolygonUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/index/IndexingIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentEntityUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentPropertyUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/GenericMappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/GeoIndexedAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/GeoIndexedTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MongoMappingContextUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MongoPersistentPropertyComparatorUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/SimpleMappingContextUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/AbstractMongoEventListenerUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/ApplicationContextEventTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/ApplicationContextEventTestsAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/SimpleMappingEventListener.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/ContentAndVersion.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/GroupByTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/MapReduceOptionsTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/MapReduceTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/NumberAndVersion.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/ValueObject.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/XObject.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/BasicQueryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/IndexTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/NearQueryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryMapperUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/SortTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/UpdateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/Address.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/Contact.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/config/MongoNamespaceIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/ConvertingParameterAccessorUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoParametersUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoQueryMethodUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/StringBasedMongoQueryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/StubParameterAccessor.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/support/QuerydslRepositorySupportUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/support/SpringDataMongodbSerializerUnitTests.java

commit 0e9c6a5de8799ee6d7d1e20faaac7b1bf2ca65cd
tree 111061e8c341943a366660aefa9c4191c988b050
parent 5ec0cc732714525b27ad9d5f7bda857ef29803b2
author Oliver Gierke <info@olivergierke.de> 1326361947 +0100
committer Oliver Gierke <info@olivergierke.de> 1326361947 +0100

    DATAMONGO-369 - Fixed query mapping when a DBObject is included in the query object.
    
    Replaced premature return with continue to break the for loop appropriately.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/QueryMapper.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryMapperUnitTests.java

commit 5ec0cc732714525b27ad9d5f7bda857ef29803b2
tree fe3019f9b875c9066f1bcfdf473a84fe1b0d4d04
parent 817e1670563e4f9da982a2b50db08a90b531618e
author Oliver Gierke <info@olivergierke.de> 1326308763 +0100
committer Oliver Gierke <info@olivergierke.de> 1326309910 +0100

    DATAMONGO-373 - Fixed potential ClassCastException in QueryMapper.
    
    QueryMapper assumed finding a BasicBSONList for $(n)or operators. This is generally true if the DBObject was created through our Query abstraction. If you use the MongoDB driver QueryBuilder this will fail. We're now only insisting on an Iterable which fixes the issue.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/QueryMapper.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryMapperUnitTests.java

commit 817e1670563e4f9da982a2b50db08a90b531618e
tree 7e70eb87b422c79a989610c91f54ec42f13e8836
parent 4a6fa5cade36387814fa8efb25506f094db6dcf7
author Oliver Gierke <info@olivergierke.de> 1326308614 +0100
committer Oliver Gierke <info@olivergierke.de> 1326308614 +0100

    Fixed failing test case.
    
    Include dependency to Person repository to make sure instance creation is triggered.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/RepositoryIndexCreationIntegrationTests.java

commit 4a6fa5cade36387814fa8efb25506f094db6dcf7
tree 15873cb5a4144de22d3d00ba729c74ebdbafaf51
parent 9cd33763b6789313765dc7bd7c03ff1ed27e5a7a
author Oliver Gierke <info@olivergierke.de> 1324585013 +0100
committer Oliver Gierke <info@olivergierke.de> 1324585013 +0100

    DATAMONGO-357 - Prepare 1.1.0 development branch.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml
M	src/docbkx/index.xml

commit 9cd33763b6789313765dc7bd7c03ff1ed27e5a7a
tree bf11603364d13f2f852b59c8ae46f0cc98aac536
parent de8d2a1c74ae1c270485c8b08c376a0bcd985983
author Oliver Gierke <info@olivergierke.de> 1324567785 +0100
committer Oliver Gierke <info@olivergierke.de> 1324584283 +0100

    DATAMONGO-357 - Prepare 1.0.0 release.
    
    Updated changelog, changed reference documentation inclusion links to point to SD Commons 1.0.0.RELEASE documentation. Updated dependency information in reference documentation.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml
M	src/docbkx/index.xml
M	src/docbkx/reference/mongodb.xml
M	src/main/resources/changelog.txt

commit de8d2a1c74ae1c270485c8b08c376a0bcd985983
tree 323fdc5ffe7501f0888191a6c203b9207938afc8
parent 9f940cd2b6838a5a0c4e7e8fd7a28f439af87d5d
author Oliver Gierke <info@olivergierke.de> 1324388924 +0100
committer Oliver Gierke <info@olivergierke.de> 1324582826 +0100

    DATAMONGO-355 - Upgraded to Spring 3.0.7.

M	spring-data-mongodb-parent/pom.xml
M	src/docbkx/reference/mongodb.xml

commit 9f940cd2b6838a5a0c4e7e8fd7a28f439af87d5d
tree d6c4b2643c2dafa2c672c40ee072081e03168d51
parent 0d69baa32c41e5b8a5b8b1ecb1ea6023c74050af
author Oliver Gierke <info@olivergierke.de> 1324567395 +0100
committer Oliver Gierke <info@olivergierke.de> 1324567395 +0100

    DATAMONGO-257 - Documented TypeMapper abstraction.

M	src/docbkx/reference/mongodb.xml

commit 0d69baa32c41e5b8a5b8b1ecb1ea6023c74050af
tree add8cccc3e56facd42b25a07b51dba9b12392c9c
parent 433e5a660e38c7478a62acc252c34f660e9d43ec
author Oliver Gierke <info@olivergierke.de> 1324538831 +0100
committer Oliver Gierke <info@olivergierke.de> 1324538831 +0100

    DATAMONGO-350 - Upgraded to Querydsl 2.3.0.
    
    Adapted changes in annotation processor API.

M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/MongoAnnotationProcessor.java

commit 433e5a660e38c7478a62acc252c34f660e9d43ec
tree 151f430f209ca5bbe8497676f84d9e0d16cc9596
parent ee33ce1571d9eee4f41fc6a3d170f33bd5e7cd5f
author Oliver Gierke <info@olivergierke.de> 1324538748 +0100
committer Oliver Gierke <info@olivergierke.de> 1324538748 +0100

    DATAMONGO-260 - Fixed setup of ConversionService.
    
    Remonde removal of generic ObjectToStringConverter as it doesn't break our converter lookup due to the changed algorithm how to involve Spring Converters in the conversion process.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/AbstractMongoConverter.java

commit ee33ce1571d9eee4f41fc6a3d170f33bd5e7cd5f
tree a8ec0ec90e74aadd157bc5fc36ae706b2308a4f7
parent 9ac11e967acc70a3177b30a16b886868067d7f3e
author Oliver Gierke <info@olivergierke.de> 1324489659 +0100
committer Oliver Gierke <info@olivergierke.de> 1324489670 +0100

    DATAMONGO-336 - Fixed potential NullPointerException in MongoTemplate.
    
    The execution of MongoTemplate.geoNear(…) potentially caused NullPointerExceptions in case the actual query does not return any results. The wrapping return object returns null for the result list and general statistics which we didn't shield against.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoSpatialTests.java

commit 9ac11e967acc70a3177b30a16b886868067d7f3e
tree fa7bcf3f34d0b0a7534302c658f2eff22fc2af7a
parent a89a0ac5427a549b76c4ddbe5a5a5608743117ea
author Mark Pollack <mpollack@vmware.com> 1324488852 -0500
committer Mark Pollack <mpollack@vmware.com> 1324488852 -0500

    DATAMONGO-260 - MapReduce fails when using with Long as key-type.

A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/ContentAndVersion.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/MapReduceTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/NumberAndVersion.java

commit a89a0ac5427a549b76c4ddbe5a5a5608743117ea
tree 80fd894e28e6c9ee545d8730ce00852ed198dc20
parent 0ad0dad124df401729d7072487b8712ae3329b5b
author Thomas Risberg <trisberg@vmware.com> 1324402915 -0500
committer Thomas Risberg <trisberg@vmware.com> 1324403050 -0500

    DATAMONGO-139 Adding test to verify that MongoTemplate does not eagerly try to connect to MongoDB

A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoDbFactoryNoDatabaseRunningTests.java
A	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/config/MongoDbFactoryNoDatabaseRunningTests-context.xml

commit 0ad0dad124df401729d7072487b8712ae3329b5b
tree 348039244df5df2f6f1adc92f3a2000115a8ea00
parent 8f2771416efc675ca8d4ac9bbdb6b3a9d3b0ad06
author Oliver Gierke <info@olivergierke.de> 1324401659 +0100
committer Oliver Gierke <info@olivergierke.de> 1324401659 +0100

    DATAMONGO-330 - Updated reference documentation regarding custom converters.
    
    Documented classpath scanning feature of custom converters (DATAMONGO-301). Documented converter disambiguation using @ReadingConverter, @WritingConverter (DATACMNS-113, DATAMONGO-342). Fixed some code formatting on the way.

M	src/docbkx/reference/mongodb.xml

commit 8f2771416efc675ca8d4ac9bbdb6b3a9d3b0ad06
tree d5bd64b12dabb86570f3cddc06bd591c742be3d5
parent 7af009cc7fcb22d6a34aa1a5429d3db1d2767ecd
author Oliver Gierke <info@olivergierke.de> 1324395588 +0100
committer Oliver Gierke <info@olivergierke.de> 1324395588 +0100

    DATACMNS-110 - Narrow repository base-package reference to avoid picking up types from SD Commons.

M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml

commit 7af009cc7fcb22d6a34aa1a5429d3db1d2767ecd
tree 10557e07803f77ac70995fa3a0b512b942f4af80
parent 35ad949c1809ec368d3aa6b183bd3e532f47dfbc
author Oliver Gierke <info@olivergierke.de> 1324303945 +0100
committer Oliver Gierke <info@olivergierke.de> 1324303945 +0100

    DATAMONGO-347 - Added documentation to mention query parameter binding does not work with DBRefs.

M	src/docbkx/reference/mongo-repositories.xml

commit 35ad949c1809ec368d3aa6b183bd3e532f47dfbc
tree d7cdd51cd4bbee375f13f9c694b44f8d9a609085
parent 8206b5f950c0ade1517a5b074c9faf33a07c0381
author Oliver Gierke <info@olivergierke.de> 1324300819 +0100
committer Oliver Gierke <info@olivergierke.de> 1324300972 +0100

    DATAMONGO-326 - Fixed enum handling in $in, $nin and $ne criterias.
    
    Updated Criteria implementation to consistently store collections instead of arrays internally.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/QueryMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Criteria.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryMapperUnitTests.java

commit 8206b5f950c0ade1517a5b074c9faf33a07c0381
tree dd2998d9a7eff1c0b237beff20d33c1aa768a874
parent 170081137a82d3e1d3e247aca6c86b6a0bec44f0
author Oliver Gierke <info@olivergierke.de> 1324041811 +0100
committer Oliver Gierke <info@olivergierke.de> 1324041811 +0100

    DATAMONGO-342 - Introduced support for @ReadingConverter / @WritingConverter.
    
    CustomConversions now evaluates @ReadingConverter / @WritingConverter when adding Converter implementations. See DATACMNS-113 and the appropriate commit for details. Added unit test to verify StringToBigIntegerConverter does not get added as writing converter.

A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/ConverterRegistration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/CustomConversions.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/ConverterRegistrationUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/CustomConversionsUnitTests.java

commit 170081137a82d3e1d3e247aca6c86b6a0bec44f0
tree 94f20eda90debc7744fc5b14976a244aab7a7ee8
parent 6862bd8a450715e4f00a576b6dcaab5787026742
author Oliver Gierke <info@olivergierke.de> 1323891068 +0100
committer Oliver Gierke <info@olivergierke.de> 1323891068 +0100

    DATAMONGO-346 - Fixed id-handling in queries.
    
    In case a query referencing an entity's id needs massaging before being executed (e.g. Strings that can be ObjectID) the massaging failed in case the query was built using _id already as we did not detect that one being an id reference as we compared it to the entity's id property name. We now also compare against it's field name.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/QueryMapper.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit 6862bd8a450715e4f00a576b6dcaab5787026742
tree 037e6cca8fc19c4d91133cc2ed2d7a92a4929dc0
parent 490db7c39f2f898d432d0ea62b7611e4971b90f1
author Oliver Gierke <info@olivergierke.de> 1323708817 +0100
committer Oliver Gierke <info@olivergierke.de> 1323709407 +0100

    DATAMONGO-343 - Fixed registration of ServerAddressPropertyEditor.
    
    Changed the setter parameters for ServerAddresses to use arrays instead of List. We now register the ServerAddressPropertyEditor to convert a ServerAddress[] and thus don't register a PropertyEditor for List which caused unwanted side effects before.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoDbFactoryParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/ParsingUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/ServerAddressPropertyEditor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoFactoryBean.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoParserIntegrationTests.java
M	spring-data-mongodb/src/test/resources/namespace/mongo-bean.xml

commit 490db7c39f2f898d432d0ea62b7611e4971b90f1
tree c46cc1f0d84bfa5956c4dd97f779970766d064fc
parent f3979c36764d9374489f836b15132852895e47a9
author Oliver Gierke <info@olivergierke.de> 1323277585 +0100
committer Oliver Gierke <info@olivergierke.de> 1323277585 +0100

    DATAMONGO-341 - Eagerly reject null values in MongoTemplate.geoNear(…).

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateUnitTests.java

commit f3979c36764d9374489f836b15132852895e47a9
tree 06f8d955a6603534c38e2fcfff2d6af7c45bf5fe
parent 8d187298980747cb7833c0a4001f5670bdbe5e09
author Oliver Gierke <info@olivergierke.de> 1323216325 +0100
committer Oliver Gierke <info@olivergierke.de> 1323216616 +0100

    DATAMONGO-340 - Prepare 1.0.0.BUILD-SNAPSHOT.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 8d187298980747cb7833c0a4001f5670bdbe5e09
tree 8144b3f6693b7415fecc735d37975e07464192df
parent b5e0b2bec2dc7f548a8d2987ea1d23331c95670f
author Oliver Gierke <info@olivergierke.de> 1323215237 +0100
committer Oliver Gierke <info@olivergierke.de> 1323216598 +0100

    DATAMONGO-340 - Prepare 1.0.0.RC1.

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml
M	src/docbkx/index.xml
M	src/main/resources/changelog.txt

commit b5e0b2bec2dc7f548a8d2987ea1d23331c95670f
tree 814d5f2ad3dfd3cb0302c0d1282e5ef7d0023c11
parent 9eb47827c1a5274525e66237e5ad1f5efd7e0510
author Oliver Gierke <info@olivergierke.de> 1323194646 +0100
committer Oliver Gierke <info@olivergierke.de> 1323216598 +0100

    DATAMONGO-340 - Polished reference documentation.
    
    Added section ids to generate stable URLs for HTML documentation.

M	src/docbkx/reference/mongodb.xml

commit 9eb47827c1a5274525e66237e5ad1f5efd7e0510
tree 12120ee2892340ae89d6ac8e29a3703e52fad3d9
parent f97ab25411ece19ab65a3f2400c6d20f4945e585
author Oliver Gierke <info@olivergierke.de> 1323197349 +0100
committer Oliver Gierke <info@olivergierke.de> 1323216597 +0100

    DATAMONGO-337 - Added Criteria.nin(…) and ….all(…) taking a Collection.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Criteria.java

commit f97ab25411ece19ab65a3f2400c6d20f4945e585
tree 667264ed0b53a685a69c9ea90706f6536663e3a1
parent 6616761f50ebacbbc55b760b3d75248034fc663e
author Oliver Gierke <info@olivergierke.de> 1323196895 +0100
committer Oliver Gierke <info@olivergierke.de> 1323216597 +0100

    DATAMONGO-338 - Updated reference documentation regarding new keywords.

M	src/docbkx/reference/mongo-repositories.xml

commit 6616761f50ebacbbc55b760b3d75248034fc663e
tree d7aa65d2e3f44e035652883af7811f320cc2140f
parent 89de566893e32d9443c9676337b39f445da17ede
author Oliver Gierke <info@olivergierke.de> 1323193781 +0100
committer Oliver Gierke <info@olivergierke.de> 1323216597 +0100

    DATAMONGO-322 - MongoTemplates refuses to save entities with unset id if not auto-generateable.
    
    If an entity is handed into the template to be saved or inserted we now check that the auto-generated ObjectId can actually be applied to the id property after saving the object.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoSimpleTypes.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/MongoRepositoryFactory.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/support/MongoRepositoryFactoryUnitTests.java

commit 89de566893e32d9443c9676337b39f445da17ede
tree d960455c662532fceab6dbfa443017097bd1c7de
parent ea1f090b40e6f36323d26ada23340a6ad91552b5
author Mark Pollack <mpollack@vmware.com> 1323194664 -0500
committer Mark Pollack <mpollack@vmware.com> 1323194664 -0500

    Add findAndModify to docs, update test to include findAndModify with upsert

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	src/docbkx/reference/mongodb.xml

commit ea1f090b40e6f36323d26ada23340a6ad91552b5
tree 1c80f62c689bac904ea3c3e33ec350076cadcf1f
parent b5958fb5cc61d19c565c768498df0596ecb929ef
author Mark Pollack <mpollack@vmware.com> 1323187362 -0500
committer Mark Pollack <mpollack@vmware.com> 1323187763 -0500

    Add docs for index ops and clean up 'bare' references to Mongo, change to MongoDB

M	src/docbkx/reference/mapping.xml
M	src/docbkx/reference/mongo-repositories.xml
M	src/docbkx/reference/mongodb.xml

commit b5958fb5cc61d19c565c768498df0596ecb929ef
tree 39bacea6622c0d4456515d7973f306871c8bf1e9
parent 75b7aff80afffc911b13552541a209407d4ded39
author Oliver Gierke <info@olivergierke.de> 1323187316 +0100
committer Oliver Gierke <info@olivergierke.de> 1323187316 +0100

    DATAMONGO-338 - Query parser implementation go Regex, Exists, True and False keywords.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoQueryCreatorUnitTests.java

commit 75b7aff80afffc911b13552541a209407d4ded39
tree 67c27a33b297d47ffabd8e7eb37182085e48ab63
parent 7da0fcdd0c2b65922427c108e3ed5d9faa59d7d1
author Oliver Gierke <info@olivergierke.de> 1323180913 +0100
committer Oliver Gierke <info@olivergierke.de> 1323180913 +0100

    DATAMONGO-318 - Don't throw exceptions for updates not affecting any documents.
    
    Throwing an exception if an update does not affect any documents doesn't make sense in all cases. Removed throwing an exception by default but made the relevant method (handleAnyWriteResultErrors(…)) protected so that subclasses might override this behavior.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit 7da0fcdd0c2b65922427c108e3ed5d9faa59d7d1
tree 9ba3cf76e1157b0b4b37f1b99841f335ca00975d
parent c88b6d89dbe6437d9ed05cccecbb926c2d058555
author Oliver Gierke <info@olivergierke.de> 1323179305 +0100
committer Oliver Gierke <info@olivergierke.de> 1323179305 +0100

    DATAMONGO-199 - Fixed bug in CachingMongoPersistentProperty.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/CachingMongoPersistentProperty.java

commit c88b6d89dbe6437d9ed05cccecbb926c2d058555
tree 2f3bb9f0a71a1e09d9c52f4c3789affff117fa17
parent de1540aadcec07eedbf434fbc242ae48cb4fdc37
author Oliver Gierke <info@olivergierke.de> 1323178425 +0100
committer Oliver Gierke <info@olivergierke.de> 1323178425 +0100

    DATAMONGO-251 - Polishing.
    
    JavaDoc, Formatting. Made dependencies in DefaultIndexOperations final. Reduced dependency to MongoOperations instead of depending on MongoTemplate directly. Added not-null assertion to constructor of DIO.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/DefaultIndexOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/IndexOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOperations.java

commit de1540aadcec07eedbf434fbc242ae48cb4fdc37
tree 7c393431102887dd52d48e28e2e8ed476e2ab19e
parent d1b24d6cfb329d666b4e89bab3c8ed6e856a2efb
author Oliver Gierke <info@olivergierke.de> 1323177891 +0100
committer Oliver Gierke <info@olivergierke.de> 1323177891 +0100

    DATAMONGO-234 - Polishing.
    
    Removed unused imports, corrected whitespace, formatting.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/Person.java

commit d1b24d6cfb329d666b4e89bab3c8ed6e856a2efb
tree 1cfe68e7e4bcc8918787625d12910eca6b624bb3
parent e85f3d32998b78f75271fcf16c3ca03df506da6a
author Oliver Gierke <info@olivergierke.de> 1323176803 +0100
committer Oliver Gierke <info@olivergierke.de> 1323176819 +0100

    DATAMONGO-332 - Updated reference documentation to list correct dependencies.
    
    Fixed formatting of log output along the way.

M	src/docbkx/reference/mongodb.xml

commit e85f3d32998b78f75271fcf16c3ca03df506da6a
tree a7e5d4f522e28db9eca221a114fea13e34e0233b
parent ef6e08d3f462fa4c7eee6515e4380be99c17a9a7
author Mark Pollack <mpollack@vmware.com> 1323156313 -0500
committer Mark Pollack <mpollack@vmware.com> 1323156313 -0500

    DATAMONGO-251 - Support geting index information on a collection or mapped class.

A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/DefaultIndexOperations.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/IndexOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/IndexInfo.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/IndexEnsuringQueryCreationListener.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoSpatialTests.java

commit ef6e08d3f462fa4c7eee6515e4380be99c17a9a7
tree e3917d83be153c4050443541a235bb79082aad67
parent 21010fbd496415e4788239df3f44d759e62c49a6
author Mark Pollack <mpollack@vmware.com> 1323149178 -0500
committer Mark Pollack <mpollack@vmware.com> 1323149178 -0500

    DATAMONGO-234 - MongoTemplate should support the findAndModify operation to update version fields

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/Person.java

commit 21010fbd496415e4788239df3f44d759e62c49a6
tree f513e1194de2c39351a9b84a3c46f125f4af6f52
parent 4325d6c9face5645a3e5a7e7808a8c375abe416e
author Oliver Gierke <info@olivergierke.de> 1322829284 +0100
committer Oliver Gierke <info@olivergierke.de> 1322829284 +0100

    DATACMNS-91 - Reject null parameters in SimpleMongoRepository.
    
    According to the specification in CrudRepository we now reject null values for ids and entities in CRUD methods.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java

commit 4325d6c9face5645a3e5a7e7808a8c375abe416e
tree 43c4ee4807a3254d5f128d23c7cf64a1fdabd5fd
parent bc16ccfdedcb167bccc1a617ec061e4cf52704a5
author Oliver Gierke <info@olivergierke.de> 1322827377 +0100
committer Oliver Gierke <info@olivergierke.de> 1322827377 +0100

    Reactivated accidentally disabled unit tests.

M	spring-data-mongodb-parent/pom.xml
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/AbstractMongoEventListenerUnitTest.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/AbstractMongoEventListenerUnitTests.java

commit bc16ccfdedcb167bccc1a617ec061e4cf52704a5
tree 017189e8edca5a977e8cc0522b7f0c42221d69c1
parent 04f5f9f66205513e883a24e6d32750d9531f7a65
author Oliver Gierke <info@olivergierke.de> 1322822017 +0100
committer Oliver Gierke <info@olivergierke.de> 1322822017 +0100

    DATACMNS-77 - Using constants from ClassTypeInformation inside MappingMongoConverter.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java

commit 04f5f9f66205513e883a24e6d32750d9531f7a65
tree a84d954b9bd536182bc6dd242f04fbc68b4be976
parent b1f1b8efaaa2cee52861e901ea84cc22ce1d77bd
author Oliver Gierke <info@olivergierke.de> 1322816928 +0100
committer Oliver Gierke <info@olivergierke.de> 1322816928 +0100

    DATACMNS-103 - Adapt changes in BeanWrapper.
    
    Removed obsolete exception handling code.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java

commit b1f1b8efaaa2cee52861e901ea84cc22ce1d77bd
tree fb20089dbe67e14a150bfb9a1f4f0dcc4bfb02d9
parent de300e264316ad3f825c7fdf8f1c9828832af27f
author Oliver Gierke <info@olivergierke.de> 1322758236 +0100
committer Oliver Gierke <info@olivergierke.de> 1322758236 +0100

    DATAMONGO-321 - Overhaul of id handling.
    
    Cleaned up the id handling on query mapping and mapping in general. We now only try to convert id values into an ObjectId and store it as is using potentially registered custom converters. Register BigInteger<->String converters by default now.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/QueryMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/AbstractMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/CustomConversions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryMapperUnitTests.java

commit de300e264316ad3f825c7fdf8f1c9828832af27f
tree e929257bd68afa4ec75d7b53f7e5d5daae546627
parent 20088b83d9cfec12aea44bcf360be8daa0d682ea
author Oliver Gierke <info@olivergierke.de> 1322755528 +0100
committer Oliver Gierke <info@olivergierke.de> 1322755528 +0100

    DATAMONGO-328 - Set required MongoDB version to 0.
    
    The MANIFEST.MF in current MongoDB driver version is broken in terms of not stating package versions. Thus we unfortunately cannot refer to a particular version range but have to use the generic 0 as required version.

M	spring-data-mongodb/template.mf

commit 20088b83d9cfec12aea44bcf360be8daa0d682ea
tree 5ca65869b1b14809c58f874cb4880d11b2a0591d
parent 58f200f15e0b16e473a0fc3d851c3bab7821115c
author Oliver Gierke <info@olivergierke.de> 1322754460 +0100
committer Oliver Gierke <info@olivergierke.de> 1322754460 +0100

    Removed compiler warnings.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/AbstractMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoDbFactoryParserIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoParserIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/CustomConversionsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/config/MongoNamespaceIntegrationTests.java

commit 58f200f15e0b16e473a0fc3d851c3bab7821115c
tree 9c1427ac6a3467eac24b9c5a6bed5ab2365c8fb5
parent 8718700249f39cc3db7ece9bcbfb4be9f840ce2c
author Oliver Gierke <info@olivergierke.de> 1322751998 +0100
committer Oliver Gierke <info@olivergierke.de> 1322751998 +0100

    DATAMONGO-335 - Set up hybrid Spring 3.1/3.0.6 build.
    
    Also see DATACMNS-103.

M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/template.mf

commit 8718700249f39cc3db7ece9bcbfb4be9f840ce2c
tree 8eaf120480fb92fb5c2c800e0099c128f4fe33f9
parent f4063d1679e26e8aa3d750da388cbb52ece0f283
author Oliver Gierke <info@olivergierke.de> 1322751908 +0100
committer Oliver Gierke <info@olivergierke.de> 1322751908 +0100

    DATAMONGO-334 - Switched to use http://repo.springsource.org as repository.
    
    Fixed versions of build plugins along the way.

M	spring-data-mongodb-parent/pom.xml

commit f4063d1679e26e8aa3d750da388cbb52ece0f283
tree e6f3548e4c20f16108a717bfc0c3e24001f3b899
parent ef063613c72f3bf81fe4932b5e81b66630ae35b2
author Oliver Gierke <info@olivergierke.de> 1322738187 +0100
committer Oliver Gierke <info@olivergierke.de> 1322738187 +0100

    DATAMONGO-333 - Default to Object for AbstractMongoEventlistener domain type.
    
    In case an extension of AbstractMongoEventListener does not define a parameter type we now default to Object as handled domain type as we'd cause a NullPointerException if not.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AbstractMongoEventListener.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/AbstractMongoEventListenerUnitTest.java

commit ef063613c72f3bf81fe4932b5e81b66630ae35b2
tree 2fffbcee10dcc459ab641a324588da31c80d5177
parent 2eda0f17011006634e1f1fbaf7ffd7de7ec27fc0
author Oliver Gierke <info@olivergierke.de> 1322690024 +0100
committer Oliver Gierke <info@olivergierke.de> 1322690036 +0100

    DATAMONGO-325 - MongoTemplate now correctly refuses not found map reduce JavaScript files.
    
    We now check whether a URL was passed in as map and/or reduce function and throw an exception in case the file either does not exist or cannot be read.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateUnitTests.java

commit 2eda0f17011006634e1f1fbaf7ffd7de7ec27fc0
tree a15b393982bce9c4c02650f2c74cd2ded6dadbbc
parent ec7b65e21d825a01abc6ee819a2a5984397a7983
author Oliver Gierke <info@olivergierke.de> 1322688599 +0100
committer Oliver Gierke <info@olivergierke.de> 1322688599 +0100

    DATAMONGO-185 - Expose hints on Query.
    
    Query now exposes a withHint(…) method which will be applied to the DBCursor on query execution. Reduced CursorPreparer's visibility to the package and removed methods exposing it from MongoOperations.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/CursorPreparer.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Query.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/QueryCursorPreparerUnitTests.java

commit ec7b65e21d825a01abc6ee819a2a5984397a7983
tree 8453ffb16cad5e1a0d805916dfced8bd75b8b8b6
parent c7f7571f3fd55510cbf4c0eb2941d31d5788913a
author Oliver Gierke <info@olivergierke.de> 1322674053 +0100
committer Oliver Gierke <info@olivergierke.de> 1322674053 +0100

    DATAMONGO-331 - Fixed typo in WriteConcern enumeration for db-factory element.

M	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoDbFactoryParserIntegrationTests.java
M	spring-data-mongodb/src/test/resources/namespace/db-factory-bean-custom-write-concern.xml

commit c7f7571f3fd55510cbf4c0eb2941d31d5788913a
tree 4edac1a6fb5cbaa678371765652f4a7cb549496b
parent 9f71af42e877c49de0b2db602cacc7350711329b
author Oliver Gierke <info@olivergierke.de> 1322670406 +0100
committer Oliver Gierke <info@olivergierke.de> 1322672204 +0100

    DATAMONGO-326 - QueryMapper now delegates type conversion to MongoConverter.
    
    QueryMapper now delegates to a MongoConverter instead of a plain ConversionService and invokes optional conversion on it. This optional conversion now removes type information from the created DBObject.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/QueryMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoTypeMapper.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/TypeKeyAware.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoSimpleTypes.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoNamespaceTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryMapperUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoQueryCreatorUnitTests.java

commit 9f71af42e877c49de0b2db602cacc7350711329b
tree f1dbd32000f85ac9f68054a61c430e91209d8d09
parent 92775170e1075ef94f65a4daec2857091fd0a97a
author Oliver Gierke <info@olivergierke.de> 1322666425 +0100
committer Oliver Gierke <info@olivergierke.de> 1322666425 +0100

    DATAMONGO-329 - Fixed Collection and Map value handling for more open properties.
    
    The decision whether a property value was handled as Collection or Map was based on inspecting the property's type which failed for classes using very open property declarations such as:
    
    class MyClass {
    
      Object something;
    }
    
    We now rather inspect the value type instead of the property.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 92775170e1075ef94f65a4daec2857091fd0a97a
tree b39996a1a4b6983e38c9c364e584fce93992b914
parent 4c7e33877050f9ff6c47f854bb4079a9a00e499b
author Oliver Gierke <info@olivergierke.de> 1322663178 +0100
committer Oliver Gierke <info@olivergierke.de> 1322663178 +0100

    DATAMONGO-301 - Allow classpath-scanning for Converters.
    
    <mongo:custom-conversions /> now has a base-package attribute that scans for Converter and GenericConverter beans. Added <tool:exports /> metadata for MappingMongoConverter.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MappingMongoConverterParser.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MappingMongoConverterParserIntegrationTests.java
M	spring-data-mongodb/src/test/resources/namespace/converter.xml

commit 4c7e33877050f9ff6c47f854bb4079a9a00e499b
tree b192110acb3ed0175320d6430ed222acd7ac9059
parent e3fff52d173de66d160a97d7989d569b8daa8815
author Oliver Gierke <info@olivergierke.de> 1322500053 +0100
committer Oliver Gierke <info@olivergierke.de> 1322500053 +0100

    Adapt refactorings in SD Commons.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java

commit e3fff52d173de66d160a97d7989d569b8daa8815
tree 56de57a9eab552826eb6e9e3c00c81120cab3cff
parent 5477ab20b2fbe999074da20fd4ee3cb42dbf3ba0
author Oliver Gierke <info@olivergierke.de> 1322144449 +0100
committer Oliver Gierke <info@olivergierke.de> 1322144449 +0100

    DATAMONGO-298 - CustomConversions now also considers sub-types of Number as simple.
    
    CustomConversions now delegates to MongoSimpleTypes.HOLDER.isSimpleType(…) instead of maintaining an additional list of Mongo-primitive types. Added DBObject to the list of Mongo-primitive types.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/CustomConversions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoSimpleTypes.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/CustomConversionsUnitTests.java

commit 5477ab20b2fbe999074da20fd4ee3cb42dbf3ba0
tree 5f80c695e7b85930bf094e7a36ca0c5b0cd05451
parent 4cf3567f42c8e0360cb20fe16fe395051cc8e681
author Oliver Gierke <info@olivergierke.de> 1322135987 +0100
committer Oliver Gierke <info@olivergierke.de> 1322135987 +0100

    DATAMONGO-324 - Added shortcut in MappingMongoConverter to allow reading DBObjects without conversion.
    
    Added check in MappingMongoConverter.read(…) to shortcut object conversion if the requested type is DBObject.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 4cf3567f42c8e0360cb20fe16fe395051cc8e681
tree 7cbe0b9697f41246333bdafd7b4656850e746c28
parent b26bb62a63b818f924d1b92ff8ba8a8be37c0c77
author Oliver Gierke <info@olivergierke.de> 1322050420 +0100
committer Oliver Gierke <info@olivergierke.de> 1322050550 +0100

    DATAMONGO-310 - MappingMongoConverter now creates native Mongo types for Maps and Collections in convertToMongoType(…).
    
    MappingMongoConverter.convertToMongoType(…) not only converts elements of collections and maps but also converts the wrapper into the appropriate MongoDB type (BasicDBList, BasicDBObject).

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/ConvertingParameterAccessor.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/ConvertingParameterAccessorUnitTests.java

commit b26bb62a63b818f924d1b92ff8ba8a8be37c0c77
tree 412eb7f496361415be1a592cc1f3001085b0b516
parent f156d7b5af4df4b9310dcc5a1aedc6fcec6ce460
author Oliver Gierke <info@olivergierke.de> 1322048919 +0100
committer Oliver Gierke <info@olivergierke.de> 1322048919 +0100

    DATAMONGO-305 - Removed synchronization from Query class.
    
    As Query is not intended to be thread-safe at all, we can safely remove the synchronized blocks from sort() and fields().

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Query.java

commit f156d7b5af4df4b9310dcc5a1aedc6fcec6ce460
tree 25bd8cda2516b3d4ed5d4d5a438f2952ea42f5a3
parent 7bf36439027e4e99d155452708eb15dd73572b4a
author Oliver Gierke <info@olivergierke.de> 1322045889 +0100
committer Oliver Gierke <info@olivergierke.de> 1322045889 +0100

    DATAMONGO-312 - MappingMongoConverter handles complex enum types correctly.
    
    If an Enum implements abstract methods, the Class object derived from ${ENUM}.getClass() does not return true for ….isEnum(). Thus we have to rather check Enum.class.isAssignableFrom(…) as this catches this scenario as well. Also see DATACMNS-99 for a related fix in simple type handling in the core infrastructure.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 7bf36439027e4e99d155452708eb15dd73572b4a
tree 0f55cd9919903a38e064864e2d673e91fa79b3b0
parent 201ae3e92d3e30433f672a21df9191733ebe365c
author Oliver Gierke <info@olivergierke.de> 1322042867 +0100
committer Oliver Gierke <info@olivergierke.de> 1322042867 +0100

    DATAMONGO-304 - Removed document subpackage from Log4jAppender module.

M	spring-data-mongodb-log4j/README.md
D	spring-data-mongodb-log4j/src/main/java/org/springframework/data/document/mongodb/log4j/MongoLog4jAppender.java
A	spring-data-mongodb-log4j/src/main/java/org/springframework/data/mongodb/log4j/MongoLog4jAppender.java
D	spring-data-mongodb-log4j/src/test/java/org/springframework/data/document/mongodb/log4j/AppenderTest.java
A	spring-data-mongodb-log4j/src/test/java/org/springframework/data/mongodb/log4j/AppenderTest.java
M	spring-data-mongodb-log4j/src/test/resources/log4j.properties

commit 201ae3e92d3e30433f672a21df9191733ebe365c
tree e9c1bb129841d221d5c1d8ea09b11289d169dbb7
parent 07556ec58c10139d2204cae2fc8a1675d59c2f93
author Oliver Gierke <info@olivergierke.de> 1322042315 +0100
committer Oliver Gierke <info@olivergierke.de> 1322042315 +0100

    Polished unit test.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 07556ec58c10139d2204cae2fc8a1675d59c2f93
tree 1f81c8334bf59f5aca910156e60c320e874e357e
parent 39807b17e1977d8c47fd666952adf5ec1a879096
author Oliver Gierke <info@olivergierke.de> 1322042302 +0100
committer Oliver Gierke <info@olivergierke.de> 1322042302 +0100

    DATAMONGO-323 - Annotated repository queries consider dynamic sort now.
    
    Applying a Sort parameter handed into a repository query method now for string based (aka. @Query annotated) queries.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/StringBasedMongoQuery.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepository.java

commit 39807b17e1977d8c47fd666952adf5ec1a879096
tree 1b4fb847e5dacaa8e881cebd1928e13e2267f3b4
parent 4913fe26ac9e1853a91dfa26691d566c3ee4cf71
author Oliver Gierke <info@olivergierke.de> 1322040520 +0100
committer Oliver Gierke <info@olivergierke.de> 1322040520 +0100

    DATAMONGO-309 - MappingMongoConverter now correctly maps Arrays as Map values.
    
    We now not only convert collection values of Maps into BasicDBLists but arrays as well.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 4913fe26ac9e1853a91dfa26691d566c3ee4cf71
tree 6c09d8139a37cbdd6630330d5c21c21c9a455a14
parent 7642a719ff3998c0aafd2c6616a85dd7123ce1dd
author Oliver Gierke <info@olivergierke.de> 1322038162 +0100
committer Oliver Gierke <info@olivergierke.de> 1322039746 +0100

    DATAMONGO-296 - Hook into Querydsl serialization to get predicate parameters converted.
    
    Overrode MongoDbSerializer.asDBObject(…) and delegate to our MongoConverter to potentially convert predicate parameters. Upgraded to Querydsl 2.2.5.

M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/QueryDslMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/support/SpringDataMongodbSerializerUnitTests.java

commit 7642a719ff3998c0aafd2c6616a85dd7123ce1dd
tree 879b15be8a1e8cef1fd7eebd1775b23da76424cc
parent 6c1ce576a4dabb785c24848feb6bba0b2a6df389
author Oliver Gierke <info@olivergierke.de> 1322036779 +0100
committer Oliver Gierke <info@olivergierke.de> 1322036779 +0100

    Polishing.
    
    Removed unused imports, removed compiler warnings, polished JavaDoc.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/WriteConcernPropertyEditor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOptionsFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java

commit 6c1ce576a4dabb785c24848feb6bba0b2a6df389
tree 91f01390c85d8c02b647864aade040481848be4d
parent c99882201d73cab94e7f5cace9a87af8728f8e69
author Oliver Gierke <info@olivergierke.de> 1321899670 +0100
committer Oliver Gierke <info@olivergierke.de> 1321899682 +0100

    DATACMNS-98 - Reflect refactoring.
    
    MongoQueryMethod now uses RepositoryMetadata.getReturnedDomainType(…) instead of the static method of ClassUtils.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryMethod.java

commit c99882201d73cab94e7f5cace9a87af8728f8e69
tree 6524f3480bf81e9923d3d24252f3cbb8efb5768e
parent ce6a64e4a9a96e5d06548f9f30383d0625ae0e8c
author Mark Pollack <mpollack@vmware.com> 1321569534 -0500
committer Mark Pollack <mpollack@vmware.com> 1321569534 -0500

    DATAMONGO-234 - MongoTemplate should support the findAndModify operation to update version fields

A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/FindAndModifyOptions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/MapReduceOptions.java

commit ce6a64e4a9a96e5d06548f9f30383d0625ae0e8c
tree 4c2de376f323116b35cda3e4143a531cdeb9e7cc
parent 2fcc323bcd0b19cc3b8a7cf6be8fc7064829995c
author Mark Pollack <mpollack@vmware.com> 1321478758 -0500
committer Mark Pollack <mpollack@vmware.com> 1321478758 -0500

    DATAMONGO-308 - Add support for upsert methods

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MappingTests.java
M	src/docbkx/reference/mongodb.xml

commit 2fcc323bcd0b19cc3b8a7cf6be8fc7064829995c
tree d04cf43e734f3013e29a784f603349084b6e6061
parent 17c7b1d2b560455e0c3d365e533bd9046c64febc
author Mark Pollack <mpollack@vmware.com> 1321473335 -0500
committer Mark Pollack <mpollack@vmware.com> 1321473335 -0500

    DATAMONGO-213 - Add WriteConcern to arguments of MongoOperations.update*() methods

M	src/docbkx/reference/mongodb.xml

commit 17c7b1d2b560455e0c3d365e533bd9046c64febc
tree bd9b14abd2ed9fc2dfe75556888083dc082f43dd
parent cfefe46cd4ed567d3593df2f780efd22b93605ed
author Mark Pollack <mpollack@vmware.com> 1321471856 -0500
committer Mark Pollack <mpollack@vmware.com> 1321471856 -0500

    DATAMONGO-213 - Add WriteConcern to arguments of MongoOperations.update*() methods

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoActionOperation.java

commit cfefe46cd4ed567d3593df2f780efd22b93605ed
tree a2664547a8e16b2968df87c4726127ca51c8f99b
parent 64921ddad1b3334af4cd42aec3481cc271ccf55e
author Mark Pollack <mpollack@vmware.com> 1321468093 -0500
committer Mark Pollack <mpollack@vmware.com> 1321468093 -0500

    DATAMONGO-213 - Add WriteConcern to arguments of MongoOperations.update*() methods
    DATAMONGO-320 - Remove use of slaveOk boolean option in MongoTemplate as it is deprecated. Replace with ReadPreference

A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoAction.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoActionOperation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/WriteConcernResolver.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit 64921ddad1b3334af4cd42aec3481cc271ccf55e
tree eb11282f2f5157b2ec7dbfd9bfb7a250ac95d299
parent edda1764fe328199e2e08c94569902d328f16b17
author Mark Pollack <mpollack@vmware.com> 1321394042 -0500
committer Mark Pollack <mpollack@vmware.com> 1321394042 -0500

    DATAMONGO-319 - WriteConcern not parsed correctly in namespace handlers
    DATAMONGO-311 - Update MongoDB driver to v 2.7.x

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoDbFactoryParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/WriteConcernPropertyEditor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SimpleMongoDbFactory.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoDbFactoryParserIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MyWriteConcern.java
A	spring-data-mongodb/src/test/resources/namespace/db-factory-bean-custom-write-concern.xml
M	spring-data-mongodb/src/test/resources/namespace/db-factory-bean.xml

commit edda1764fe328199e2e08c94569902d328f16b17
tree 6ff9f6b1b71e9843869dfe3ffa3bcff9c680e377
parent 8113b791091976d91094b46ed642deeb677243d9
author Mark Pollack <mpollack@vmware.com> 1321379065 -0500
committer Mark Pollack <mpollack@vmware.com> 1321379065 -0500

    DATAMONGO-311 - Update MongoDB driver to v 2.7.x
    Still investigating write_concern compatiblity as mentioned in the ticket

M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/GroupByResults.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/GroupByTests.java

commit 8113b791091976d91094b46ed642deeb677243d9
tree 249c017509e618199740323ef4a67c3036b4194e
parent 9fde4dff3ed0906bd663a8073d60eb10be994882
author Mark Pollack <mpollack@vmware.com> 1321331176 -0500
committer Mark Pollack <mpollack@vmware.com> 1321331176 -0500

    DATAMONGO-315 - MongoTemplate.findOne(query) methods ignore SortOrder on query

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit 9fde4dff3ed0906bd663a8073d60eb10be994882
tree fecba34411ddb882d5a9e7ba1a7e80553e9554ac
parent d4b3e2b99dc21208ab6a4062be487df0ce3e8400
author Mark Pollack <mpollack@vmware.com> 1321329188 -0500
committer Mark Pollack <mpollack@vmware.com> 1321329188 -0500

    DATAMONGO-195 - Add description of @Field mapping annotation to reference docs

M	src/docbkx/reference/mapping.xml

commit d4b3e2b99dc21208ab6a4062be487df0ce3e8400
tree 3b3680fabf2e63cca60bfaf0030ebed469307a02
parent 68a31d75f33fa39767f89e51bb1c115e6ee07769
author Mark Pollack <mpollack@vmware.com> 1321328887 -0500
committer Mark Pollack <mpollack@vmware.com> 1321328887 -0500

    DATAMONGO-306 - NullPointerException if mongo factory created via URI with out credentials

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SimpleMongoDbFactory.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoDbFactoryParserIntegrationTests.java
A	spring-data-mongodb/src/test/resources/namespace/mongo-uri-no-credentials.xml

commit 68a31d75f33fa39767f89e51bb1c115e6ee07769
tree 6260162258c370a44b017adc6db7a9fab31348b1
parent 3e15c214199f7ebbe8ec10a4655fb70c4c2aa065
author Mark Pollack <mpollack@vmware.com> 1321327250 -0500
committer Mark Pollack <mpollack@vmware.com> 1321327250 -0500

    DATAMONGO-313 [Refactoring] - Use MongoOperations interface instead of MongoTemplate class

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/AbstractMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/PartTreeMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/StringBasedMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/MongoRepositoryFactory.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/QueryDslMongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java

commit 3e15c214199f7ebbe8ec10a4655fb70c4c2aa065
tree c930e27e207fc9f75ca6438d8752bce3038ca7b3
parent e9f253d34f2c2dddb7e8a3104b6527c91826ec64
author Mark Pollack <mpollack@vmware.com> 1321326470 -0500
committer Mark Pollack <mpollack@vmware.com> 1321326509 -0500

    DATAMONGO-208 - Add suppoprt for group() operation on collection in MongoOperations

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/GroupBy.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/GroupByResults.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/MapReduceResults.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/GroupByTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/MapReduceTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/XObject.java
A	spring-data-mongodb/src/test/resources/groupReduce.js
A	spring-data-mongodb/src/test/resources/keyFunction.js
M	src/docbkx/reference/mongodb.xml

commit e9f253d34f2c2dddb7e8a3104b6527c91826ec64
tree b3d026d8448c2944453ccc7d6830e39b8ba391f0
parent 80aa057acb2cab349ba0ff113f71bb6f3c32018f
author Mark Pollack <mpollack@vmware.com> 1321306698 -0500
committer Mark Pollack <mpollack@vmware.com> 1321306698 -0500

    DATAMONGO-316 - Replica Set configuration via properties file throws ArrayIndexOutOfBoundsException

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/ParsingUtils.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/ServerAddressPropertyEditor.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoNamespaceReplicaSetTests.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/config/MongoNamespaceReplicaSetTests-context.xml
A	spring-data-mongodb/src/test/resources/replicaSet.properties

commit 80aa057acb2cab349ba0ff113f71bb6f3c32018f
tree 159bbcda8bfc062fcbb669ed37cf233321d3debf
parent 613b183b7052c822f512e9836846694fcd17cd82
author Thomas Risberg <trisberg@vmware.com> 1320413085 -0400
committer Thomas Risberg <trisberg@vmware.com> 1320413085 -0400

    Preparing for snapshot builds

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 613b183b7052c822f512e9836846694fcd17cd82
tree f1015ab00415138865f13d8aeb7f3702b5ed29ee
parent 5d1320a82af9dfdc975f1c1be01699f610baea69
author Thomas Risberg <trisberg@vmware.com> 1320412818 -0400
committer Thomas Risberg <trisberg@vmware.com> 1320412818 -0400

    Preparing for 1.0.0.M5 MongoDB release
    
     * Fixing spring-data-commons dependency

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 5d1320a82af9dfdc975f1c1be01699f610baea69
tree 159bbcda8bfc062fcbb669ed37cf233321d3debf
parent 8ccaf61d12409522e4efcdc034519c0ef2f19a82
author Thomas Risberg <trisberg@vmware.com> 1319492772 -0400
committer Thomas Risberg <trisberg@vmware.com> 1319492772 -0400

    preparing for snapshot builds

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml

commit 8ccaf61d12409522e4efcdc034519c0ef2f19a82
tree 5350423a39d6b063ecfec263ac0f2e3a9c64b1e6
parent 2c46cfd8fe5d9013a255c997a824370526a814d1
author Thomas Risberg <trisberg@vmware.com> 1319492368 -0400
committer Thomas Risberg <trisberg@vmware.com> 1319492368 -0400

    preparing for 1.0.0.M5 MongoDB release

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml
M	src/ant/upload-dist.xml
M	src/main/resources/changelog.txt

commit 2c46cfd8fe5d9013a255c997a824370526a814d1
tree b7db6db8e9aae102a4cedd9a5b16e83e4132c769
parent 45f2900d150572d0c4e0349a3cfa2788977cd877
author Thomas Risberg <trisberg@vmware.com> 1319491961 -0400
committer Thomas Risberg <trisberg@vmware.com> 1319491961 -0400

    Updating documentation with project name changes

M	src/docbkx/index.xml
M	src/docbkx/preface.xml
D	src/docbkx/reference/couchdb.xml
M	src/main/resources/readme.txt

commit 45f2900d150572d0c4e0349a3cfa2788977cd877
tree a7bc44e6ca1d965584b28e4f9a33913df553c563
parent 79934538b68d3c1bfb78ad0ddf5798bf102ef5b7
author Thomas Risberg <trisberg@vmware.com> 1319490260 -0400
committer Thomas Risberg <trisberg@vmware.com> 1319490260 -0400

    Updating documentation with package name changes and Criteria changes

M	src/docbkx/reference/cross-store.xml
M	src/docbkx/reference/mapping.xml
M	src/docbkx/reference/mongo-repositories.xml
M	src/docbkx/reference/mongodb.xml

commit 79934538b68d3c1bfb78ad0ddf5798bf102ef5b7
tree 7417de650c74907e994c7859e1e2483747ee356d
parent 0e4e0094a5c894f5927ad72a388eb263bbd496b3
author Oliver Gierke <info@olivergierke.de> 1319485921 -0500
committer Oliver Gierke <info@olivergierke.de> 1319485921 -0500

    DATAMONGO-303 - Updated to Querydsl 2.2.4.

M	spring-data-mongodb/pom.xml

commit 0e4e0094a5c894f5927ad72a388eb263bbd496b3
tree 6464d9b666e9b47a86e3b81fc02e66df73635635
parent 5df61563f4777354d8054de44385ce3b4f9548fe
author Oliver Gierke <info@olivergierke.de> 1319484072 -0500
committer Oliver Gierke <info@olivergierke.de> 1319484072 -0500

    DATAMONGO-302, DATACMNS-91 - Added null-checks for CRUD methods where necessary.
    
    CRUD methods in SimpleMongoRepository now consistently throw IllegalArgumentExceptions for null parameters handed to them.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java

commit 5df61563f4777354d8054de44385ce3b4f9548fe
tree 6fc72866872bfd8adb9dbcf61129cae372d8bee9
parent 04ebec993d67b71a0d09a7e62a180a5485cf8575
author Thomas Risberg <trisberg@vmware.com> 1319139863 -0400
committer Thomas Risberg <trisberg@vmware.com> 1319139863 -0400

    DATADOC-300 Changing to use InvalidMongoDbApiUsageException

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Query.java

commit 04ebec993d67b71a0d09a7e62a180a5485cf8575
tree ad09134e17ca06de801428c715b4acb81968eb2d
parent caa245dd0899ff741d624c04835eb27407eb3acb
author Thomas Risberg <trisberg@vmware.com> 1319139291 -0400
committer Thomas Risberg <trisberg@vmware.com> 1319139291 -0400

    DATADOC-300 Removing old 'or' metod, adding JavaDoc

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Criteria.java

commit caa245dd0899ff741d624c04835eb27407eb3acb
tree fb5a28e6193cb8e570f11abe872f45a45c9a1bf4
parent 717ff38319ad428061d8cd5ed0f6828d288e3f2c
author Thomas Risberg <trisberg@vmware.com> 1319138557 -0400
committer Thomas Risberg <trisberg@vmware.com> 1319138557 -0400

    DATADOC-283 DATADOC-300 Refatoring the QueryCriteria implementations to better support $and, $or and $nor queries

D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/AndCriteria.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/AndQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Criteria.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/NorCriteria.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/NorQuery.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/OrCriteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/OrQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Query.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryTests.java

commit 717ff38319ad428061d8cd5ed0f6828d288e3f2c
tree 2ef22f78df6568555e0576f3380f2c4246231cba
parent 33155ba0f4216376af24a1e04db2e526c98cdc87
author Oliver Gierke <info@olivergierke.de> 1319097756 +0200
committer Oliver Gierke <info@olivergierke.de> 1319097756 +0200

    DATADOC-230 - Added method to remove objects from specific collection.
    
    Added MongoOperations.remove(Object, String) and according MongoTemplate implementation to be able to explicitly define the collection an object should be removed from. This aligns to the method signatures we provide for all other methods as well.
    
    Consolidated MongoTemplate.getIdPropertName(…) and ….getIdValue(…) into ….getIdQueryFor(…) as they we're only used inside a method building a by-id-query for an object.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit 33155ba0f4216376af24a1e04db2e526c98cdc87
tree c060a30e6a73f13a21afc7e27de128006c040b1a
parent 9f62efa47c115e42793bf8f96d9abdbbfcd30eb2
author Oliver Gierke <info@olivergierke.de> 1318591032 +0200
committer Oliver Gierke <info@olivergierke.de> 1318591966 +0200

    DATADOC-295 - Added ability to setup a SimpleMongoDbFactory using a MongoURI.
    
    Extended SimpleMongoDbFactory with a constructor to take a MongoUri instance. Expose uri attribute at the db-factory namespace element.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoDbFactoryParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/ParsingUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SimpleMongoDbFactory.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoDbFactoryParserIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/SimpleMongoDbFactoryUnitTests.java
A	spring-data-mongodb/src/test/resources/namespace/mongo-uri-and-details.xml
A	spring-data-mongodb/src/test/resources/namespace/mongo-uri.xml

commit 9f62efa47c115e42793bf8f96d9abdbbfcd30eb2
tree 27d751c0ef178fbfc96edf43e2331eafe13712da
parent 620fc876f4a5b09f64f1a4b7c5b10a78d3b2f140
author Oliver Gierke <info@olivergierke.de> 1318591060 +0200
committer Oliver Gierke <info@olivergierke.de> 1318591923 +0200

    Fixed typo in reference documentation.

M	src/docbkx/reference/mongodb.xml

commit 620fc876f4a5b09f64f1a4b7c5b10a78d3b2f140
tree 353bdcdd93f55d9209916b690b941cf3daca5687
parent cfcf8392324de91b2ce08ed31b328fc93b377b22
author Oliver Gierke <info@olivergierke.de> 1318591050 +0200
committer Oliver Gierke <info@olivergierke.de> 1318591923 +0200

    Removed unused imports.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateUnitTests.java

commit cfcf8392324de91b2ce08ed31b328fc93b377b22
tree 7d750eee9ee1bbcff681d25a56a72718c5a17a8c
parent 7ce1e5fbd3a39cb81552148d52af2ede40ef2d10
author Oliver Gierke <info@olivergierke.de> 1318530423 +0200
committer Oliver Gierke <info@olivergierke.de> 1318530423 +0200

    DATADOC-297 - Pruned irrelevant sub modules.
    
    Removed CouchDB module as well as the generic document one. Renamed document-parent into mongodb-parent. Adapted poms accordingly.

M	pom.xml
D	spring-data-couchdb/pom.xml
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CouchServerResourceUsageException.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CouchUsageException.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/DocumentExistsException.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/DocumentRetrievalFailureException.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/UncategorizedCouchDataAccessException.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/admin/CouchAdmin.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/admin/CouchAdminOperations.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/admin/DbInfo.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/config/CouchJmxParser.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/config/CouchNamespaceHandler.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/core/CouchOperations.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/core/CouchTemplate.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/core/support/CouchDbMappingJacksonHttpMessageConverter.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/monitor/AbstractMonitor.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/monitor/ServerInfo.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/monitor/package-info.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/support/CouchUtils.java
D	spring-data-couchdb/src/main/resources/META-INF/spring.handlers
D	spring-data-couchdb/src/main/resources/META-INF/spring.schemas
D	spring-data-couchdb/src/main/resources/META-INF/spring.tooling
D	spring-data-couchdb/src/main/resources/org/springframework/data/document/couchdb/config/spring-couch-1.0.xsd
D	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/DummyDocument.java
D	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/IsBodyEqual.java
D	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/admin/CouchAdminIntegrationTests.java
D	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/core/AbstractCouchTemplateIntegrationTests.java
D	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/core/CouchConstants.java
D	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/core/CouchTemplateIntegrationTests.java
D	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/core/CouchTemplateTests.java
D	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/monitor/JmxServer.java
D	spring-data-couchdb/src/test/resources/log4j.properties
D	spring-data-couchdb/src/test/resources/server-jmx.xml
D	spring-data-couchdb/template.mf
D	spring-data-document-parent/pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
A	spring-data-mongodb-parent/pom.xml
M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AbstractMongoEventListener.java

commit 7ce1e5fbd3a39cb81552148d52af2ede40ef2d10
tree dc24b6b9ca3aef8d00be8c36cc13db12b99b860b
parent 2d12ba38f896961ea19a0e4d8f9e1298cee53fdc
author Oliver Gierke <info@olivergierke.de> 1318521677 +0200
committer Oliver Gierke <info@olivergierke.de> 1318521677 +0200

    DATADOC-294 - Overhaul of collection and type information handling.
    
    Streamlined handling of when and how to write type information into DBObjects being created. Added handling for converting Collections on the top level.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/DataDoc273Test.java

commit 2d12ba38f896961ea19a0e4d8f9e1298cee53fdc
tree 82789487a116e70ef0dea47fa40fb7da8bf8a390
parent 1554d489ca65a332bf9ed1bd139fbb05c5914c2c
author Christoph Leiter <christoph@cleancode.at> 1318419239 +0200
committer Oliver Gierke <info@olivergierke.de> 1318425909 +0200

    DATADOC-289 - Filter AfterLoadEvent for specific domain type.
    
    AfterLoadEvent can now be typed to a domain type again and will only be invoked if documents are loaded that shall be mapped onto the declared type.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AbstractMongoEventListener.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AfterLoadEvent.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/AbstractMongoEventListenerUnitTest.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/SimpleMappingEventListener.java

commit 1554d489ca65a332bf9ed1bd139fbb05c5914c2c
tree de893299ca31ebf6fb361773a58e78bffeeb452b
parent f030d304f4d7059f5062560fbbcaa710e4e9c4f1
author Oliver Gierke <info@olivergierke.de> 1318424702 +0200
committer Oliver Gierke <info@olivergierke.de> 1318424702 +0200

    DATACMNS-73 - Fixed package imports in DocumentBacking aspect.

M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/MongoDocumentBacking.aj
M	spring-data-mongodb-cross-store/src/test/resources/log4j.properties

commit f030d304f4d7059f5062560fbbcaa710e4e9c4f1
tree 3539e0a8e6ec84e18b480f91fa8ae6f1bbf5be68
parent 105e1da82b46cc3cbbb2fbb7f2ecdd247db0735c
author Oliver Gierke <info@olivergierke.de> 1318423242 +0200
committer Oliver Gierke <info@olivergierke.de> 1318423242 +0200

    DATADOC-271, DATACMNS-73 - Adapted changes of SD Commons.

M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/DocumentBacked.java
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/MongoChangeSetPersister.java

commit 105e1da82b46cc3cbbb2fbb7f2ecdd247db0735c
tree 502b5d334d34875f5c4e1a68c51d7be769a91a45
parent dbc7601d7be036159d9a288ca06041830d4e563a
author Oliver Gierke <info@olivergierke.de> 1318422621 +0200
committer Oliver Gierke <info@olivergierke.de> 1318422621 +0200

    DATADOC-271 - Added license headers to cross-store files.

M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/DocumentBacked.java
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/MongoChangeSetPersister.java
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/MongoDocumentBacking.aj
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/RelatedDocument.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/mongodb/crossstore/CrossStoreMongoTests.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/mongodb/crossstore/test/Address.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/mongodb/crossstore/test/Person.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/mongodb/crossstore/test/Resume.java

commit dbc7601d7be036159d9a288ca06041830d4e563a
tree 44f1cc2070dc40d26945264c0b8485e27b6cab1e
parent ccf981b8fb0496ba6d54009210a5481fadea52fc
author Oliver Gierke <info@olivergierke.de> 1318421092 +0200
committer Oliver Gierke <info@olivergierke.de> 1318422442 +0200

    DATADOC-293 - Activated Polygon related tests.
    
    CI system has been updated to Mongo 2.0 so we can activate the test invoking its features.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoSpatialTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java

commit ccf981b8fb0496ba6d54009210a5481fadea52fc
tree 93aa9b158a15b63f6635cf37b70ce296c00f8a2a
parent 8a43b4bbc059805c012a9996c82977f08cc82eb4
author Thomas Risberg <trisberg@vmware.com> 1318421776 -0400
committer Thomas Risberg <trisberg@vmware.com> 1318421803 -0400

    DATADOC-271 Re-packaging Mongo cross-store support, removing 'document' in package name

A	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/DocumentBacked.java
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/MongoChangeSetPersister.java
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/MongoDocumentBacking.aj
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/mongodb/crossstore/RelatedDocument.java
D	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/mongodb/DocumentBacked.java
D	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/mongodb/MongoChangeSetPersister.java
D	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/mongodb/MongoDocumentBacking.aj
D	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/mongodb/RelatedDocument.java
D	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/CrossStoreMongoTests.java
D	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/test/Address.java
D	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/test/Person.java
D	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/test/Resume.java
A	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/mongodb/crossstore/CrossStoreMongoTests.java
A	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/mongodb/crossstore/test/Address.java
A	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/mongodb/crossstore/test/Person.java
A	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/mongodb/crossstore/test/Resume.java
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/persistence.xml
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml

commit 8a43b4bbc059805c012a9996c82977f08cc82eb4
tree 8bc1ad79a7c1f718c77437c5fc97e8cd41015f89
parent 1c2c592b96865ca7c50d8402e9650e0517a25419
author Oliver Gierke <info@olivergierke.de> 1318417193 +0200
committer Oliver Gierke <info@olivergierke.de> 1318419494 +0200

    DATADOC-65 - Allow usage of SpEL in @Document.
    
    @Document can now use SpEL expressions to let the collection an entity shall be stored to be calculated on the fly.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentEntityUnitTests.java

commit 1c2c592b96865ca7c50d8402e9650e0517a25419
tree c095835ac8bdd93c8f08830f0ab269b99d968552
parent cd4b409bf2bcfc0f63acfcb3e3f05f3e219201f1
author Thomas Risberg <trisberg@vmware.com> 1318417681 -0400
committer Thomas Risberg <trisberg@vmware.com> 1318417714 -0400

    DATADOC-271 Re-packaging Mongo cross-store support, removing 'document' in package name

D	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/DocumentBacked.java
D	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/DocumentBackedTransactionSynchronization.java
D	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/RelatedDocument.java
D	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongodb/MongoChangeSetPersister.java
D	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongodb/MongoDocumentBacking.aj
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/mongodb/DocumentBacked.java
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/mongodb/MongoChangeSetPersister.java
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/mongodb/MongoDocumentBacking.aj
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/mongodb/RelatedDocument.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/test/Person.java
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml

commit cd4b409bf2bcfc0f63acfcb3e3f05f3e219201f1
tree c4f51c080c8d18c50b0b5aa47eda9d6c8ceb59e2
parent f71477f17dececed7d2c50f68dd46987d6ce738f
author Thomas Risberg <trisberg@vmware.com> 1318407052 -0400
committer Oliver Gierke <info@olivergierke.de> 1318412556 +0200

    DATADOC-283 - Adding query support for $and operator.

A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/AndCriteria.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/AndQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/OrQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Query.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryTests.java

commit f71477f17dececed7d2c50f68dd46987d6ce738f
tree e8f9ac1d96d19ad041ac4d49ee668c5e6c3e01c1
parent 454df1e7f17b5c957f89806364574138ea874a0b
author Oliver Gierke <info@olivergierke.de> 1318347452 +0200
committer Oliver Gierke <info@olivergierke.de> 1318347452 +0200

    DATADOC-289 - Fixed invocation of AfterLoadEvent in AbstractMongoEventListener.
    
    Invoke events that are not bound to the domain type before the domain type check. Removed unnecessary gentrification of AfterLoadEvent.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AbstractMongoEventListener.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AfterLoadEvent.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/AbstractMongoEventListenerUnitTest.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/SimpleMappingEventListener.java

commit 454df1e7f17b5c957f89806364574138ea874a0b
tree ff85f5f48d2b9924794f085e8dafce1ac436c4a7
parent 80641a0943231d57847322892f6ffff941281691
author Oliver Gierke <info@olivergierke.de> 1318332069 +0200
committer Oliver Gierke <info@olivergierke.de> 1318332084 +0200

    DATADOC-273 - Persisting type information for raw types as well.
    
    We now trigger writing type informations for subtypes of raw collections and maps as well.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/DataDoc273Test.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/PolygonUnitTests.java

commit 80641a0943231d57847322892f6ffff941281691
tree c564ba30abe478ee87059c5f6acd6e4df0239f62
parent e405bf574c9ae81905a8d5c124765091b2aa83f7
author Oliver Gierke <info@olivergierke.de> 1318328994 +0200
committer Oliver Gierke <info@olivergierke.de> 1318329086 +0200

    DATADOC-293 - Added Polygon abstraction to Criteria.
    
    Introduced Polygon value object to capture a list of Points. Polished implementation of Circle (equals(…) and hashCode()) and API of Criteria. Added some additional unit tests. Introduced Shape interface to allow streamling the implementation of building within-Criterias.
    
    Ignoring the tests for polygons right now until we have updated the Mongo instance on the CI server to 2.0.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Box.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Circle.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Polygon.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Shape.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/CircleUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoSpatialTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/PolygonUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepository.java

commit e405bf574c9ae81905a8d5c124765091b2aa83f7
tree a2619618800b9e0743fe25024062c928bccdc3dc
parent 9f8e406afffa8dd8574922deb96aec0b43cdc78a
author Oliver Gierke <info@olivergierke.de> 1317934647 +0200
committer Oliver Gierke <info@olivergierke.de> 1317981631 +0200

    DATADOC-291 - MongoQueryCreator now considers mapping information for query building.
    
    Instead of using the pure PropertyPath of the PartTree we ask the MappingContext for a PersistentPropertyPath and create a field name based path expression from it.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/PartTreeMongoQuery.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoQueryCreatorUnitTests.java

commit 9f8e406afffa8dd8574922deb96aec0b43cdc78a
tree 599454cc1d995042d470e3df665131fc401189ea
parent 7d2636635208c99adcedba5c3f4d0670c166e4b3
author Oliver Gierke <info@olivergierke.de> 1317376244 +0200
committer Oliver Gierke <info@olivergierke.de> 1317376244 +0200

    DATADOC-275 - Fixed id handling for DBRefs.
    
    Trying to convert target ids into ObjectId or String before using the actual type.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MappingTests.java

commit 7d2636635208c99adcedba5c3f4d0670c166e4b3
tree d2fa8ccc62b4b122b73e2d520433ff18af8b7820
parent 864ae831dd463496a16012998cb7014de3b0c83f
author Oliver Gierke <info@olivergierke.de> 1317368110 +0200
committer Oliver Gierke <info@olivergierke.de> 1317368110 +0200

    Added test case to show usage of custom converters and querying.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit 864ae831dd463496a16012998cb7014de3b0c83f
tree 621af213c1475c663cfd15af40879aa15134874e
parent bfb13d99e3c89f12c34cd1070d8394f89788619d
author Oliver Gierke <info@olivergierke.de> 1317127010 +0200
committer Oliver Gierke <info@olivergierke.de> 1317127010 +0200

    DATADOC-285 - Added test case for issue, doesn't fail right now.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit bfb13d99e3c89f12c34cd1070d8394f89788619d
tree ded99d4a2a8c71ec41204a1d9b7b0dbff3e2c50f
parent f39de4c28e3555935e23ecbc3fb6cfedcdb348ed
author Oliver Gierke <info@olivergierke.de> 1317124790 +0200
committer Oliver Gierke <info@olivergierke.de> 1317124790 +0200

    DATADOC-280 - Added maxAutoConnectRetryTime config option.
    
    Extended MongoOperationsFactoryBean to carry maxAutoConnectRetryTime property and exposed that through the XML namespace.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/ParsingUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOptionsFactoryBean.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoDbFactoryParserIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoOptionsFactoryBeanUnitTests.java
M	spring-data-mongodb/src/test/resources/namespace/db-factory-bean.xml

commit f39de4c28e3555935e23ecbc3fb6cfedcdb348ed
tree 88635e3f763cef4ff6c852d137a4907f6318567d
parent 3bdeb6861739a86de24c301ca04ece4bb05c37b5
author Oliver Gierke <info@olivergierke.de> 1317116900 +0200
committer Oliver Gierke <info@olivergierke.de> 1317116900 +0200

    DATADOC-286 - Added support for GreaterThanEqual and LessThanEqual.
    
    Using those keywords provided by Spring Data Commons will cause $gte and $lte criterias to be created.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoQueryCreatorUnitTests.java

commit 3bdeb6861739a86de24c301ca04ece4bb05c37b5
tree 1f447b37016f5fe0366c2ff178852412030f97e0
parent 6b40a27c926b53df1d841c7ec16e9a14ab97b81c
author Oliver Gierke <info@olivergierke.de> 1317112982 +0200
committer Oliver Gierke <info@olivergierke.de> 1317112982 +0200

    DATADOC-278 - QueryMapper now converts ids for $ne correctly.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/QueryMapper.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryMapperUnitTests.java

commit 6b40a27c926b53df1d841c7ec16e9a14ab97b81c
tree de851928f980038999c24761ed58d70b55f2f874
parent 237cbec945ea42252d3d9f3b2a11b4f8ded6c93a
author Oliver Gierke <info@olivergierke.de> 1317061318 +0200
committer Oliver Gierke <info@olivergierke.de> 1317061318 +0200

    DATACMNS-76 - Adapt changes of Spring Data Commons.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/ConfigurableTypeMapper.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/DefaultMongoTypeMapper.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/DefaultTypeMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoConverter.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoReader.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoTypeMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoWriter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/TypeKeyAware.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/TypeMapper.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/TypeMapperProvider.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/ConvertingParameterAccessor.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/ConfigurableTypeMapperUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/DefaultMongoTypeMapperUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/DefaultTypeMapperUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/StringBasedMongoQueryUnitTests.java

commit 237cbec945ea42252d3d9f3b2a11b4f8ded6c93a
tree 27c2661ca404413b7884c5206e51f2399d72076b
parent 39bc6771b71ab5953d7e1ecb44d5d1883bcd3b83
author Oliver Gierke <info@olivergierke.de> 1316623478 +0200
committer Oliver Gierke <info@olivergierke.de> 1317061127 +0200

    DATADOC-284 - Added custom SpringDataMongodbSerializer.
    
    The custom MongodbSerializer considers mapping information when building keys for the Querydsl queries to be executed.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/QueryDslMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/support/SpringDataMongodbSerializerUnitTests.java

commit 39bc6771b71ab5953d7e1ecb44d5d1883bcd3b83
tree b06e29619ca2134a159820c2ba8e86d8365c67a8
parent 73b2d5a99c98c1c1bb9d38141fe99e25e5aadde6
author Oliver Gierke <info@olivergierke.de> 1316080803 +0200
committer Oliver Gierke <info@olivergierke.de> 1316080803 +0200

    DATADOC-183 - Added count(…) methods to MongoOperations.
    
    MongoTemplate is now able to count documents using either an entity class or collection name.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit 73b2d5a99c98c1c1bb9d38141fe99e25e5aadde6
tree 6430c212235e64402c8b7b462b6e5efc73ef8f30
parent 5dab0c721e69fce29698e6ed00cc8ce21e011e1c
author Oliver Gierke <info@olivergierke.de> 1316007269 +0200
committer Oliver Gierke <info@olivergierke.de> 1316007269 +0200

    DATADOC-270 - Removed critical Sonar warnings from codebase.

M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongodb/MongoChangeSetPersister.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/CannotGetMongoDbConnectionException.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/QueryMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Circle.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/OrCriteria.java

commit 5dab0c721e69fce29698e6ed00cc8ce21e011e1c
tree 0b646274f527256d9799e576089664137af81437
parent bf7c9663cf7d3ecfa353238247af8dc6c6d00d58
author Oliver Gierke <info@olivergierke.de> 1315993776 +0200
committer Oliver Gierke <info@olivergierke.de> 1315993776 +0200

    DATADOC-277 - Upgraded to Querydsl 2.2.2.

M	spring-data-mongodb/pom.xml

commit bf7c9663cf7d3ecfa353238247af8dc6c6d00d58
tree 26abe58dd385547e2e5089d923ab563970bfc1ed
parent 135742b7e4e028aa3e626ede5105d1e24d2eba47
author Oliver Gierke <info@olivergierke.de> 1315405226 +0200
committer Oliver Gierke <info@olivergierke.de> 1315993675 +0200

    DATADOC-274, DATADOC-276 - Split up repository package to be consistent with Spring Data JPA.
    
    Introduced dedicated config, query and support packages. Updated Sonargraph architecture description introducing subsystems for repository layer.

M	spring-data-mongodb/Spring Data MongoDB.sonargraph
M	spring-data-mongodb/pom.xml
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoNamespaceHandler.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoRepositoryConfigParser.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoRepositoryNamespaceHandler.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/SimpleMongoRepositoryConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreator.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/AbstractMongoQuery.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/ConvertingParameterAccessor.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MappingMongoEntityInformation.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoAnnotationProcessor.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoEntityInformation.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoParameterAccessor.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoParameters.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoParametersParameterAccessor.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoQueryCreator.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoQueryMethod.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoRepositoryFactoryBean.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/PartTreeMongoQuery.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/QueryDslMongoRepository.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/QueryUtils.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/QuerydslRepositorySupport.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/SimpleMongoRepository.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/StringBasedMongoQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/config/MongoRepositoryConfigParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/config/SimpleMongoRepositoryConfiguration.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/AbstractMongoQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/ConvertingParameterAccessor.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/EntityInformationCreator.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoEntityInformation.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoParameterAccessor.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoParameters.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoParametersParameterAccessor.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryCreator.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/MongoQueryMethod.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/PartTreeMongoQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/QueryUtils.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/query/StringBasedMongoQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/DefaultEntityInformationCreator.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/IndexEnsuringQueryCreationListener.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/MappingMongoEntityInformation.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/MongoAnnotationProcessor.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/MongoRepositoryFactory.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/MongoRepositoryFactoryBean.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/QueryDslMongoRepository.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/QuerydslRepositorySupport.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java
M	spring-data-mongodb/src/main/resources/META-INF/spring.handlers
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/Contact.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MappingMongoEntityInformationUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoParametersParameterAccessorUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoParametersUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoQueryCreatorUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoQueryMethodUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoRepositoryFactoryBeanUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoRepositoryFactoryUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/QuerydslRepositorySupportUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/StringBasedMongoQueryUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/StubParameterAccessor.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MappingMongoEntityInformationUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoParametersParameterAccessorUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoParametersUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoQueryCreatorUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/MongoQueryMethodUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/StringBasedMongoQueryUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/query/StubParameterAccessor.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/support/MongoRepositoryFactoryBeanUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/support/MongoRepositoryFactoryUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/support/QuerydslRepositorySupportUnitTests.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/repository/PersonRepositoryIntegrationTests-context.xml

commit 135742b7e4e028aa3e626ede5105d1e24d2eba47
tree 02d4dc243c24f5277cc3887c8265b418eea9cb00
parent dee030705573af1d22994db43cd3fb666cdea749
author Oliver Gierke <info@olivergierke.de> 1315402654 +0200
committer Oliver Gierke <info@olivergierke.de> 1315993138 +0200

    Fixed potential NullPointException in debug level in MongoQueryCreator.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoQueryCreator.java

commit dee030705573af1d22994db43cd3fb666cdea749
tree c56cfb648b814182e9f6ae162e163ff2eb4333fa
parent 06fb4144e0b27d3cd15ff5ccacc2f045c3bae93c
author Mark Pollack <mpollack@vmware.com> 1315930385 -0400
committer Mark Pollack <mpollack@vmware.com> 1315930660 -0400

    DATADOC-269 - XML configuration for replica sets is not working

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoFactoryBean.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoNamespaceReplicaSetTests.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/config/MongoNamespaceReplicaSetTests-context.xml

commit 06fb4144e0b27d3cd15ff5ccacc2f045c3bae93c
tree cc8fd6f1a02f00515ed004a58ea8f9002bdd7d36
parent 5fdc60057049b4f3948aaef5333b0df666d6d476
author Oliver Gierke <info@olivergierke.de> 1315395971 +0200
committer Oliver Gierke <info@olivergierke.de> 1315395971 +0200

    DATADOC-261 - Added id to geoNear section of reference Documentation.

M	src/docbkx/reference/mongodb.xml

commit 5fdc60057049b4f3948aaef5333b0df666d6d476
tree 51697308b0c83e270d68b3b4ca2c8945e63f5b26
parent f54c69b6ef78730eece14cb9f86f9a8b17c1303b
author Oliver Gierke <info@olivergierke.de> 1315394946 +0200
committer Oliver Gierke <info@olivergierke.de> 1315394946 +0200

    DATADOC-272 - Moved XSD file into correct package.

M	spring-data-mongodb/src/main/resources/META-INF/spring.schemas
D	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
A	spring-data-mongodb/src/main/resources/org/springframework/data/mongodb/config/spring-mongo-1.0.xsd

commit f54c69b6ef78730eece14cb9f86f9a8b17c1303b
tree fddbe4769098acbb49f676a8c295e0c4bd3d5cb7
parent decdcff79facae3daa7ad3cc33964462044a1908
author Oliver Gierke <info@olivergierke.de> 1315389234 +0200
committer Oliver Gierke <info@olivergierke.de> 1315389234 +0200

    DATADOC-258 - Updated dependencies to the latest versions.

M	src/docbkx/reference/mongodb.xml

commit decdcff79facae3daa7ad3cc33964462044a1908
tree 02b28b29b98af6d569f2823558d32dbe3005437c
parent be8daa526815111b6e6be94f9e2faa3c6c49dfb0
author Oliver Gierke <info@olivergierke.de> 1315389088 +0200
committer Oliver Gierke <info@olivergierke.de> 1315389088 +0200

    Added fallback references to general repository documentation.

M	src/docbkx/index.xml

commit be8daa526815111b6e6be94f9e2faa3c6c49dfb0
tree e24060e937a41f593766627cd21d374eb3efd11d
parent c4cd074d4df225147c3755086d5242b73986184f
author Oliver Gierke <info@olivergierke.de> 1315388690 +0200
committer Oliver Gierke <info@olivergierke.de> 1315389004 +0200

    Removed obsolete MongoBeanWrapper and MongoPropertyDescriptors.

D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoBeanWrapper.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoPropertyDescriptors.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoSimpleTypes.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoRepositoryFactoryBean.java

commit c4cd074d4df225147c3755086d5242b73986184f
tree db9178dfba42b087e787755b7446dfaeb326367e
parent 8b7521a93b8aa6eccc797962fae91e313fe06d87
author Oliver Gierke <info@olivergierke.de> 1315387490 +0200
committer Oliver Gierke <info@olivergierke.de> 1315387490 +0200

    DATADOC-259 - Fixed potential NullPointerException in MapingMongoConverter.writeMapInternal(…).
    
    MappingMongoConverter.writeInternal(…) invoked ….writeMapInternal(…) handing in null for the TypeInformation which violated the implicit contract for the method. Made contract explicit in Javadoc and hand in plain Map TypeInformation.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 8b7521a93b8aa6eccc797962fae91e313fe06d87
tree 2027938635ac227d92accfee1f05bf9f8d9ab9ac
parent ba508f497c4d36655136e465c4de4dd96d20bb7e
author Oliver Gierke <info@olivergierke.de> 1315383944 +0200
committer Oliver Gierke <info@olivergierke.de> 1315383944 +0200

    DATADOC-268 - CustomConversion considers types only simple for registered write converters.
    
    In cases where only a reading converter is registered (e.g. to manually instantiate the object instance) the type the reading converter is registered for must not be regarded as simple as it will be written to the DBObject as is.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/CustomConversions.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/CustomConversionsUnitTests.java

commit ba508f497c4d36655136e465c4de4dd96d20bb7e
tree 9883b624e9a173c7218bbfeca595719646fbeea0
parent 091246a9aa7d6b7f0cc06dddaa0e55daf16ff7ff
author Oliver Gierke <info@olivergierke.de> 1315376088 +0200
committer Oliver Gierke <info@olivergierke.de> 1315376088 +0200

    DATACMNS-72 - Adapt changes introduced in Spring Data Commons.
    
    Removed references to MappingContextAware(BeanPostProcessor).

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/AbstractMongoConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/BeanNames.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MappingMongoConverterParser.java

commit 091246a9aa7d6b7f0cc06dddaa0e55daf16ff7ff
tree 0a19accc6a8b958ee049eaa64928dd7b550a4304
parent 745e1f313d5f0cd404e29b42b7aaa33b95a75476
author Oliver Gierke <info@olivergierke.de> 1315137609 +0200
committer Oliver Gierke <info@olivergierke.de> 1315137609 +0200

    Polished map-reduce tests and formatted documentation with XMLEditor.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/MapReduceOptionsTests.java
M	src/docbkx/reference/mongodb.xml

commit 745e1f313d5f0cd404e29b42b7aaa33b95a75476
tree 320eec25b001a3498fe20f214249c5f75c57ae41
parent 234e04f4a30db5db521f30e764a1aad2a5136a6d
author Oliver Gierke <info@olivergierke.de> 1315137328 +0200
committer Oliver Gierke <info@olivergierke.de> 1315137463 +0200

    DATADOC-259 - MappingMongoConverter now converts Maps nested in Collections as well.
    
    Fixed nested type handling in MappingMongoConverter.writeMapInternally(…). Force usage of ConversionService for simple values if read value doesn't match target type.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 234e04f4a30db5db521f30e764a1aad2a5136a6d
tree d2d0ec48e2b29d755dbf39f02710b5ebc46657b0
parent 15ab529596709bb7bc7ca979f1feb092706211e5
author Mark Pollack <mpollack@vmware.com> 1315006056 -0400
committer Mark Pollack <mpollack@vmware.com> 1315006056 -0400

    minor doc fices

M	src/docbkx/reference/mongodb.xml

commit 15ab529596709bb7bc7ca979f1feb092706211e5
tree 8f9cf87090794fbe2b957c1a92065e52f280acb1
parent 00bea23eed73860477f3fd58666fc63624dba59c
author Thomas Risberg <trisberg@vmware.com> 1314923860 -0400
committer Thomas Risberg <trisberg@vmware.com> 1314923860 -0400

    preparing for snapshot builds

M	pom.xml
M	spring-data-document-parent/pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb/pom.xml

commit 00bea23eed73860477f3fd58666fc63624dba59c
tree 58cceff4de557eee8447a3bc50db94e308dea925
parent c646c1f3b2c17133d2891c7b7cb030dfb43f8f52
author Thomas Risberg <trisberg@vmware.com> 1314923530 -0400
committer Thomas Risberg <trisberg@vmware.com> 1314923530 -0400

    preparing for 1.0.0.M4 MongoDB release

M	pom.xml
M	spring-data-document-parent/pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb/pom.xml

commit c646c1f3b2c17133d2891c7b7cb030dfb43f8f52
tree 8f9cf87090794fbe2b957c1a92065e52f280acb1
parent 069f491603d8b1bd3f3e7510fb8643531a370e2c
author Thomas Risberg <trisberg@vmware.com> 1314923028 -0400
committer Thomas Risberg <trisberg@vmware.com> 1314923028 -0400

    Updated changelog for 1.0.0.M4 MongoDB

M	src/main/resources/changelog.txt

commit 069f491603d8b1bd3f3e7510fb8643531a370e2c
tree 7dd0e2296c31bba410e61bac07c503be90713eb2
parent e426ba4d434a9f8f5957f1bc4cc7731d33b9345b
author Thomas Risberg <trisberg@vmware.com> 1314917549 -0400
committer Thomas Risberg <trisberg@vmware.com> 1314917776 -0400

    DATADOC-232 added unit tests for multi set and inc updates

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/UpdateTests.java

commit e426ba4d434a9f8f5957f1bc4cc7731d33b9345b
tree f38ef4de4f13a490c83787016e6979d35506e8b1
parent 756f886cefd3cf53dce4ba0485ffa922d3304446
author Thomas Risberg <trisberg@vmware.com> 1314915867 -0400
committer Thomas Risberg <trisberg@vmware.com> 1314917776 -0400

    DATADOC-210 removed Java 6 only method to provide Java 5 compatibility

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreator.java

commit 756f886cefd3cf53dce4ba0485ffa922d3304446
tree b46c4012058beab7a86399f7328ec0d7df4f1684
parent 9bb42245bbdf4acf16c27411b65548aa74a06ca0
author Mark Pollack <mpollack@vmware.com> 1314914602 -0400
committer Mark Pollack <mpollack@vmware.com> 1314914612 -0400

    DATADOC-7 - Support for map-reduce operations in MongoTemplate

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/MapReduceTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/ValueObject.java
M	src/docbkx/reference/mongodb.xml

commit 9bb42245bbdf4acf16c27411b65548aa74a06ca0
tree fef194663fe4397da8ef231feb7da1220e0e5774
parent c15263a2592019ca20b18a4a12280760b5f29422
author Thomas Risberg <trisberg@vmware.com> 1314913941 -0400
committer Thomas Risberg <trisberg@vmware.com> 1314913941 -0400

    changed the test for index names since they don't seem to be consistent

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MappingTests.java

commit c15263a2592019ca20b18a4a12280760b5f29422
tree 803b44fad0670160bd87b42f56294c45723748e4
parent 758ee97a8d2c5f9bd513be476ae5f71cf97dd160
author Thomas Risberg <trisberg@vmware.com> 1314913906 -0400
committer Thomas Risberg <trisberg@vmware.com> 1314913906 -0400

    updated .gitignore

M	.gitignore

commit 758ee97a8d2c5f9bd513be476ae5f71cf97dd160
tree 4bc675161207636e7a68b155446662e18e627c06
parent 4f92690f5883ef3b2d64dac5beeca9d01ed688f7
author Mark Pollack <mpollack@vmware.com> 1314909292 -0400
committer Mark Pollack <mpollack@vmware.com> 1314909292 -0400

    DATADOC-7 - Support for map-reduce operations in MongoTemplate

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/MapReduceTests.java
A	spring-data-mongodb/src/test/resources/map.js
A	spring-data-mongodb/src/test/resources/reduce.js

commit 4f92690f5883ef3b2d64dac5beeca9d01ed688f7
tree ad52842cb1b5736373a89731cfcbb5f6b5458219
parent 48bf08afa350068b0225f922cffaf5b018428e79
parent 595ed69820a2b592b712ca6dd62f6b98cae79c57
author Mark Pollack <mpollack@vmware.com> 1314905635 -0400
committer Mark Pollack <mpollack@vmware.com> 1314905635 -0400

    DATADOC-255 - Add to MongoOperations and executeCommand with an additional integer options argument
    DATADOC-256 - Update to use MongoDB driver version 2.6.5
    DATADOC-7 - Support for map-reduce operations in MongoTemplate

commit 595ed69820a2b592b712ca6dd62f6b98cae79c57
tree c22728a6234cf8015ef056e148b7b511f3cf8762
parent 98bdae4a00573c9b8b6dc09b3708c2a605a90ca7
author Mark Pollack <mpollack@vmware.com> 1314905593 -0400
committer Mark Pollack <mpollack@vmware.com> 1314905593 -0400

    DATADOC-255 - Add to MongoOperations and executeCommand with an additional integer options argument
    DATADOC-256 - Update to use MongoDB driver version 2.6.5
    DATADOC-7 - Support for map-reduce operations in MongoTemplate

M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/MapReduceCounts.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/MapReduceOptions.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/MapReduceResults.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/MapReduceTiming.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/MapReduceOptionsTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/MapReduceTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/ValueObject.java

commit 48bf08afa350068b0225f922cffaf5b018428e79
tree 2cd03beae763a18f7a23af21a4bf740bdf63f1d4
parent 98bdae4a00573c9b8b6dc09b3708c2a605a90ca7
author Oliver Gierke <info@olivergierke.de> 1314891137 +0200
committer Oliver Gierke <info@olivergierke.de> 1314891147 +0200

    DATADOC-68 - Updated documentation regading geoNear usage with MongoOperations.

M	src/docbkx/reference/mongodb.xml

commit 98bdae4a00573c9b8b6dc09b3708c2a605a90ca7
tree 40e06d8d03f267e14925c3ebd7c2e322fe1b335d
parent 6c3ffeac5fd9ed780068ff3109477a342ccb843b
parent f08b87d8d66311ecec7c9353f494be7948afe85d
author Mark Pollack <mpollack@vmware.com> 1314890394 -0400
committer Mark Pollack <mpollack@vmware.com> 1314890394 -0400

    DATADOC-7 (Add initial options class for Map reduce)

commit f08b87d8d66311ecec7c9353f494be7948afe85d
tree feac3172dbe2eaa36c6250a730db2af16566ebe7
parent bfeb1b34c139473dacce911dd36e95d5e9519bf1
author Mark Pollack <mpollack@vmware.com> 1314887712 -0400
committer Mark Pollack <mpollack@vmware.com> 1314887712 -0400

    DATADOC-7 (Add initial options class for Map reduce)

A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapreduce/MapReduceOptions.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapreduce/MapReduceOptionsTests.java

commit 6c3ffeac5fd9ed780068ff3109477a342ccb843b
tree 51cf91e9ed8ecee4a46625d21798405f6f61a693
parent 490ddc4a0e82687c305b51d495eebc135603e863
parent ae26f4fea13c6539c0242c0b898eb88ae057000a
author Oliver Gierke <info@olivergierke.de> 1314830018 +0200
committer Oliver Gierke <info@olivergierke.de> 1314830018 +0200

    Merge branch 'geo-repo'
    
    * geo-repo:
      DATADOC-68 - Support for geo-near queries at repositories.

commit 490ddc4a0e82687c305b51d495eebc135603e863
tree 04fefa22f256dc5f4d17fb0f6ba2d4b725e625ce
parent e9ea756a3aa58917d18174ed8ff8efeedff83e77
author Oliver Gierke <info@olivergierke.de> 1314829795 +0200
committer Oliver Gierke <info@olivergierke.de> 1314829795 +0200

    DATADOC-254 - Reject invalid MongoDB database names.
    
    Only letters, numbers underscores and dashes are now allowed.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SimpleMongoDbFactory.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/SimpleMongoDbFactoryUnitTests.java

commit ae26f4fea13c6539c0242c0b898eb88ae057000a
tree f2471001f830547f53fa4cc6b76eb73a3d73a2b1
parent e9ea756a3aa58917d18174ed8ff8efeedff83e77
author Oliver Gierke <info@olivergierke.de> 1313938336 +0200
committer Oliver Gierke <info@olivergierke.de> 1314829728 +0200

    DATADOC-68 - Support for geo-near queries at repositories.

A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/GeoPage.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/AbstractMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoParameters.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoParametersParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoQueryMethod.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/Near.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/PartTreeMongoQuery.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/DistanceUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoParametersParameterAccessorUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoParametersUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoQueryCreatorUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoQueryMethodUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/StubParameterAccessor.java
M	src/docbkx/reference/mongo-repositories.xml

commit e9ea756a3aa58917d18174ed8ff8efeedff83e77
tree e8602769673e104fb12e5727d00521684e82d585
parent c4c95813b79a2e4b9c9bb530f29ac818720af925
author Oliver Gierke <info@olivergierke.de> 1314815550 +0200
committer Oliver Gierke <info@olivergierke.de> 1314815550 +0200

    DATADOC-253 - Upgraded to Spring 3.0.6.

M	spring-data-document-parent/pom.xml

commit c4c95813b79a2e4b9c9bb530f29ac818720af925
tree 90c214b77be6f96471752f291f1966bd29358563
parent bfeb1b34c139473dacce911dd36e95d5e9519bf1
author Oliver Gierke <info@olivergierke.de> 1314812464 +0200
committer Oliver Gierke <info@olivergierke.de> 1314812464 +0200

    DATADOC-199 - Added caching for MongoPersistentProperty.isIdProperty and ….getFieldName.
    
    Continuous field and annotation lookups in those methods have turned out to be some hotspots in performance tests. Added a CachingMongoPersistentProperty that delegates to the actual implementation once and caching it.

A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/CachingMongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoMappingContext.java

commit bfeb1b34c139473dacce911dd36e95d5e9519bf1
tree f5052fa91aea5378af319582dc72a5cd0c3e2649
parent 44def7dddb833d695d5b7e07c37a9228444d090a
author Mark Pollack <mpollack@vmware.com> 1314714623 -0400
committer Mark Pollack <mpollack@vmware.com> 1314714623 -0400

    DATADOC-170 - Streamlined AbstractMongoEventListener (fix test)

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/SimpleMappingEventListener.java

commit 44def7dddb833d695d5b7e07c37a9228444d090a
tree f69e5ab21496d978c00b7c34baa98d26e8c32da8
parent df10bb216803758d78f1979d4250519ed0504275
author Oliver Gierke <info@olivergierke.de> 1314650690 +0200
committer Oliver Gierke <info@olivergierke.de> 1314651883 +0200

    DATADOC-170 - Streamlined AbstractMongoEventListener.
    
    Renamed Abstract{Mapping => Mongo}EventListener. Removed generic typing for the MongoMappingEvent and stick to domain type generification only.

D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AbstractMappingEventListener.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AbstractMongoEventListener.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/LoggingEventListener.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoSpatialAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/GeoIndexedAppConfig.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/AbstractMongoEventListenerUnitTest.java

commit df10bb216803758d78f1979d4250519ed0504275
tree 9383fdbbbca42efe4a65ee2c001aeeff3abf1d00
parent f98607f5dcbe3c20303cae73fbbbe1a64051c19f
author Mark Pollack <mpollack@vmware.com> 1314643715 -0400
committer Mark Pollack <mpollack@vmware.com> 1314643715 -0400

    DATADOC-202 - Add a 'DocumentCallbackHandler' so that a callback can process each DBObject returned from a query (cherry-picking from commit 2ddc77c25e09a81ee61b3931337b35ae9a67b6e5)

A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/DocumentCallbackHandler.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit f98607f5dcbe3c20303cae73fbbbe1a64051c19f
tree e42771c5a0d7e99723bdda5de785aaf68d2d4701
parent da23133327c85e4480ce5737a787729973a57715
author Mark Pollack <mpollack@vmware.com> 1314632765 -0400
committer Mark Pollack <mpollack@vmware.com> 1314632765 -0400

    Add integration tests for mapping events

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoMappingEventPublisher.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/AfterSaveListener.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/ApplicationContextEventTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/ApplicationContextEventTestsAppConfig.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/PersonBeforeSaveListener.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/event/SimpleMappingEventListener.java

commit da23133327c85e4480ce5737a787729973a57715
tree 5cabd1e9f6296fb0727919067dc9a4f1957b336e
parent ce5046c35f519b6f51a180a013c250cd05e92e72
author Oliver Gierke <info@olivergierke.de> 1314383166 +0200
committer Oliver Gierke <info@olivergierke.de> 1314383166 +0200

    Yet another round of formatting.
    
    Added Eclipse formatter settings.

A	spring-data-mongodb/etc/eclipse-formatter.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/InvalidMongoDbApiUsageException.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoCollectionUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoDbFactory.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/UncategorizedMongoDbException.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/AbstractMongoConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MappingMongoConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoDbFactoryParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoRepositoryNamespaceHandler.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/ParsingUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/SimpleMongoRepositoryConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/CollectionOptions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoAdmin.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoDbUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOptionsFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/QueryMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SimpleMongoDbFactory.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/AbstractMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/ConfigurableTypeMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/CustomConversions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/DefaultTypeMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoConverters.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoWriter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/TypeMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/TypeMapperProvider.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/GeoResults.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Metrics.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Point.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/GeospatialIndex.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/Field.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoSimpleTypes.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/SimpleMongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/BasicQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/NearQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/monitor/AbstractMonitor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/AbstractMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MappingMongoEntityInformation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoParameters.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoParametersParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoQueryMethod.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/QueryDslMongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/QueryUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/QuerydslRepositorySupport.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/StringBasedMongoQuery.java

commit ce5046c35f519b6f51a180a013c250cd05e92e72
tree c2be3ba820f4deee7a4ef75268753ae98405daa5
parent 95245015bc605d35c9f5408c12ebf06f5c262101
author Oliver Gierke <info@olivergierke.de> 1314382838 +0200
committer Oliver Gierke <info@olivergierke.de> 1314382838 +0200

    DATADOC-63 - Added TypeMapper abstraction to customize how type information is written to a DBObject and retrieved from it.
    
    Added TypeMapper abstraction to allow plugging in a custom implementation. Current type handling logic is now in DefaultTypeMapper which additionally allows customizing the key the type information its stored under or disabling writing type info by setting the key to null.
    
    Added ConfigurableTypeMapper implementation that gets a Map configured to define Strings to be used to store type information.

A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/ConfigurableTypeMapper.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/DefaultTypeMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/TypeMapper.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/TypeMapperProvider.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/ConvertingParameterAccessor.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/ConfigurableTypeMapperUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/DefaultTypeMapperUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/StringBasedMongoQueryUnitTests.java

commit 95245015bc605d35c9f5408c12ebf06f5c262101
tree 1d7df47b777614ed94c214c035d4be8f8d6ac890
parent fc40e6b08c3bee0241b8b44c86c92ad5b739a1ef
author Oliver Gierke <info@olivergierke.de> 1314359087 +0200
committer Oliver Gierke <info@olivergierke.de> 1314359087 +0200

    DATADOC-245 - Default to custom target type if raw type is null.
    
    Really only use the custom target type in case it is a real subtype of the basic one. Before that we used the plain custom one which was is lacking generics information potentially available in the basic one.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit fc40e6b08c3bee0241b8b44c86c92ad5b739a1ef
tree f14624a1ca2375b61518c3d76cecf1d9b73afb50
parent eac5cb8c463bb04899e5aee3939fc89913cad6fa
author Oliver Gierke <info@olivergierke.de> 1314197516 +0200
committer Oliver Gierke <info@olivergierke.de> 1314197516 +0200

    DATADOC-243 - Allow db-factory-ref attribute for converter-element.

M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MappingMongoConverterParserIntegrationTests.java
A	spring-data-mongodb/src/test/resources/namespace/converter.xml

commit eac5cb8c463bb04899e5aee3939fc89913cad6fa
tree e0c3e71b4ba7b0102a3c8c01ee1a77b18e2f5475
parent 54377031bbe97e4febb8cba980c39ba0f1fbe887
author Oliver Gierke <info@olivergierke.de> 1314196278 +0200
committer Oliver Gierke <info@olivergierke.de> 1314196278 +0200

    DATADOC-247 - BigInteger ids handled properly in QueryMapper.
    
    QueryMapper now tries to convert given ids to ObjectId and String.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/QueryMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/AbstractMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryMapperUnitTests.java

commit 54377031bbe97e4febb8cba980c39ba0f1fbe887
tree 8e337a57d3bf2a534ec701b4df460a2d198c7509
parent 213963f2fffe2b0eea62276ba5dbbf1818317fa1
author Oliver Gierke <info@olivergierke.de> 1314170166 +0200
committer Oliver Gierke <info@olivergierke.de> 1314170166 +0200

    DATADOC-216 - Added ability to configure a WriteConcern on DB level.
    
    Added WriteConcern property to MongoDbFactory and expose it through the db-factory namespace element.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoDbFactory.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoDbFactoryParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/ParsingUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoDbUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SimpleMongoDbFactory.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoDbFactoryParserIntegrationTests.java
A	spring-data-mongodb/src/test/resources/namespace/db-factory-bean.xml

commit 213963f2fffe2b0eea62276ba5dbbf1818317fa1
tree dddaac583d923da135e293f6a01ec7decc34b7bb
parent 0fb21aa2a1ae63bb033fae05b465ac13b22bab50
author Oliver Gierke <info@olivergierke.de> 1313156299 +0200
committer Oliver Gierke <info@olivergierke.de> 1314125239 +0200

    DATADOC-215 - Allow configuring a WriteConcern per MongoFactoryBean.
    
    Added ability to configure a WriteConcern for an entire MongoFactoryBean and exposed the attribute via the namespace.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoFactoryBean.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoParserIntegrationTests.java
A	spring-data-mongodb/src/test/resources/namespace/mongo-bean.xml

commit 0fb21aa2a1ae63bb033fae05b465ac13b22bab50
tree ac0a18fcf93062c952abbd2ed16266367c901cf7
parent e0da98ec51a6575e68f11fd85ce44d530e501b7a
author Oliver Gierke <info@olivergierke.de> 1314099752 +0200
committer Oliver Gierke <info@olivergierke.de> 1314099752 +0200

    DATADOC-248 - Customized MappingMongoEntityInformation to allow taking a custom collection.
    
    In case a repository query method returns a domain type not assignable to the repository domain type we have to use the repositories domain type to determine the collection but still use the returned domain type to hand to the unmarshalling. Thus, we need to set up a custom MongoEntityInformation to reflect this scenario.
    
    Extended MappingMongoEntityInformation to allow manually defining a custom collection name. EntityInformationCreator was extended accordingly and MongoQueryMethod now sets up the EntityInformation accordingly.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MappingMongoEntityInformation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoQueryMethod.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoRepositoryFactoryBean.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MappingMongoEntityInformationUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoQueryMethodUnitTests.java

commit e0da98ec51a6575e68f11fd85ce44d530e501b7a
tree 72e480902c5f680e4bd15fb1733979278945c010
parent 7610246a1dccb9d454ec5f28ae616f409eeb678f
author Oliver Gierke <info@olivergierke.de> 1314027578 +0200
committer Oliver Gierke <info@olivergierke.de> 1314029722 +0200

    DATADOC-217 - Consolidated collection handling when reading.
    
    Extracted readCollectionOrArray(…) method and make sure it's used everywhere a Collection has to be read. Test cases now checks that empty collections are correctly read when using @PersistenceConstructor as well.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 7610246a1dccb9d454ec5f28ae616f409eeb678f
tree ab5bee5edd2cb79bf6ece28d34dadd4228fb30ac
parent ce59d893ba0581947fbd91880dfac98d20f08552
author Oliver Gierke <info@olivergierke.de> 1314027457 +0200
committer Oliver Gierke <info@olivergierke.de> 1314027457 +0200

    Fixed GeoResultsUnitTests.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Distance.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/GeoResults.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoResultsUnitTests.java

commit ce59d893ba0581947fbd91880dfac98d20f08552
tree 303754925c8ee965ed7833c1f2f41bbc41bb5558
parent e130fb5a2d83205b9ed5125142f134e987f5eb05
author Oliver Gierke <info@olivergierke.de> 1313937971 +0200
committer Oliver Gierke <info@olivergierke.de> 1313937971 +0200

    DATACMNS-61 - Adapted changes in Spring Data Commons.
    
    Use QueryMethod accessor methods instead of dropped Type enum to determine query execution. Added custom MongoParameters and MongoParameter to allow discovering a Distance parameter for repository queries which will transparently add a 'maxDistance' clause for *Near criterias in query methods. If the given Distance is equipped with a Metric we will rather use $nearSphere over $near.
    
    Added asList() to Point class to circumvent bug in BasicBSONObject.equals(…) which breaks equals(…) comparisons of DBObjects in case they use arrays as values. See [0] for details. Adapted usage of Point objects to use asList() over asArray().
    
    [0] https://jira.mongodb.org/browse/JAVA-416

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoParameters.java

commit e130fb5a2d83205b9ed5125142f134e987f5eb05
tree bcdd59592617a8997f18c44b457778fd5aba8a41
parent fedcbdae4feb0e623ebcf568742c6a2f7b5152de
author Oliver Gierke <info@olivergierke.de> 1313932716 +0200
committer Oliver Gierke <info@olivergierke.de> 1313932716 +0200

    DATACMNS-61 - Adapted changes in Spring Data Commons.
    
    Use QueryMethod accessor methods instead of dropped Type enum to determine query execution. Added custom MongoParameters and MongoParameter to allow discovering a Distance parameter for repository queries which will transparently add a 'maxDistance' clause for *Near criterias in query methods. If the given Distance is equipped with a Metric we will rather use $nearSphere over $near.
    
    Added asList() to Point class to circumvent bug in BasicBSONObject.equals(…) which breaks equals(…) comparisons of DBObjects in case they use arrays as values. See [0] for details. Adapted usage of Point objects to use asList() over asArray().
    
    [0] https://jira.mongodb.org/browse/JAVA-416

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Point.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/NearQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/AbstractMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/ConvertingParameterAccessor.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoParameterAccessor.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoParameters.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoParametersParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoQueryMethod.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoParametersParameterAccessorUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoParametersUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoQueryCreatorUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/StubParameterAccessor.java

commit fedcbdae4feb0e623ebcf568742c6a2f7b5152de
tree 5e9029f653785fceae196e8282660f7ae39b83e2
parent 7cd020ffa7c2a01d147818ead3a249d95989ec0b
author Oliver Gierke <info@olivergierke.de> 1311180374 +0200
committer Oliver Gierke <info@olivergierke.de> 1313855786 +0200

    DATADOC-68 - Added support for geoNear command.
    
    Introduced GeoResult value object as well as NearQuery. NearQuery allows definition of an origin and distances. Introduced a Metric interface and Metrics enum to carry commonly used metrics like kilometers and miles to ease the handling in NearQueries. Introduced Distance value object to capture distances in Metrics.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Distance.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/GeoResult.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/GeoResults.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Metric.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Metrics.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/NearQuery.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/DistanceUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoResultUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoResultsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoSpatialAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoSpatialTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/GeoIndexedAppConfig.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/NearQueryUnitTests.java

commit 7cd020ffa7c2a01d147818ead3a249d95989ec0b
tree d2c0ab4bdc434f1e836552a95ed4347d96cc362d
parent b01e1a994b96d8f4f8b56a9894731b524ba75d02
author Oliver Gierke <info@olivergierke.de> 1313839628 +0200
committer Oliver Gierke <info@olivergierke.de> 1313839628 +0200

    Removed some compiler warnings.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoOperationsUnitTests.java

commit b01e1a994b96d8f4f8b56a9894731b524ba75d02
tree c7a86687e49a3a36e3e41ad1430722b541c93a98
parent dd02338b5e96c9546ef45bedc7eacd22bd2ea492
author Oliver Gierke <info@olivergierke.de> 1313786606 +0200
committer Oliver Gierke <info@olivergierke.de> 1313786606 +0200

    DATADOC-245 - MappingMongoConverter now reads nested, untyped Maps correctly.
    
    Added some defaulting code in MappingMongoConverter that converts DBObject instances into Maps in case the raw property type is Object (see getMoreConcreteTargetType()).

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit dd02338b5e96c9546ef45bedc7eacd22bd2ea492
tree e225f6a6fa21870b1db92046cb5219a0d7c81886
parent 7084839df1b89b407519a14dd7676e4a257af677
author Oliver Gierke <info@olivergierke.de> 1313782105 +0200
committer Oliver Gierke <info@olivergierke.de> 1313782105 +0200

    DATADOC-246 - Added DBRef to Mongo simple types.
    
    General overhaul of default setup of custom Mongo simple types. MongoTemplate.doUpdate(…) transparently handles null queries now as well.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/CustomConversions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoMappingContext.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoSimpleTypes.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/CustomConversionsUnitTests.java
M	spring-data-mongodb/src/test/resources/infrastructure.xml

commit 7084839df1b89b407519a14dd7676e4a257af677
tree 4c4ac0f8ce2f333ec4b973b0699722c8f6b126cf
parent 09aad4343f4468223a85115e97561dbf495dc67f
author Oliver Gierke <info@olivergierke.de> 1313739182 +0200
committer Oliver Gierke <info@olivergierke.de> 1313739219 +0200

    DATADOC-194 - Use OSGi valid version loading a class.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java

commit 09aad4343f4468223a85115e97561dbf495dc67f
tree d4e50ee94c565da8e3978e14ad4156e417be9a14
parent c6a97ef4074722bc303e008bc30529bf481c0183
author Oliver Gierke <info@olivergierke.de> 1313497548 +0200
committer Oliver Gierke <info@olivergierke.de> 1313497548 +0200

    DATADOC-241 - Made readMap(…) protected to allow overriding.
    
    Aligned method signatures for reading and writing for consistent parameter order.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java

commit c6a97ef4074722bc303e008bc30529bf481c0183
tree c0b70314352ffdf586645655df68f7e9329ac936
parent ceac760d19dcdaaf40ad8aac5d5f1b22a6c0d039
author Oliver Gierke <info@olivergierke.de> 1313492632 +0200
committer Oliver Gierke <info@olivergierke.de> 1313492632 +0200

    DATADOC-240, DATADOC-212 - Overhaul of MongoTemplate.doUpdate(…).
    
    Replaced manual ID conversion with delegating to QueryMapper. Added ObjectId as Mongo native type to CustomConversions and added unit tests around its handling.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/CustomConversions.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/CustomConversionsUnitTests.java

commit ceac760d19dcdaaf40ad8aac5d5f1b22a6c0d039
tree 14017de2ee3aafc08fdaebfe694410c656b9a7a6
parent 244e9bc6d85983acca690113ddc988de87ebbd75
author Oliver Gierke <info@olivergierke.de> 1313156362 +0200
committer Oliver Gierke <info@olivergierke.de> 1313484044 +0200

    DATADOC-236 - MongoQueryCreator now regards the Sort object from the PartTree on query completion.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepository.java

commit 244e9bc6d85983acca690113ddc988de87ebbd75
tree a6e781680b17a7c4d4b7feaf1b3eb86ef2fd453a
parent 2016aab9690fbe21eb9f706cb8060a647607ad86
author Oliver Gierke <info@olivergierke.de> 1313483429 +0200
committer Oliver Gierke <info@olivergierke.de> 1313483450 +0200

    DATADOC-238 - Reverted change in test case that introduced side effects.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/RepositoryIndexCreationIntegrationTests.java

commit 2016aab9690fbe21eb9f706cb8060a647607ad86
tree c6a5a05550f0d3db34fdeb3945eb8a5d3a35ffe3
parent 35f180f999f68cf071b28b533206cdb67534f1ee
author Oliver Gierke <info@olivergierke.de> 1313434456 +0200
committer Oliver Gierke <info@olivergierke.de> 1313434456 +0200

    DATADOC-235 - Arbitrary Map values are now converted correctly.
    
    Map values are now handled correctly regardless of the actual Map value type declaration (can be Object in the most open case). We now handle collections as Map value types correctly. BasicDBList instances are now hinted to become Lists by default (if not typed to another collection type by the property).
    
    Reduced visibility of MappingMongoConverter.addCustomTypeKeyIfNecessary(…) and made createCollectionDBObject(…) safe against null values for the TypeInformation.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 35f180f999f68cf071b28b533206cdb67534f1ee
tree 9c4431bdf718be381bd4ccf90b0e8752ec448173
parent ad8b6fccb47b20f74d47ebd5f24bbb5d58cf0810
author Oliver Gierke <info@olivergierke.de> 1313419995 +0200
committer Oliver Gierke <info@olivergierke.de> 1313431148 +0200

    DATADOC-238 - Fixed applying pagination for manually defined queries.
    
    BasicQuery accidentally shadowed limit and skip fields of Query and introduced setters instead of builder style mutators. This caused the getters not returning the values set throughout the mutators which essentially turned off pagination for manually defined queries.
    
    Removed the shadowing and created test case. Refactored constructors.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/BasicQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/QueryUtils.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/BasicQueryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/RepositoryIndexCreationIntegrationTests.java

commit ad8b6fccb47b20f74d47ebd5f24bbb5d58cf0810
tree 1eb21ea1d6aa3cb932ebfc70461ee607b13e3c0d
parent d237ee80c82868555c9bf50f5e5912007e78eefd
author Oliver Gierke <info@olivergierke.de> 1313332509 +0200
committer Oliver Gierke <info@olivergierke.de> 1313335370 +0200

    DATADOC-237 - Index name considers field name if not configured explicitly.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreator.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/index/IndexingIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MappingTests.java

commit d237ee80c82868555c9bf50f5e5912007e78eefd
tree 6660ed21bfdee403145a95e7ca1287fe194af91a
parent eb276841ddd56598851acf6fa2fed4cbed31ace2
author Oliver Gierke <info@olivergierke.de> 1313172364 +0200
committer Oliver Gierke <info@olivergierke.de> 1313172364 +0200

    DATADOC-239 - Clarify documentation of passed in values for MongoReader.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoReader.java

commit eb276841ddd56598851acf6fa2fed4cbed31ace2
tree cb72f741e03d3a85a31f3f2a1e26435c01e8cfab
parent 1d51052ab15f392122f5ad411c1b8aa0a3995e33
author Oliver Gierke <info@olivergierke.de> 1311874353 +0200
committer Oliver Gierke <info@olivergierke.de> 1313156397 +0200

    DATADOC-214 - Cleaned up MongoConverter interface and implementations.
    
    Removed quite some obsolete methods from MongoConverter interface. Renamed maybeConvertObject(…) to convertToMongoType(…). Moved implementation of that method into MappingMongoConverter. Let the implementation transparently use custom Converters as well. Removed SimpleMongoConverter. Switched QueryMapper implementation from using a MongoConverter to use a ConversionService. Removed custom "maybe convert" logic from ConvertingParameterAccessor in favor of MongoWriter.convertToMongo(…).

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/QueryMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/AbstractMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/CustomConversions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoWriter.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/SimpleMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/SimpleMongoConverterTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryMapperUnitTests.java

commit 1d51052ab15f392122f5ad411c1b8aa0a3995e33
tree 6831ae73bad8217e16627e80d2d7353683d6a449
parent a5328da460dd8d06752034e12eeb904a57310edb
parent 58898e97c2a10d91c215ae45a4366b2681f7156e
author Mark Pollack <mark.pollack@springsource.com> 1312294186 -0700
committer Mark Pollack <mark.pollack@springsource.com> 1312294186 -0700

    Merge pull request #4 from georgecalm/master
    
    DATADOC-231: setting optional deps in the manifest to make the bundle work in an OSGi server

commit 58898e97c2a10d91c215ae45a4366b2681f7156e
tree 6831ae73bad8217e16627e80d2d7353683d6a449
parent a5328da460dd8d06752034e12eeb904a57310edb
author Yuriy Nemtsov <georgecalm@gmail.com> 1312159572 -0400
committer Yuriy Nemtsov <georgecalm@gmail.com> 1312159572 -0400

    DATADOC-231 - Making mysema.query & collections15 deps optional in the manifest

M	spring-data-mongodb/template.mf

commit a5328da460dd8d06752034e12eeb904a57310edb
tree 37afabe5c4e56b5811c1f3528f1247b5de967b6e
parent fd7e41b7536f683f9bfa7b8fe6d492a4653ee091
author Oliver Gierke <info@olivergierke.de> 1311852572 +0200
committer Oliver Gierke <info@olivergierke.de> 1311852572 +0200

    Added handling of BigInteger.
    
    Added converter to handle BigInteger values. Adapted id handling to try converting and object to String before taking the id as is. Made custom converter implementations safe against invocations with null.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/AbstractMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoConverters.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit fd7e41b7536f683f9bfa7b8fe6d492a4653ee091
tree eaa005579dd0ff4253eb1503e99815bd35080e02
parent f349f5ea10cf3d8c361a8e1df844d375184a0f1d
author Oliver Gierke <info@olivergierke.de> 1311844667 +0200
committer Oliver Gierke <info@olivergierke.de> 1311844667 +0200

    DATADOC-228 - MappingMongoConverter now writes null for map values.
    
    Fixes a NPE that one got when trying to persist a Map containing null as value for entries.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit f349f5ea10cf3d8c361a8e1df844d375184a0f1d
tree d3c1e3c4900c3d02014d5893d591ce30a662e45a
parent aa9d69d584b2aae5dca0f26257b43ba8d585a89e
author Oliver Gierke <info@olivergierke.de> 1311844593 +0200
committer Oliver Gierke <info@olivergierke.de> 1311844593 +0200

    DATADOC-226 - Added QuerydslRepositorySupport class to ease implementing repositories using Querydsl predicates.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/QueryDslMongoRepository.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/QuerydslRepositorySupport.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/QuerydslRepositorySupportUnitTests.java

commit aa9d69d584b2aae5dca0f26257b43ba8d585a89e
tree 5e432dbbf5cd7290197de2024dd55af3488eaf21
parent 764317635c43b457701e5d1f758f58467ecdc11d
author Oliver Gierke <info@olivergierke.de> 1311753356 +0200
committer Oliver Gierke <info@olivergierke.de> 1311753356 +0200

    DATADOC-225 - BasicMongoPersistentEntity doesn't reject root entities without id anymore.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentEntity.java

commit 764317635c43b457701e5d1f758f58467ecdc11d
tree 5c02be2312bb4edf65933cb211b427947ba9f6b6
parent 9ed5e6886c172b3bc14c89de8bcd64956c0db9f6
author Oliver Gierke <info@olivergierke.de> 1311753133 +0200
committer Oliver Gierke <info@olivergierke.de> 1311753133 +0200

    Fixed annotation package pattern for APT processor.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoAnnotationProcessor.java

commit 9ed5e6886c172b3bc14c89de8bcd64956c0db9f6
tree 62f992e567b4b7d28672db2ea26c872ac2d17b2d
parent 94f36d27fc2fcd0a0e56e9987d881506759b8f57
author Oliver Gierke <info@olivergierke.de> 1311716105 +0200
committer Oliver Gierke <info@olivergierke.de> 1311716105 +0200

    DATADOC-224 - Inspect value entity metadata in case it's a subtype of the declared property.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 94f36d27fc2fcd0a0e56e9987d881506759b8f57
tree cc3893ef840958fffa8910c7e0e7e27ddefb3d1d
parent a5fb4872b79012a40b4599f7d67a52e13628a259
author Oliver Gierke <info@olivergierke.de> 1311708131 +0200
committer Oliver Gierke <info@olivergierke.de> 1311708131 +0200

    Upgraded Querydsl APT plugin to 1.0.2.

M	spring-data-mongodb/pom.xml

commit a5fb4872b79012a40b4599f7d67a52e13628a259
tree 7ebc7dc526bec8e44994c0b379782be8c0f97c6c
parent 2f577c96789b9479b1a8f534f852c437c8e777df
author Oliver Gierke <info@olivergierke.de> 1311682593 +0200
committer Oliver Gierke <info@olivergierke.de> 1311707631 +0200

    DATADOC-221 - Potentially convert values of maps on reading.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 2f577c96789b9479b1a8f534f852c437c8e777df
tree 9e1989d9d46f64c87d169fc84132f3b205319eb1
parent 9bcd19866f23497460f06229d1bc180eb200b41e
author Oliver Gierke <info@olivergierke.de> 1311630278 +0200
committer Oliver Gierke <info@olivergierke.de> 1311630278 +0200

    Updated Spring Data Commons dependency to 1.2.0.BUILD-SNAPSHOT.

M	spring-data-document-parent/pom.xml

commit 9bcd19866f23497460f06229d1bc180eb200b41e
tree 98bd3a105268703353f8ba07ea1a6c115dd63086
parent 2af45518bd89bb75039738a26ad821e0b2deb94b
author Oliver Gierke <info@olivergierke.de> 1311597450 +0200
committer Oliver Gierke <info@olivergierke.de> 1311597450 +0200

    DATADOC-211 - Guard potential NullPointerException in AbstractMongoConverter.maybeConvertObject(…).
    
    Quickfix, will probably undergo a deeper cleanup as part of DATADOC-214.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/AbstractMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 2af45518bd89bb75039738a26ad821e0b2deb94b
tree eb46e9646b1ac9619b594d7e1c14f559c62e9919
parent e1daf36ed82407f680e7b7c4777e0bc3daf593f8
author Oliver Gierke <info@olivergierke.de> 1311349984 +0200
committer Oliver Gierke <info@olivergierke.de> 1311349984 +0200

    Formatting in MappingMongoConverter.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java

commit e1daf36ed82407f680e7b7c4777e0bc3daf593f8
tree d6b1c02506da8bfb3f1cecc9ed8796a8c1c3db23
parent 101064769cfeabe1c35a792060dd156248f16b44
author Oliver Gierke <info@olivergierke.de> 1311349968 +0200
committer Oliver Gierke <info@olivergierke.de> 1311349968 +0200

    DATADOC-209 - MappingMongoConverter handles collections of enums correctly now.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit 101064769cfeabe1c35a792060dd156248f16b44
tree 9f07610a77178f1d575b1a2c4680f6754c42a831
parent ac9c804aae84e0a6d8171f92db75539bff8331b9
author Oliver Gierke <info@olivergierke.de> 1311322573 +0200
committer Oliver Gierke <info@olivergierke.de> 1311322573 +0200

    DATADOC-207 - Empty custom maps get read correctly.
    
    Eagerly detect the map target type by using the TypeInformation instead of falling back to the raw Map interface.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java

commit ac9c804aae84e0a6d8171f92db75539bff8331b9
tree 94f1b30983e70706363709f104ec889dd8e4646d
parent 992f09d731723e1b83ce41b6d329552d1eb9eca8
author Oliver Gierke <info@olivergierke.de> 1311232282 +0200
committer Oliver Gierke <info@olivergierke.de> 1311232282 +0200

    DATADOC-206 - Upgraded to Querydsl 2.2.0.

M	spring-data-mongodb/pom.xml

commit 992f09d731723e1b83ce41b6d329552d1eb9eca8
tree ec076c0abfdbbda1f10f51cd7f6bc466f053b4c6
parent 4324ed82314edfb88316a8b92e8e024e342abbcb
author Oliver Gierke <info@olivergierke.de> 1311232069 +0200
committer Oliver Gierke <info@olivergierke.de> 1311232069 +0200

    Removed unused imports, polished license headers and suppres some compiler warnings.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/InvalidMongoDbApiUsageException.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/UncategorizedMongoDbException.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/AbstractMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AfterSaveEvent.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/LoggingEventListener.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoNamespaceReplicaSetTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/Friend.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoAdminIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoSpatialAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/Address.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/CustomCollectionWithIndex.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/DetectedCollectionWithIndex.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/GeneratedId.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonCustomCollection1.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonCustomCollection2.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonMultiDimArrays.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/monitor/MongoMonitorIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/Person.java

commit 4324ed82314edfb88316a8b92e8e024e342abbcb
tree f270f329fd16f22350e99912b1f4108014aa8379
parent eebe973209a5c04d42dc708ef6ceadfc09385270
author Oliver Gierke <info@olivergierke.de> 1311180374 +0200
committer Oliver Gierke <info@olivergierke.de> 1311181388 +0200

    Javadoc cleanups and a few code cleanups.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoExceptionTranslator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/QueryMapper.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MappingTests.java

commit eebe973209a5c04d42dc708ef6ceadfc09385270
tree 3d3fbce0621402c1ecd124755e89f208389cff2b
parent bb01cccac59abfc455eb0ecea64913b0464cc47e
author Oliver Gierke <info@olivergierke.de> 1310672133 +0200
committer Oliver Gierke <info@olivergierke.de> 1311181154 +0200

    Added *.sonar4clipseExternals, .springBeans and *.orig to .gitignore.
    
    Removed accidentally checked in .classpath.orig file.

M	.gitignore
D	spring-data-mongodb/.classpath.orig

commit bb01cccac59abfc455eb0ecea64913b0464cc47e
tree c92fa5c342cd67559432c8fc4fe328d1a7862ece
parent 2bdd49e3b7ed7134bd920dc5f083818e8ce18541
author Oliver Gierke <info@olivergierke.de> 1311180140 +0200
committer Oliver Gierke <info@olivergierke.de> 1311180695 +0200

    Updated architecture description to allow core package to have access to geo.

M	spring-data-mongodb/Spring Data MongoDB.sonargraph

commit 2bdd49e3b7ed7134bd920dc5f083818e8ce18541
tree 2162639d12e4c5cec17b4492d3e46746cda42225
parent f424b7c760b7d3f1222ef66cb91dc46295da0265
author Oliver Gierke <info@olivergierke.de> 1310672072 +0200
committer Oliver Gierke <info@olivergierke.de> 1310672072 +0200

    Beautify upper version ranges in manifest.

M	spring-data-mongodb/template.mf

commit f424b7c760b7d3f1222ef66cb91dc46295da0265
tree 5f477de204435be10519dacdf7fa0a7315a4949d
parent 58b9db28a884a31c37a65fdf6c7c1c960dcf85d0
author Oliver Gierke <info@olivergierke.de> 1310672051 +0200
committer Oliver Gierke <info@olivergierke.de> 1310672051 +0200

    DATADOC-166 - Check for null on removing objects.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java

commit 58b9db28a884a31c37a65fdf6c7c1c960dcf85d0
tree d43cffc76b7d44a07ee296eeebbd509ffcfa9311
parent 3e56210c783563faabbe1965864d31028fade3a2
author Oliver Gierke <info@olivergierke.de> 1310552331 +0200
committer Oliver Gierke <info@olivergierke.de> 1310553776 +0200

    Polished Sonargraph architecture description.

M	spring-data-mongodb/Spring Data MongoDB.sonargraph

commit 3e56210c783563faabbe1965864d31028fade3a2
tree 85dfa25e84b12241dd3524006d5b44fe95560ffa
parent 523612a3a966108e9629451281d38ce6297d2d17
author Oliver Gierke <info@olivergierke.de> 1310551292 +0200
committer Oliver Gierke <info@olivergierke.de> 1310551292 +0200

    Polished test cases a little.

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MappingTests.java

commit 523612a3a966108e9629451281d38ce6297d2d17
tree d939ab9f9dd95836e9a3685d39ffda1ac5933059
parent 1604c80d32894cd8716bd394669a0f955f2d968d
author Oliver Gierke <info@olivergierke.de> 1310542688 +0200
committer Oliver Gierke <info@olivergierke.de> 1310551058 +0200

    DATADOC-175 - Broke up cyclic dependencies and added architecture management file.
    
    Added initial architecture description for Sonargraph. Moved some types around and introduced core package to break up cyclic dependencies.

M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongodb/MongoChangeSetPersister.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/CrossStoreMongoTests.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/test/Resume.java
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml
A	spring-data-mongodb/Spring Data MongoDB.sonargraph
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/CollectionCallback.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/CollectionOptions.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/CursorPreparer.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/DbCallback.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/DbHolder.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoAdmin.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoAdminOperations.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoDbUtils.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoDocumentWriter.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoExceptionTranslator.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoFactoryBean.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoOperations.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoOptionsFactoryBean.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoPropertyDescriptors.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoReader.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoSynchronization.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoTemplate.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoWriter.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/SimpleMongoDbFactory.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/WriteResultChecking.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/AbstractMongoConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MappingMongoConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoDbFactoryParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoJmxParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/ParsingUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/SimpleMongoRepositoryConfiguration.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/AbstractMongoConverter.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/CustomConversions.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/MappingMongoConverter.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/MongoBeanWrapper.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/MongoConverter.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/MongoConverters.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/SimpleMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/CollectionCallback.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/CollectionOptions.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/CursorPreparer.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/DbCallback.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/DbHolder.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoAdmin.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoAdminOperations.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoDbUtils.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoDocumentWriter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoExceptionTranslator.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoFactoryBean.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOperations.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoOptionsFactoryBean.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoSynchronization.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/QueryMapper.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SimpleMongoDbFactory.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/WriteResultChecking.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/AbstractMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/CustomConversions.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoBeanWrapper.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoConverters.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoPropertyDescriptors.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoReader.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MongoWriter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/SimpleMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Box.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Circle.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/geo/Point.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/CompoundIndex.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/CompoundIndexes.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/GeoSpatialIndexed.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/GeospatialIndex.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/Index.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/IndexDefinition.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/IndexDirection.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/IndexPredicate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/Indexed.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoMappingEventPublisher.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/index/MongoPersistentEntityIndexCreator.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentEntity.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentProperty.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/DBRef.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/Document.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/Field.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoMappingContext.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoPersistentEntity.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/MongoPersistentProperty.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/SimpleMongoMappingContext.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AbstractMappingEventListener.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AfterConvertEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AfterLoadEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/AfterSaveEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/BeforeConvertEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/BeforeSaveEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/LoggingEventListener.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/mapping/event/MongoMappingEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/package-info.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/BasicQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/BasicUpdate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Criteria.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/CriteriaDefinition.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Field.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/NorCriteria.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/NorQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/OrCriteria.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/OrQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Order.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Query.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Sort.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/Update.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/query/package-info.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/geo/Box.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/geo/Circle.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/geo/Point.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/index/CompoundIndex.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/index/CompoundIndexes.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/index/GeoSpatialIndexed.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/index/IndexDefinition.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/index/IndexDirection.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/index/IndexPredicate.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/index/Indexed.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/BasicMongoPersistentEntity.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/BasicMongoPersistentProperty.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/DBRef.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/Document.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/Field.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/MongoMappingContext.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/MongoPersistentEntity.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/MongoPersistentEntityIndexCreator.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/MongoPersistentProperty.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/SimpleMongoMappingContext.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/AbstractMappingEventListener.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/AfterConvertEvent.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/AfterLoadEvent.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/AfterSaveEvent.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/BeforeConvertEvent.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/BeforeSaveEvent.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/LoggingEventListener.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/MongoMappingEvent.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/MongoMappingEventPublisher.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/monitor/AbstractMonitor.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/package-info.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/BasicQuery.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/BasicUpdate.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/Criteria.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/CriteriaDefinition.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/Field.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/GeospatialIndex.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/Index.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/NorCriteria.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/NorQuery.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/OrCriteria.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/OrQuery.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/Order.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/Query.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/QueryMapper.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/Sort.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/Update.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/package-info.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/AbstractMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MappingMongoEntityInformation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoAnnotationProcessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/PartTreeMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/QueryDslMongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/QueryUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/StringBasedMongoQuery.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/Friend.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/GeoSpatialAppConfig.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/GeoSpatialTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/JmxServer.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/Message.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/MongoAdminIntegrationTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/MongoOperationsUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/MongoTemplateMappingTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/MongoTemplateTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/MongoTemplateUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/Person.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonExample.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonExampleAppConfig.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonReadConverter.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWithAList.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWithIdPropertyOfPrimitiveInt.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWithIdPropertyOfPrimitiveLong.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWithIdPropertyOfTypeInteger.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWithIdPropertyOfTypeLong.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWithIdPropertyOfTypeObjectId.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWithIdPropertyOfTypeString.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWith_idPropertyOfTypeObjectId.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWith_idPropertyOfTypeString.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWriteConverter.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/Portfolio.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/SimpleMongoConverterTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/SomeEnumTest.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/TestMongoConfiguration.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/Trade.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/TradeBatch.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/User.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/Venue.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoNamespaceReplicaSetTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoNamespaceTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/convert/CustomConversionsUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/convert/CustomConvertersUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/convert/MappingMongoConverterUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/convert/MongoConvertersUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/Friend.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/JmxServer.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/Message.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoAdminIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoOperationsUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateMappingTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/MongoTemplateUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/Person.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/PersonExample.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/PersonExampleAppConfig.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/PersonReadConverter.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/PersonWithAList.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/PersonWithIdPropertyOfPrimitiveInt.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/PersonWithIdPropertyOfPrimitiveLong.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/PersonWithIdPropertyOfTypeInteger.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/PersonWithIdPropertyOfTypeLong.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/PersonWithIdPropertyOfTypeObjectId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/PersonWithIdPropertyOfTypeString.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/PersonWith_idPropertyOfTypeObjectId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/PersonWith_idPropertyOfTypeString.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/PersonWriteConverter.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/Portfolio.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/SimpleMongoConverterTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/SomeEnumTest.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/TestMongoConfiguration.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/Trade.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/TradeBatch.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/User.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/Venue.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/CustomConversionsUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/CustomConvertersUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MappingMongoConverterUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/convert/MongoConvertersUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/BoxUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoSpatialAppConfig.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/GeoSpatialTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/geo/PointUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/Account.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/AccountPojo.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/Address.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/BasePerson.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentEntityUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/BasicMongoPersistentPropertyUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/CustomCollectionWithIndex.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/DetectedCollectionWithIndex.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/GeneratedId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/GenericMappingTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/GeoIndexedAppConfig.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/GeoIndexedTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/GeoLocation.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/Location.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MappingTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MongoMappingContextUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/MongoPersistentPropertyComparatorUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/Person.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonCustomCollection1.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonCustomCollection2.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonCustomIdName.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonMapProperty.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonMultiCollection.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonMultiDimArrays.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonNullProperties.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonPojoIntId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonPojoLongId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonPojoStringId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonSimpleList.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonWithDbRef.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonWithLongDBRef.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PersonWithObjectId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/PrimitiveId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/mapping/SimpleMappingContextUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/CriteriaTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/IndexTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryMapperUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/QueryTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/SortTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/query/UpdateTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/geo/BoxUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/geo/PointUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/Account.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/AccountPojo.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/Address.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/BasePerson.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/BasicMongoPersistentEntityUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/BasicMongoPersistentPropertyUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/CustomCollectionWithIndex.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/DetectedCollectionWithIndex.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/GeneratedId.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/GenericMappingTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/GeoIndexedAppConfig.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/GeoIndexedTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/GeoLocation.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/Location.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/MappingTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/MongoMappingContextUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/MongoPersistentPropertyComparatorUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/Person.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonCustomCollection1.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonCustomCollection2.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonCustomIdName.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonMapProperty.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonMultiCollection.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonMultiDimArrays.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonNullProperties.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonPojoIntId.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonPojoLongId.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonPojoStringId.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonSimpleList.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonWithDbRef.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonWithLongDBRef.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonWithObjectId.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PrimitiveId.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/SimpleMappingContextUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/query/CriteriaTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/query/IndexTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/query/QueryMapperUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/query/QueryTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/query/SortTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/query/UpdateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/Contact.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoQueryCreatorUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoRepositoryFactoryBeanUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoRepositoryFactoryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/RepositoryIndexCreationIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/StringBasedMongoQueryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/StubParameterAccessor.java
M	spring-data-mongodb/src/test/resources/geospatial.xml
M	spring-data-mongodb/src/test/resources/infrastructure.xml
M	spring-data-mongodb/src/test/resources/mapping.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/config/MongoNamespaceTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/monitor/MongoMonitorIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/repository/PersonRepositoryIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/repository/RepositoryIndexCreationIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/template-mapping.xml
M	spring-data-mongodb/template.mf

commit 1604c80d32894cd8716bd394669a0f955f2d968d
tree f583cbf1af6a5fbacf28fee67b2bfc109f2c2815
parent d27a1ad310355d02cb767508291069ca0db5da1b
author Jon Brisbin <jon@jbrisbin.com> 1310483890 -0500
committer J. Brisbin <jon@jbrisbin.com> 1310483890 -0500

    DATADOC-176 - Added test case to make sure non-ObjectIds can be used in DBRefs

M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/MappingTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonWithLongDBRef.java

commit d27a1ad310355d02cb767508291069ca0db5da1b
tree 93d09451670bd28aea29e518dd67d26c7af9ff25
parent d2cca2c52a65c9b0ad58ea6070d80275d5d4ca6c
author Jon Brisbin <jon@jbrisbin.com> 1310481211 -0500
committer J. Brisbin <jon@jbrisbin.com> 1310481211 -0500

    DATADOC-176 - Changed from using ObjectId to using Object for IDs in DBRefs.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/MappingMongoConverter.java

commit d2cca2c52a65c9b0ad58ea6070d80275d5d4ca6c
tree 6ca3c1bc3da04ed74cb0bdba73593a9cda1baaa6
parent ce0539a3dc454d2c7b79f3d74b4e0a7f0b142855
author Oliver Gierke <info@olivergierke.de> 1310124160 +0200
committer Oliver Gierke <info@olivergierke.de> 1310124168 +0200

    DATADOC-192 - Tweak Array handling in processing collection-like structures in MappingMongoConverter.
    
    Fixes broken tests.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/MappingMongoConverter.java

commit ce0539a3dc454d2c7b79f3d74b4e0a7f0b142855
tree 5b379153e7ea488e793a4bc4ca6ee9bbb60f8d34
parent 4b4c35b904214076c45987ba396098aa6c2a0b3a
author Oliver Gierke <info@olivergierke.de> 1310123065 +0200
committer Oliver Gierke <info@olivergierke.de> 1310123065 +0200

    DATADOC-192 - MappingMongoConverter handles collections correctly now.
    
    Replaced hard coded List creation with delegate to Spring's CollectionFactory. Although the List should get converted before setting the value we can prevent that additional step by looking up the correct collection type upfront.

M	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/convert/MappingMongoConverterUnitTests.java

commit 4b4c35b904214076c45987ba396098aa6c2a0b3a
tree 029bad636ae8cf41a83c58a9e0742008bd3ffac0
parent f0df16a3409864158c194a0437aadbc34c141604
author Oliver Gierke <info@olivergierke.de> 1310117143 +0200
committer Oliver Gierke <info@olivergierke.de> 1310117143 +0200

    DATADOC-191 - Removed 'document' from package names.
    
    Polished template.mf as well by using Maven version placeholders.

M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongodb/MongoChangeSetPersister.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/CrossStoreMongoTests.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/test/Resume.java
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml
M	spring-data-mongodb/pom.xml
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CannotGetMongoDbConnectionException.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CollectionCallback.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CollectionOptions.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CursorPreparer.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/DbCallback.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/DbHolder.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/InvalidMongoDbApiUsageException.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoAdmin.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoAdminOperations.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoCollectionUtils.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbFactory.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbUtils.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDocumentWriter.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoExceptionTranslator.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoFactoryBean.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOptionsFactoryBean.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoPropertyDescriptors.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoReader.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoSynchronization.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoWriter.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoDbFactory.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/UncategorizedMongoDbException.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/WriteResultChecking.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/AbstractMongoConfiguration.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/BeanNames.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MappingMongoConverterParser.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoDbFactoryParser.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoJmxParser.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoParser.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryConfigParser.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryNamespaceHandler.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/ParsingUtils.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/SimpleMongoRepositoryConfiguration.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/package-info.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/AbstractMongoConverter.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/CustomConversions.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MongoBeanWrapper.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MongoConverter.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MongoConverters.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Box.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Circle.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Point.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/CompoundIndex.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/CompoundIndexes.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/GeoSpatialIndexed.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/IndexDefinition.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/IndexDirection.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/IndexPredicate.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/Indexed.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentEntity.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentProperty.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/DBRef.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/Document.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/Field.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingContext.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntity.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntityIndexCreator.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentProperty.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/SimpleMongoMappingContext.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/AbstractMappingEventListener.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/AfterConvertEvent.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/AfterLoadEvent.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/AfterSaveEvent.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/BeforeConvertEvent.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/BeforeSaveEvent.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/LoggingEventListener.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/MongoMappingEvent.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/MongoMappingEventPublisher.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/AbstractMonitor.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/AssertMetrics.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/BackgroundFlushingMetrics.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/BtreeIndexCounters.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/ConnectionMetrics.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/GlobalLockMetrics.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/MemoryMetrics.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/OperationCounters.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/ServerInfo.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/package-info.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/package-info.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicQuery.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicUpdate.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/CriteriaDefinition.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Field.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/GeospatialIndex.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Index.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/NorCriteria.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/NorQuery.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/OrCriteria.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/OrQuery.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Order.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Query.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryMapper.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Sort.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Update.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/package-info.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/AbstractMongoQuery.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/ConvertingParameterAccessor.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MappingMongoEntityInformation.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoAnnotationProcessor.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoEntityInformation.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryMethod.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepository.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/PartTreeMongoQuery.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/Query.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryDslMongoRepository.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryUtils.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQuery.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/package-info.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/CannotGetMongoDbConnectionException.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/CollectionCallback.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/CollectionOptions.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/CursorPreparer.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/DbCallback.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/DbHolder.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/InvalidMongoDbApiUsageException.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoAdmin.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoAdminOperations.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoCollectionUtils.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoDbFactory.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoDbUtils.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoDocumentWriter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoExceptionTranslator.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoFactoryBean.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoOperations.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoOptionsFactoryBean.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoPropertyDescriptors.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoReader.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoSynchronization.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoTemplate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/MongoWriter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/SimpleMongoDbFactory.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/UncategorizedMongoDbException.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/WriteResultChecking.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/AbstractMongoConfiguration.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/BeanNames.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MappingMongoConverterParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoDbFactoryParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoJmxParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoRepositoryConfigParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoRepositoryNamespaceHandler.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/ParsingUtils.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/SimpleMongoRepositoryConfiguration.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/package-info.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/AbstractMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/CustomConversions.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/MappingMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/MongoBeanWrapper.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/MongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/MongoConverters.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/convert/SimpleMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/geo/Box.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/geo/Circle.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/geo/Point.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/index/CompoundIndex.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/index/CompoundIndexes.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/index/GeoSpatialIndexed.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/index/IndexDefinition.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/index/IndexDirection.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/index/IndexPredicate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/index/Indexed.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/BasicMongoPersistentEntity.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/BasicMongoPersistentProperty.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/DBRef.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/Document.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/Field.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/MongoMappingContext.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/MongoPersistentEntity.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/MongoPersistentEntityIndexCreator.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/MongoPersistentProperty.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/SimpleMongoMappingContext.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/AbstractMappingEventListener.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/AfterConvertEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/AfterLoadEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/AfterSaveEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/BeforeConvertEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/BeforeSaveEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/LoggingEventListener.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/MongoMappingEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/mapping/event/MongoMappingEventPublisher.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/monitor/AbstractMonitor.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/monitor/AssertMetrics.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/monitor/BackgroundFlushingMetrics.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/monitor/BtreeIndexCounters.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/monitor/ConnectionMetrics.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/monitor/GlobalLockMetrics.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/monitor/MemoryMetrics.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/monitor/OperationCounters.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/monitor/ServerInfo.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/monitor/package-info.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/package-info.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/BasicQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/BasicUpdate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/Criteria.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/CriteriaDefinition.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/Field.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/GeospatialIndex.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/Index.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/NorCriteria.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/NorQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/OrCriteria.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/OrQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/Order.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/Query.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/QueryMapper.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/Sort.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/Update.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/query/package-info.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/AbstractMongoQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/ConvertingParameterAccessor.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MappingMongoEntityInformation.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoAnnotationProcessor.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoEntityInformation.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoQueryCreator.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoQueryMethod.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoRepository.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/MongoRepositoryFactoryBean.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/PartTreeMongoQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/Query.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/QueryDslMongoRepository.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/QueryUtils.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/SimpleMongoRepository.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/StringBasedMongoQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/package-info.java
M	spring-data-mongodb/src/main/resources/META-INF/spring.handlers
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Friend.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialAppConfig.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/JmxServer.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Message.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoAdminIntegrationTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateMappingTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Person.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonExample.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonExampleAppConfig.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonReadConverter.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithAList.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfPrimitiveInt.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfPrimitiveLong.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfTypeInteger.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfTypeLong.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfTypeObjectId.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfTypeString.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWith_idPropertyOfTypeObjectId.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWith_idPropertyOfTypeString.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWriteConverter.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Portfolio.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SomeEnumTest.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/TestMongoConfiguration.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Trade.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/TradeBatch.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/User.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Venue.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/config/MongoNamespaceReplicaSetTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/config/MongoNamespaceTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/config/NamespaceTestSupport.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/convert/CustomConversionsUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/convert/CustomConvertersUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/convert/MappingMongoConverterUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/convert/MongoConvertersUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/geo/BoxUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/geo/PointUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Account.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/AccountPojo.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Address.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/BasePerson.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentEntityUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentPropertyUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/CustomCollectionWithIndex.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/DetectedCollectionWithIndex.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeneratedId.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GenericMappingTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoIndexedAppConfig.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoIndexedTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoLocation.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Location.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MongoMappingContextUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MongoPersistentPropertyComparatorUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Person.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonCustomCollection1.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonCustomCollection2.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonCustomIdName.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonMapProperty.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonMultiCollection.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonMultiDimArrays.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonNullProperties.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonPojoIntId.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonPojoLongId.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonPojoStringId.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonSimpleList.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonWithDbRef.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonWithObjectId.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PrimitiveId.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/SimpleMappingContextUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/monitor/MongoMonitorIntegrationTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/CriteriaTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/IndexTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryMapperUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/SortTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/UpdateTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Address.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Contact.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/ContactRepository.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/ContactRepositoryIntegrationTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoQueryCreatorUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBeanUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Person.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/RepositoryIndexCreationIntegrationTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQueryUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StubParameterAccessor.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/Friend.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/GeoSpatialAppConfig.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/GeoSpatialTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/JmxServer.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/Message.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/MongoAdminIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/MongoOperationsUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/MongoTemplateMappingTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/MongoTemplateTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/MongoTemplateUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/Person.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonExample.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonExampleAppConfig.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonReadConverter.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWithAList.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWithIdPropertyOfPrimitiveInt.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWithIdPropertyOfPrimitiveLong.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWithIdPropertyOfTypeInteger.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWithIdPropertyOfTypeLong.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWithIdPropertyOfTypeObjectId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWithIdPropertyOfTypeString.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWith_idPropertyOfTypeObjectId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWith_idPropertyOfTypeString.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/PersonWriteConverter.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/Portfolio.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/SimpleMongoConverterTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/SomeEnumTest.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/TestMongoConfiguration.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/Trade.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/TradeBatch.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/User.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/Venue.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoNamespaceReplicaSetTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/MongoNamespaceTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/config/NamespaceTestSupport.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/convert/CustomConversionsUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/convert/CustomConvertersUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/convert/MappingMongoConverterUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/convert/MongoConvertersUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/geo/BoxUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/geo/PointUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/Account.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/AccountPojo.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/Address.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/BasePerson.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/BasicMongoPersistentEntityUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/BasicMongoPersistentPropertyUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/CustomCollectionWithIndex.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/DetectedCollectionWithIndex.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/GeneratedId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/GenericMappingTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/GeoIndexedAppConfig.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/GeoIndexedTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/GeoLocation.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/Location.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/MappingTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/MongoMappingContextUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/MongoPersistentPropertyComparatorUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/Person.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonCustomCollection1.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonCustomCollection2.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonCustomIdName.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonMapProperty.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonMultiCollection.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonMultiDimArrays.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonNullProperties.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonPojoIntId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonPojoLongId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonPojoStringId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonSimpleList.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonWithDbRef.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PersonWithObjectId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/PrimitiveId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/mapping/SimpleMappingContextUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/monitor/MongoMonitorIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/query/CriteriaTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/query/IndexTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/query/QueryMapperUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/query/QueryTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/query/SortTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/query/UpdateTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/Address.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/Contact.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/ContactRepository.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/ContactRepositoryIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoQueryCreatorUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoRepositoryFactoryBeanUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/MongoRepositoryFactoryUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/Person.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepository.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/PersonRepositoryIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/RepositoryIndexCreationIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/StringBasedMongoQueryUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/StubParameterAccessor.java
A	spring-data-mongodb/src/test/java/org/springframework/data/mongodb/repository/config/MongoNamespaceIntegrationTests.java
M	spring-data-mongodb/src/test/resources/geospatial.xml
M	spring-data-mongodb/src/test/resources/infrastructure.xml
M	spring-data-mongodb/src/test/resources/mapping.xml
D	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/MongoBeanPropertyDocumentMapper-context.xml
D	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/MongoNamespaceReplicaSetTests-context.xml
D	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/MongoNamespaceTests-context.xml
D	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/mongo.properties
D	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/monitor/MongoMonitorIntegrationTests-context.xml
D	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml
D	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/RepositoryIndexCreationIntegrationTests-context.xml
D	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml
A	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/MongoBeanPropertyDocumentMapper-context.xml
A	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/config/MongoNamespaceReplicaSetTests-context.xml
A	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/config/MongoNamespaceTests-context.xml
A	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/config/mongo.properties
A	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/monitor/MongoMonitorIntegrationTests-context.xml
A	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/repository/PersonRepositoryIntegrationTests-context.xml
A	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/repository/RepositoryIndexCreationIntegrationTests-context.xml
A	spring-data-mongodb/src/test/resources/org/springframework/data/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/template-mapping.xml
M	spring-data-mongodb/template.mf

commit f0df16a3409864158c194a0437aadbc34c141604
tree 5a8089de3d07ff4065371725efe79f77c60e3487
parent a9670de9591454272200c2659a6eb9aff8d6d689
author Oliver Gierke <info@olivergierke.de> 1310115606 +0200
committer Oliver Gierke <info@olivergierke.de> 1310115606 +0200

    Added more unit tests for Box.

A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/geo/BoxUnitTests.java

commit a9670de9591454272200c2659a6eb9aff8d6d689
tree 94ed3e462f71cfb5b801432308b29278e6dabd7a
parent 2d5f41f65ccb5e3cde3f2b2979ede96406ecdfe0
author Oliver Gierke <info@olivergierke.de> 1310113425 +0200
committer Oliver Gierke <info@olivergierke.de> 1310113425 +0200

    DATADOC-134 - Added test case to show indexes with unique flag work.

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Person.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml

commit 2d5f41f65ccb5e3cde3f2b2979ede96406ecdfe0
tree a105223819132b47dd8e28cfaad5f067db744e40
parent 2e3f2c602c93de910d08336c3c983d26365dee25
author Oliver Gierke <info@olivergierke.de> 1310067354 +0200
committer Oliver Gierke <info@olivergierke.de> 1310067354 +0200

    DATADOC-171 - Convert BigDecimals to String by default.
    
    Unfortunately MongoDB can't handle BigDecimal instances by default thus we have to provide a default serialization. We do by simply serializing it into a String and reading it back. Can be customized to register a custom Converter with the MongoConverter.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/AbstractMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/CustomConversions.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MongoConverters.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/ObjectIdConverters.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/convert/MappingMongoConverterUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/convert/MongoConvertersUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java

commit 2e3f2c602c93de910d08336c3c983d26365dee25
tree 312172db962d3592923e479e13b890da0e74526c
parent a2687b668802d0925953ae7fa7951ef576f94b0c
author Oliver Gierke <info@olivergierke.de> 1310061136 +0200
committer Oliver Gierke <info@olivergierke.de> 1310061136 +0200

    Made integration test less aggressive in cleaning up to avoid inter-test collisions.

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/RepositoryIndexCreationIntegrationTests.java

commit a2687b668802d0925953ae7fa7951ef576f94b0c
tree 6416667ddcf1ae8ea558218abf7324310e65e10b
parent e89ea320bcaba2b96e5a9e941561188a5d7de630
author Oliver Gierke <info@olivergierke.de> 1310037745 +0200
committer Oliver Gierke <info@olivergierke.de> 1310037745 +0200

    DATADOC-188 - Allow controlling repository index creation.
    
    Disabled index creation for repository query methods by default. Added property on MongoRepositoryFactoryBean to enable index creation and expose that via 'create-query-indexes' attribute on the namespace.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryConfigParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/SimpleMongoRepositoryConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBeanUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/RepositoryIndexCreationIntegrationTests.java
A	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/RepositoryIndexCreationIntegrationTests-context.xml

commit e89ea320bcaba2b96e5a9e941561188a5d7de630
tree 45397d63eccdb98fd64dd9cffbba9318117d6c1b
parent df24218a4fbcf6bc36ea1957f043c1c76762c81c
author Oliver Gierke <info@olivergierke.de> 1310037288 +0200
committer Oliver Gierke <info@olivergierke.de> 1310037288 +0200

    Added @NoRepositoryBean to MongoRepository to prevent it being accidentally picked up during class path scanning.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepository.java

commit df24218a4fbcf6bc36ea1957f043c1c76762c81c
tree 2c5df4a8e2243c01959924a33540b56dead609e5
parent 2d09b8b7d16a5a13999cf2d9daf71b31b942ccfa
author Oliver Gierke <info@olivergierke.de> 1310028414 +0200
committer Oliver Gierke <info@olivergierke.de> 1310028414 +0200

    DATADOC-189 - Improved extensibility of MongoRepositoryFactoryBean.
    
    Creation of MongoRepositoryFactory is now delegated into a template method that gets a MongoTemplate handed over.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java

commit 2d09b8b7d16a5a13999cf2d9daf71b31b942ccfa
tree dbb9bdf7ff15c1879cf1e360bc985072a4c4670a
parent dd06973f50eef3eb67602fefe6bc773615c9f3a7
author Oliver Gierke <info@olivergierke.de> 1310017515 +0200
committer Oliver Gierke <info@olivergierke.de> 1310017515 +0200

    DATADOC-186 - Ensure index property order.
    
    Use LinkedHashMap inside Index to make sure properties added are kept in the order of the addition.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Index.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/IndexTests.java

commit dd06973f50eef3eb67602fefe6bc773615c9f3a7
tree adb4ff7b5d716c25f6fba2db76d9894858746866
parent 2256ebac1bf0c82f2030d1b89209e4c0876c846f
author Oliver Gierke <info@olivergierke.de> 1309974551 +0200
committer Oliver Gierke <info@olivergierke.de> 1309974551 +0200

    DATADOC-190 - SimpleMongoRepository.exists(…) now works for entities with non-ObjectId id type.
    
    Changed the implementation of the exists(…) method to make sure the query is handed to the QueryMapper to convert the id appropriately before executing the query.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Contact.java

commit 2256ebac1bf0c82f2030d1b89209e4c0876c846f
tree ffc9cc4b39829beb0be39b1bdef7c559a40b00cf
parent f4373957b348eb744ee930d3ab74701269279371
author Oliver Gierke <info@olivergierke.de> 1309972164 +0200
committer Oliver Gierke <info@olivergierke.de> 1309972164 +0200

    DATADOC-172 - Allow defining property order for document mapping.
    
    Entities can now use @Field annotation to define the order using the order attribute. We will simply start with the lower values and proceed to the higher ones. Unannotated properties are ordered behind all annotated (and order declared) ones. One might not assume any particular order for fields where the order is not manually defined.
    
    Removed @FieldName as it is superseeded by @Field.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Box.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Point.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentProperty.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/Field.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/FieldName.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/SimpleMongoMappingContext.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentPropertyUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MongoPersistentPropertyComparatorUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java

commit f4373957b348eb744ee930d3ab74701269279371
tree 4abb722428a9f3ff19c088d6e5731ac788363ad9
parent af0cd9049ad67480a0089170ed9b97f53c3b970b
author Oliver Gierke <info@olivergierke.de> 1309959562 +0200
committer Oliver Gierke <info@olivergierke.de> 1309959562 +0200

    DATADOC-177 - Sort now preserves order of individual sort properties.
    
    Using a LinkedHashMap now to preserve the order of properties to be sorted upon.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Sort.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/SortTests.java

commit af0cd9049ad67480a0089170ed9b97f53c3b970b
tree a6b98896b334874d6a89ae4b9e3a2ad0c8756d1c
parent 99edcb82cf38c5fd37d280d9c227ccb1b25627bb
author Thomas Risberg <trisberg@vmware.com> 1308933917 -0400
committer Thomas Risberg <trisberg@vmware.com> 1308933917 -0400

    DATADOC-178 removed System.out.println statement

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java

commit 99edcb82cf38c5fd37d280d9c227ccb1b25627bb
tree 1376bdee0f5dff3f3320b4a21fc2de1dca457bd9
parent 7a98877e75dd58fa294747fcf8f6cea0f2f012f8
author Thomas Risberg <trisberg@vmware.com> 1308930628 -0400
committer Thomas Risberg <trisberg@vmware.com> 1308930628 -0400

    reformatted code to use tabs

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoDbFactory.java

commit 7a98877e75dd58fa294747fcf8f6cea0f2f012f8
tree 23e8051231825db004cc9098c4c262577315a9a5
parent d856a7cad9bd15876e4917140a83a646e2b3f189
author Thomas Risberg <trisberg@vmware.com> 1308930342 -0400
committer Thomas Risberg <trisberg@vmware.com> 1308930342 -0400

    DATADOC-181 added destroy() method and DisposableBean interface to call close on Mongo

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoDbFactory.java

commit d856a7cad9bd15876e4917140a83a646e2b3f189
tree 681946cdfd07afe1aea74c0bf5128a037fa9bcf8
parent c1b396cca5650110a785d88107e7dad38f954689
author Oliver Gierke <info@olivergierke.de> 1308849142 +0200
committer Oliver Gierke <info@olivergierke.de> 1308849142 +0200

    DATACMNS-49, DATADOC-100 - Allow externalizing Mongo repository queries.
    
    Adapted changes in Spring Data Commons for DATACMNS-49. We now automatically pick up classpath*:META-INF/mongo-named-queries.properties to find named queries when using the namespace. See AbstractMongoRepositoryIntegrationTests.findsPeopleByNamedQuery() for sample.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/SimpleMongoRepositoryConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQuery.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java
A	spring-data-mongodb/src/test/resources/META-INF/mongo-named-queries.properties
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml

commit c1b396cca5650110a785d88107e7dad38f954689
tree 5064d024732a2cee454660b9ba56740b21f635c5
parent 2e86012b3f45afedcc5cd3cf74e25c4f08ab25e1
author Oliver Gierke <info@olivergierke.de> 1308335293 +0200
committer Oliver Gierke <info@olivergierke.de> 1308335293 +0200

    Replaced custom implementation over usage of TypeInformation.getActualType().

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java

commit 2e86012b3f45afedcc5cd3cf74e25c4f08ab25e1
tree 9286b95d3f0444125f4c60a407645324556986e6
parent 538a62efce24521353534a41a84f25d78b2d29a5
author Oliver Gierke <info@olivergierke.de> 1308021936 -0700
committer Oliver Gierke <info@olivergierke.de> 1308021936 -0700

    Lowered log level to speed up test execution.

M	spring-data-mongodb/src/test/resources/log4j.properties

commit 538a62efce24521353534a41a84f25d78b2d29a5
tree 04689b5e8a86773686eb96c2da2304eaf67c0cbf
parent 3573851bfc1c803977717668d8e11d3e5eafd3d5
author Oliver Gierke <info@olivergierke.de> 1308021915 -0700
committer Oliver Gierke <info@olivergierke.de> 1308021915 -0700

    Adapted package refactorings in Spring Data Commons.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/CustomConversions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/SimpleMongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/AfterSaveEvent.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MappingMongoEntityInformation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoEntityInformation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryMethod.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryDslMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentPropertyUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/SimpleMappingContextUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQueryUnitTests.java

commit 3573851bfc1c803977717668d8e11d3e5eafd3d5
tree e277c934d87fe95c28ed6edf4cb09ec81a1ccff5
parent e47ddf4bf27285f0da146401039b72a992f20d19
author Oliver Gierke <info@olivergierke.de> 1308001987 -0700
committer Oliver Gierke <info@olivergierke.de> 1308001987 -0700

    Polishing.
    
    Removed obsolete methods from MappingMongoConverter exposing internals. Added JavaDoc here and there. Polished GeospatialIndex value object and added some assertions to it. Fixed generics warnings in GeoIndexedAppConfig.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/GeospatialIndex.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoIndexedAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoIndexedTests.java

commit e47ddf4bf27285f0da146401039b72a992f20d19
tree c639a1473fd6e47ef47e46296c497d2fde13bde4
parent c59711a4096d9bc124f4c3f1e0a94a1c1e77e69a
author Oliver Gierke <info@olivergierke.de> 1307996613 -0700
committer Oliver Gierke <info@olivergierke.de> 1307996706 -0700

    Polished MonogoPersistentEntityIndexCreator.
    
    Fixed generics warnings and the index key being set to the field name in any case now. setting the index name is now only affecting the name.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntityIndexCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/MongoMappingEventPublisher.java

commit c59711a4096d9bc124f4c3f1e0a94a1c1e77e69a
tree 166c600d430d04c5f0fcd8dc1ec8c470640940ec
parent b1ab3f6adef8a20ba6caec7cbe118ba98d7edcf4
author Oliver Gierke <info@olivergierke.de> 1307996639 -0700
committer Oliver Gierke <info@olivergierke.de> 1307996683 -0700

    Use findOne(…) for single entity queries inside repository abstraction.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/AbstractMongoQuery.java

commit b1ab3f6adef8a20ba6caec7cbe118ba98d7edcf4
tree 0d9cc3b759f162f87a66380259f1ea34450f1f46
parent fa094eef2514fa5aa0fbf54f056a30133938eda7
author Oliver Gierke <info@olivergierke.de> 1307983698 -0700
committer Oliver Gierke <info@olivergierke.de> 1307983991 -0700

    DATADOC-162 - Added more test cases around Point class.

A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/geo/PointUnitTests.java

commit fa094eef2514fa5aa0fbf54f056a30133938eda7
tree c19268c55f44606886a8de6b9695e30fdbd0638b
parent 8ac2ff6b81ece69029d280e73a629a43fc9ecd46
author Thomas Risberg <trisberg@vmware.com> 1307710908 -0400
committer Thomas Risberg <trisberg@vmware.com> 1307710916 -0400

    DATADOC-162 fixed formatting in toString method

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Point.java

commit 8ac2ff6b81ece69029d280e73a629a43fc9ecd46
tree eb77af6aee3617ac50cf5cea575c51e6c7b9f2b1
parent 46d6dffdd46c5b29addc76170de614ad3bfe3121
author Oliver Gierke <info@olivergierke.de> 1307662504 -0700
committer Oliver Gierke <info@olivergierke.de> 1307662504 -0700

    DATACMNS-169 - Revised custom converter handling.
    
    Registering custom converts now automatically declares the custom handled types simple by using the SimpleTypeHolder built up by the CustomConversions instance. All the custom converter lookup logic is now in CustomConversions and AbstractMongoConverter uses that over handling it itself.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MappingMongoConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/AbstractMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/CustomConversions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/SimpleMongoMappingContext.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/TestMongoConfiguration.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/convert/CustomConversionsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/convert/CustomConvertersUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentPropertyUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/resources/template-mapping.xml

commit 46d6dffdd46c5b29addc76170de614ad3bfe3121
tree 29a071be95c9b54d5d38d9c1cfb7024b2679d9a6
parent 06632cc3aebcbbc0aee6ba2cc2801e763bdc59d0
author Oliver Gierke <info@olivergierke.de> 1307472173 -0700
committer Oliver Gierke <info@olivergierke.de> 1307472173 -0700

    DATADOC-167 - @Documentation annotation is now inherited into subclasses

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/Document.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentEntityUnitTests.java
M	src/main/resources/changelog.txt

commit 06632cc3aebcbbc0aee6ba2cc2801e763bdc59d0
tree e6d2a098f519b10ce6d9c923be44c1aaffd17468
parent df0427442a5ba8421a45f93e0ccdfab88a17fef2
author Oliver Gierke <info@olivergierke.de> 1307396766 -0700
committer Oliver Gierke <info@olivergierke.de> 1307396766 -0700

    DATACMNS-42 - Fixed some bugs in nested collection handling.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java

commit df0427442a5ba8421a45f93e0ccdfab88a17fef2
tree fe6dd11531a6be15a897086acdf18e742ffa1b28
parent eb20aea7fe6d94831262d610ad260d8c9b825880
author Oliver Gierke <info@olivergierke.de> 1307162171 +0200
committer Oliver Gierke <info@olivergierke.de> 1307383853 -0700

    DATACMNS-42 - Removed BigInteger as Mongo specific custom type as MappingBeanHelper covers Number implementations already.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingContext.java

commit eb20aea7fe6d94831262d610ad260d8c9b825880
tree 40412f5baf67abb6b02f2d5907ab50a59c168f93
parent 1e52f8641cb990d4353ab3f180ec1c919cef3c7a
author Thomas Risberg <trisberg@vmware.com> 1307036725 -0400
committer Thomas Risberg <trisberg@vmware.com> 1307036725 -0400

    preparing for snapshot builds

M	pom.xml
M	spring-data-document-parent/pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb/pom.xml

commit 1e52f8641cb990d4353ab3f180ec1c919cef3c7a
tree 61b3e123283ac77b81569a3843cef32f6b13a1b0
parent 37f2fcee31a74cdafc006206c097b7efc072d2ef
author Thomas Risberg <trisberg@vmware.com> 1307036368 -0400
committer Thomas Risberg <trisberg@vmware.com> 1307036368 -0400

    preparing for 1.0.0.M3 MongoDB release

M	pom.xml
M	spring-data-document-parent/pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb/pom.xml

commit 37f2fcee31a74cdafc006206c097b7efc072d2ef
tree 196f4fa379a3bd2cd99facfc5e772965bd2f8aae
parent 9a0e45de837cd71470edf732c9a9ceaaaabeec8a
author Thomas Risberg <trisberg@vmware.com> 1307030582 -0400
committer Thomas Risberg <trisberg@vmware.com> 1307030582 -0400

    DATADOC-147 - Updated reference documentation to cover changes from M2 to M3

M	src/docbkx/reference/mapping.xml

commit 9a0e45de837cd71470edf732c9a9ceaaaabeec8a
tree fe0b2f1401c2e93de99cd4446afbf9524ba159e4
parent b140fc1698f86eab7069e5175a9c2395bb6f6d11
author Thomas Risberg <trisberg@vmware.com> 1307030094 -0400
committer Thomas Risberg <trisberg@vmware.com> 1307030094 -0400

    DATADOC-147 - Updated reference documentation to cover changes from M2 to M3

M	src/docbkx/reference/mongodb.xml

commit b140fc1698f86eab7069e5175a9c2395bb6f6d11
tree 79415466791153bf07c6816448c3b87ad996d4ec
parent ac4b27159b3a6028704137fb5c00da6efe24f203
author Oliver Gierke <info@olivergierke.de> 1307008248 +0200
committer Oliver Gierke <info@olivergierke.de> 1307008248 +0200

    Updated changelog.

M	src/main/resources/changelog.txt

commit ac4b27159b3a6028704137fb5c00da6efe24f203
tree b25c3e6b0f18b2d60fb2080a5bc6b00b08617358
parent e8b130691c2a588177c7fdf7e76fa1b813fc3968
author Oliver Gierke <info@olivergierke.de> 1307008020 +0200
committer Oliver Gierke <info@olivergierke.de> 1307008020 +0200

    DATADOC-161 - MappingMongoConverter now supports nested Maps as well.
    
    Extracted method to handle reading Maps which is now also able to recursively resolve nested maps by using the generics information.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java

commit e8b130691c2a588177c7fdf7e76fa1b813fc3968
tree ca773c943b7a04661bbbb7b1b2a2595f77552cfd
parent 836b5ad2586281887098d97395835563d8a1e43d
author Thomas Risberg <trisberg@vmware.com> 1306980704 -0400
committer Thomas Risberg <trisberg@vmware.com> 1306980704 -0400

    updated changelog for M3

M	src/main/resources/changelog.txt

commit 836b5ad2586281887098d97395835563d8a1e43d
tree 6b12f19fdd452fd3540990a1145335ce0e6b9c6c
parent dc9f96908f4e48f734881fc41d837e05530346f8
author Thomas Risberg <trisberg@vmware.com> 1306980489 -0400
committer Thomas Risberg <trisberg@vmware.com> 1306980489 -0400

    DATADOC-160 refactoring to make parameter ordering more consistent, especially for string parameter specifying collection name override; renamed insertList methods; removed unnecessary methods

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/AbstractMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonExample.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit dc9f96908f4e48f734881fc41d837e05530346f8
tree 41af610eb38da3f4c59e36c636c4d3f218b6d11d
parent f9fdbb469f81d9478a587174f7c73a4ff7399efb
author Thomas Risberg <trisberg@vmware.com> 1306970405 -0400
committer Thomas Risberg <trisberg@vmware.com> 1306970405 -0400

    DATADOC-157 reformatted; changing spaces back to tabs for indentation

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit f9fdbb469f81d9478a587174f7c73a4ff7399efb
tree 752875babeb84f4cd9344afb7d8ee0e5013abe87
parent 134996d0798a4d82303f6637a2ff67f333bd96f9
author Thomas Risberg <trisberg@vmware.com> 1306947837 -0400
committer Thomas Risberg <trisberg@vmware.com> 1306947837 -0400

    updated changelog for M3

M	src/main/resources/changelog.txt

commit 134996d0798a4d82303f6637a2ff67f333bd96f9
tree e36475bbffe96e1ea647a15ddc34d3ccad76fbe0
parent 25b9a56030cb6def74dcb2eaec1dd5a7acc4af19
author Thomas Risberg <trisberg@vmware.com> 1306937662 -0400
committer Thomas Risberg <trisberg@vmware.com> 1306937662 -0400

    DATADOC-146 added overloaded regex method taking options parameter

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryTests.java

commit 25b9a56030cb6def74dcb2eaec1dd5a7acc4af19
tree 8af35dec104649f19b13df259e75007c23c40de4
parent 2c585d49d6554538fd18bef695e9149f5672b1b5
author Thomas Risberg <trisberg@vmware.com> 1306932524 -0400
committer Thomas Risberg <trisberg@vmware.com> 1306932524 -0400

    DATADOC-156 added some more tests around different  id types and in queries

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java

commit 2c585d49d6554538fd18bef695e9149f5672b1b5
tree 832ba52804c2505e5849ebc6b61b0e1b72541d43
parent 7bed1264b13fbfe7c5448b6c21b6feb310154bbd
author Thomas Risberg <trisberg@vmware.com> 1306897439 -0400
committer Thomas Risberg <trisberg@vmware.com> 1306897439 -0400

    removed duplicate dependency from pom; removed reference to removed module from assembly

M	spring-data-mongodb/pom.xml
M	src/assembly/distribution.xml

commit 7bed1264b13fbfe7c5448b6c21b6feb310154bbd
tree 9cc6faaa0d779d77ac33e07c36034d00af7546e4
parent 523d48759f40f58ecb615726101c66e903b825bf
author Thomas Risberg <trisberg@vmware.com> 1306896861 -0400
committer Thomas Risberg <trisberg@vmware.com> 1306896861 -0400

    DATADOC-157 - changed order parameters are declared for JavaDoc

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java

commit 523d48759f40f58ecb615726101c66e903b825bf
tree e36e1c9c97c62711c4212169e4c2409a92bfb2f1
parent 1a5bffb52ac0b4152e3902414d8b3fbe1caa0276
author Thomas Risberg <trisberg@vmware.com> 1306896600 -0400
committer Thomas Risberg <trisberg@vmware.com> 1306896600 -0400

    DATADOC-155 removed print to sysout; polished

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java

commit 1a5bffb52ac0b4152e3902414d8b3fbe1caa0276
tree 5f240c5b580a99cb000ce21cc00525731c41365c
parent 467f7c61af0b59e2bf3e02f94db15fd629275147
author Thomas Risberg <trisberg@vmware.com> 1306896309 -0400
committer Thomas Risberg <trisberg@vmware.com> 1306896309 -0400

    DATADOC-155 added more tests for id properties; fixed mapping issue where String id wasn't converted to ObjectId properly

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfPrimitiveInt.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfPrimitiveLong.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfTypeInteger.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfTypeLong.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit 467f7c61af0b59e2bf3e02f94db15fd629275147
tree 86a0c41b84d267d1c8862d851efd714f65a441ef
parent 89e83d1f6950c83a07511e60ffe701a995ec554f
author Thomas Risberg <trisberg@vmware.com> 1306895726 -0400
committer Thomas Risberg <trisberg@vmware.com> 1306895726 -0400

    DATADOC-158 changed to use Spring;s StringUtils

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoCollectionUtils.java

commit 89e83d1f6950c83a07511e60ffe701a995ec554f
tree be0622a18dee3555e46f67e63d9a4df08e38bf55
parent b4b61a96e9bf9c7bf0e78a95f222aa0f3bbcc39e
author Thomas Risberg <trisberg@vmware.com> 1306878311 -0400
committer Thomas Risberg <trisberg@vmware.com> 1306878311 -0400

    fixed NPE during document processing by changing to correct language for programlisting element

M	src/docbkx/reference/mongodb.xml

commit b4b61a96e9bf9c7bf0e78a95f222aa0f3bbcc39e
tree b8c4c8226c7669345a7efa0ad71034e28b5469d5
parent 131a2912e9ffeb36febd487f9feeb37963560ed3
author Mark Pollack <mark.pollack@springsource.com> 1306872577 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306872577 -0400

    DATADOC-156 - MongoOperations.find(query(where("id").in(ids)) fails where ids aren't ObjectIds

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit 131a2912e9ffeb36febd487f9feeb37963560ed3
tree 9f73454576e77567a0a9a08a30f42fae49d659b3
parent b4236bdd78bd6f421fb5a39543243e34154fa743
author Mark Pollack <mark.pollack@springsource.com> 1306871713 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306871713 -0400

    DATADOC-157 - MongoTemplate updateFirst/updateMulti methods to take java.lang.Class parameter as last in method param list to be consistent with other usage

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit b4236bdd78bd6f421fb5a39543243e34154fa743
tree e4306c9e8f723df089d92d3b7db1716139cf2e39
parent 43d0f74a3e0183ff2a50b8e9df21ab70076e98c3
author Mark Pollack <mark.pollack@springsource.com> 1306871037 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306871057 -0400

    More tests for DATADOC-155 - Need to support plain POJOs with non-ObjectId-compatible ID properties

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonPojo.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonPojoIntId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonPojoLongId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonPojoStringId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonWithObjectId.java

commit 43d0f74a3e0183ff2a50b8e9df21ab70076e98c3
tree 1b1a8326a8b26608cdeb21a4ccd962d3bd70c545
parent aeea1bc5d5162e644a6664d96ae20fd8ad65b007
author J. Brisbin <jon@jbrisbin.com> 1306866063 -0500
committer J. Brisbin <jon@jbrisbin.com> 1306866063 -0500

    Initial stab at changing the way IDs are handled in the mapping converter.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoCollectionUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryMapper.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithAList.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Contact.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/ContactRepositoryIntegrationTests.java

commit aeea1bc5d5162e644a6664d96ae20fd8ad65b007
tree 43805357d676de833301fc71e92bba0bdaba4ba2
parent 187f087270e11d4ec79613114787edc6483935d3
author Oliver Gierke <info@olivergierke.de> 1306846450 +0100
committer Oliver Gierke <info@olivergierke.de> 1306846450 +0100

    Added @PersistenceConstructor to Circle.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Circle.java

commit 187f087270e11d4ec79613114787edc6483935d3
tree 95729b38ea55090a1c224a50583ae61b71db94d3
parent 115d419d0a385e023bf7b48937c4abec8579b3a6
author Oliver Gierke <info@olivergierke.de> 1306749908 +0200
committer Oliver Gierke <info@olivergierke.de> 1306749908 +0200

    Minor generics polishing in test cases.

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java

commit 115d419d0a385e023bf7b48937c4abec8579b3a6
tree 6975c96a4a571f10950685fee670ed7a8d1aae94
parent e0bd465649e36ea547aca4f6a12d726ec5cc809b
author Mark Pollack <mark.pollack@springsource.com> 1306528998 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306528998 -0400

    comment back in geo tests.

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java

commit e0bd465649e36ea547aca4f6a12d726ec5cc809b
tree 35618af0ae6457aba578147eada8229c47358eee
parent 6a73e94c57f73dc39f3d7e2b62f57808678043f1
author Mark Pollack <mark.pollack@springsource.com> 1306528818 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306528838 -0400

    DATADOC-147 - Update reference documentation to cover changes from M2 to M3 (partial work)

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/AbstractMongoConfiguration.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/TestMongoConfiguration.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoIndexedAppConfig.java
M	src/docbkx/reference/mapping.xml
M	src/docbkx/reference/mongodb.xml

commit 6a73e94c57f73dc39f3d7e2b62f57808678043f1
tree a6bb9551b99ed02dea10c65f90cf1e46bbf6bf26
parent 7ea14bb4d571e30a32243067b1370a176aaa6964
author J. Brisbin <jon@jbrisbin.com> 1306524178 -0500
committer J. Brisbin <jon@jbrisbin.com> 1306524178 -0500

    DATADOC-155 - Add support for any type for id properties, not just the ones that can be converted into an ObjectId

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentProperty.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonPojoIntId.java

commit 7ea14bb4d571e30a32243067b1370a176aaa6964
tree 9eb5f1f036700640effe4925174a63aacbe92063
parent bfc4bc2100a6ea2cb5613609e537868c556816e0
author Mark Pollack <mark.pollack@springsource.com> 1306516403 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306516403 -0400

    Add failing test PersonPojoWithPrimitiveIdTests
    DATADOC-147 - Update reference documentation to cover changes from M2 to M3 (partial work)

M	src/docbkx/reference/mapping.xml

commit bfc4bc2100a6ea2cb5613609e537868c556816e0
tree 26406544ff6c52cae0c7da49d673d07d4a0ba987
parent 842c87389daec6d969286dcd16d1c06f5b1e9b9f
author J. Brisbin <jon@jbrisbin.com> 1306346618 -0500
committer J. Brisbin <jon@jbrisbin.com> 1306346618 -0500

    Added clean-up step for new primitive ID tests, cleanup up unused imports in MappingTests.java

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit 842c87389daec6d969286dcd16d1c06f5b1e9b9f
tree a8f0159bee6e4f7e23cb921b32fc8b6b6beebed0
parent e751666f902cc3e12e78de519b620c8b13e96a96
author Mark Pollack <mark.pollack@springsource.com> 1306345816 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306345816 -0400

    remove extraneous import

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit e751666f902cc3e12e78de519b620c8b13e96a96
tree 380fc1c402d07a183212bf62fae41e0b5b1e9132
parent f2305681d3b33081a429cf1e5e84403df7214917
author J. Brisbin <jon@jbrisbin.com> 1306345176 -0500
committer J. Brisbin <jon@jbrisbin.com> 1306345176 -0500

    Added test and a fix around using primitive ints as IDs

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryMapper.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PrimitiveId.java

commit f2305681d3b33081a429cf1e5e84403df7214917
tree 10b46fb48411aae9aa5b0972ab73afe2de776853
parent fb39f01f25c6144dab347b120265942113bde915
author Mark Pollack <mark.pollack@springsource.com> 1306297810 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306297810 -0400

    DATADOC-147 - Update reference documentation to cover changes from M2 to M3 (partial work)

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	src/docbkx/introduction/introduction.xml
M	src/docbkx/reference/mongodb.xml

commit fb39f01f25c6144dab347b120265942113bde915
tree f3040e33f9e260d2b733b820962c40cd2d7af181
parent e1f8eee2d12026c4259d370dc0709ffb2f2dab32
author Mark Pollack <mark.pollack@springsource.com> 1306289352 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306289352 -0400

    DATADOC-88 - Create MongoDbFactory to consolidate DB, Server location, and user credentials into one location
    DATADOC-147 - Update reference documentation to cover changes from M2 to M3 (partial work)

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoDbFactory.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoDbFactoryParser.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/config/MongoNamespaceTests.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/MongoNamespaceTests-context.xml
M	src/docbkx/reference/mongodb.xml

commit e1f8eee2d12026c4259d370dc0709ffb2f2dab32
tree 9363b0ef49660f7a6b8321af9ce5df9551c20ba7
parent c7c2a66c3ba88165234fdfc10dea428fc2fc7281
author Mark Pollack <mark.pollack@springsource.com> 1306274838 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306274838 -0400

    DATADOC-88 - Create MongoDbFactory to consolidate DB, Server location, and user credentials into one location
    DATADOC-147 - Update reference documentation to cover changes from M2 to M3 (partial work)

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoDbFactoryParser.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/MongoNamespaceTests-context.xml
M	src/docbkx/reference/mongodb.xml

commit c7c2a66c3ba88165234fdfc10dea428fc2fc7281
tree 34509e1ecbdbb66cab8d470d41c70809b0fa6d6b
parent 69b1b9b96b2743bcbe802a1e310403fc731c15be
author Mark Pollack <mark.pollack@springsource.com> 1306272248 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306272248 -0400

    DATADOC-88 - Create MongoDbFactory to consolidate DB, Server location, and user credentials into one location

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbFactory.java

commit 69b1b9b96b2743bcbe802a1e310403fc731c15be
tree 6bf32ee2247cbe6358501a5b5a70fe1dc0cfc572
parent 2284a5137ee499c7adba67f03ce3a57d08989bde
author Mark Pollack <mark.pollack@springsource.com> 1306272182 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306272182 -0400

    DATADOC-88 - Create MongoDbFactory to consolidate DB, Server location, and user credentials into one location

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbFactory.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoDbFactory.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java

commit 2284a5137ee499c7adba67f03ce3a57d08989bde
tree 1e3711ee1efbf109dae515d9c4a09804235931a3
parent 46e2cf698e6b9d215d192cc3a06ff3a2aa8e660b
author Mark Pollack <mark.pollack@springsource.com> 1306271874 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306271874 -0400

    DATADOC-88 - Create MongoDbFactory to consolidate DB, Server location, and user credentials into one location

M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbFactory.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoDbFactory.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/AbstractMongoConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoDbFactoryParser.java
M	spring-data-mongodb/src/test/resources/geospatial.xml
M	spring-data-mongodb/src/test/resources/infrastructure.xml

commit 46e2cf698e6b9d215d192cc3a06ff3a2aa8e660b
tree b674fa5c392b753efb3d7eba87e98195e8e7acf3
parent 1087b0708625aab163e3dd16de8384708bd92c20
author Mark Pollack <mark.pollack@springsource.com> 1306259075 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306268114 -0400

    DATADOC-147 - Update reference documentation to cover changes from M2 to M3 (partial work)

M	src/docbkx/introduction/introduction.xml
M	src/docbkx/reference/mongodb.xml

commit 1087b0708625aab163e3dd16de8384708bd92c20
tree 3442fc42b55dbb990ea8744302be16db446e1ef0
parent d55505f1e5b63dccaaa91795cc414df1fd8d6a7a
author Mark Pollack <mark.pollack@springsource.com> 1306246867 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306259083 -0400

    DATADOC-147 - Update reference documentation to cover changes from M2 to M3 (partial work)

M	src/docbkx/reference/mongodb.xml

commit d55505f1e5b63dccaaa91795cc414df1fd8d6a7a
tree df57639f7a390a11a1accea6ec03ab602659baad
parent de06029ea28f0f0abe98be6cb8c1815a75bbe58f
author Oliver Gierke <info@olivergierke.de> 1306255164 +0200
committer Oliver Gierke <info@olivergierke.de> 1306255164 +0200

    DATADOC-130 - Added custom converters for Locale and Character.
    
    Register a custom converter for Locale and Character classes by default as we have to consider them simple (as  they must not be inspected during mapping) but the have to be converted to String values before being handed over to Mongo.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/AbstractMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java

commit de06029ea28f0f0abe98be6cb8c1815a75bbe58f
tree 2ebbbb92dcc6b504dce195e2a879ed7a33356f7a
parent 4d33c9c360a91dd5ee874a49d9b456917b9e29a5
author Oliver Gierke <info@olivergierke.de> 1306251360 +0200
committer Oliver Gierke <info@olivergierke.de> 1306251360 +0200

    Updated reference documentation for Mongo repositories.

M	src/docbkx/reference/mongo-repositories.xml

commit 4d33c9c360a91dd5ee874a49d9b456917b9e29a5
tree ddde821eed01822806aa90458280472720fe3d5d
parent 8474a285386c820934cc3cc2d050de899cb96e6e
author Oliver Gierke <info@olivergierke.de> 1306251143 +0200
committer Oliver Gierke <info@olivergierke.de> 1306251143 +0200

    DATADOC-149 - Removed constructor not taking a MongoDbFactory as well as setter for it from MappingMongoConverter.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MappingMongoConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/convert/CustomConvertersUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GenericMappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQueryUnitTests.java
M	spring-data-mongodb/src/test/resources/template-mapping.xml

commit 8474a285386c820934cc3cc2d050de899cb96e6e
tree 2ec78e46298d25e380aa47010861aebb96c20478
parent edba941dd0bc07ed2a35aa6dabe45402333c64c7
author Oliver Gierke <info@olivergierke.de> 1306231604 +0200
committer Oliver Gierke <info@olivergierke.de> 1306245829 +0200

    Adapted introduction of BeanWrapper in Spring Data Commons.
    
    Moved code dealing with the ConversionService into AbstractMongoConverter. Added getConversionService() to MongoConverter interface. Replaced usage of MappingBeanHelper with BeanWrapper usage.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/AbstractMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MappingMongoEntityInformation.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java

commit edba941dd0bc07ed2a35aa6dabe45402333c64c7
tree 6554b756b742bf0b01c388b38f4addf9aff24768
parent c75218387b1cabd3055fc41816eccdfa04f45587
author Thomas Risberg <trisberg@vmware.com> 1306245606 -0400
committer Thomas Risberg <trisberg@vmware.com> 1306245606 -0400

    DATADOC-83 - removed the spring-data-document-core module; move @RelatedDocument to the spring-data-mongodb-cross-store module; renamed "org.springframework.data.persistence.document.mongo" package

M	pom.xml
M	spring-data-couchdb/pom.xml
D	spring-data-document-core/pom.xml
D	spring-data-document-core/src/main/java/META-INF/MANIFEST.MF
D	spring-data-document-core/src/main/java/org/springframework/data/document/annotation/RelatedDocument.java
D	spring-data-document-core/template.mf
M	spring-data-document-parent/pom.xml
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/RelatedDocument.java
D	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongo/MongoChangeSetPersister.java
D	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongo/MongoDocumentBacking.aj
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongodb/MongoChangeSetPersister.java
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongodb/MongoDocumentBacking.aj
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/test/Person.java
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml
M	spring-data-mongodb/pom.xml
M	src/assembly/distribution.xml
M	src/docbkx/reference/mongodb.xml

commit c75218387b1cabd3055fc41816eccdfa04f45587
tree 4a19ac8e847b0eff840d27e155295dcfa4a19ca0
parent 2e5906fa56fabfd26dd9ae24b5d4697a3aba36dc
author Mark Pollack <mark.pollack@springsource.com> 1306217297 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306217297 -0400

    DATADOC-42 - Provide option for configuring replica sets using the Mongo namespace

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/InvalidMongoDbApiUsageException.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/UncategorizedMongoDbException.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoDbFactoryParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/ParsingUtils.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/config/MongoNamespaceReplicaSetTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/config/MongoNamespaceTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/config/NamespaceTestSupport.java
A	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/MongoNamespaceReplicaSetTests-context.xml

commit 2e5906fa56fabfd26dd9ae24b5d4697a3aba36dc
tree 080109fee84b145c81b1f01538bf9e75e91e2d5f
parent c6c3dfef15c868f0e128a5d5551b411b5fe207fe
author Mark Pollack <mark.pollack@springsource.com> 1306213059 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306213059 -0400

    DATADOC-147 - Update reference documentation to cover changes from M2 to M3 (partial work)

M	src/docbkx/introduction/getting-started.xml
M	src/docbkx/introduction/introduction.xml
M	src/docbkx/reference/mongodb.xml

commit c6c3dfef15c868f0e128a5d5551b411b5fe207fe
tree c40c62590bd1fc486110d315fd07b87e79b77dc6
parent 43925c9cf60fb7c0bfde651a32225a47221aa761
author Mark Pollack <mark.pollack@springsource.com> 1306213023 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306213023 -0400

    DATADOC-42 - Provide option for configuring replica sets using the Mongo namespace (partial work)

M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd

commit 43925c9cf60fb7c0bfde651a32225a47221aa761
tree 41ec28bf44ff3674e0699832ece2117e3149e240
parent 3893eb126d7da5fef5b0ad08e5e7658a201ae9b8
author Mark Pollack <mark.pollack@springsource.com> 1306212949 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306212949 -0400

    add logging to some collection operations

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 3893eb126d7da5fef5b0ad08e5e7658a201ae9b8
tree 6c38971191310e309cf68a144870a95bc4884f77
parent c8e16318e806f370f42ec28a87335e939fbedd4e
author Mark Pollack <mark.pollack@springsource.com> 1306212930 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306212930 -0400

    DATADOC-83 - Review dependencies

M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoExceptionTranslator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryTests.java

commit c8e16318e806f370f42ec28a87335e939fbedd4e
tree 1b8557d5cd033a79f4016f580adb27f4309b1089
parent c48f89212426ed20f9cd866ff561dfb0a82cb77e
author Mark Pollack <mark.pollack@springsource.com> 1306212557 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306212557 -0400

    DATADOC-83 - Review dependencies

D	spring-data-document-core/src/main/java/org/springframework/data/document/InvalidDocumentStoreApiUsageException.java
D	spring-data-document-core/src/main/java/org/springframework/data/document/UncategorizedDocumentStoreException.java

commit c48f89212426ed20f9cd866ff561dfb0a82cb77e
tree fdf59803523fe3675dd5d31bff3d098e3e0c71ed
parent 4c01993666de415f770bf1cf53bfa825f7e26e64
author Mark Pollack <mark.pollack@springsource.com> 1306207003 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306207003 -0400

    DATADOC-83 - Review dependencies

D	spring-data-document-core/src/main/java/org/springframework/data/document/web/bind/annotation/support/HandlerMethodInvoker.java
D	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/ActionExecutedContext.java
D	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/ActionExecutingContext.java
D	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/ActionInterceptor.java
D	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/mvc/annotation/AnnotationMethodHandlerAdapter.java
D	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/mvc/annotation/ServletAnnotationMappingUtils.java
D	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/mvc/annotation/support/InterceptingHandlerMethodInvoker.java

commit 4c01993666de415f770bf1cf53bfa825f7e26e64
tree 752359081113426c307eefbd7ac50488d33413c7
parent bf8b85ef98541d2a6f2b0746e5e3611b2f9e7aa8
author Mark Pollack <mark.pollack@springsource.com> 1306206464 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1306206487 -0400

    DATADOC-138 - Expose all properties of MongoOptions classin Mongo namespace
    DATADOC-135 - <mongo:options /> should use - instead of camel case to be consistent with other atrtibute names

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOptionsFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoParser.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/config/MongoNamespaceTests.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/MongoNamespaceTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/mongo.properties
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml

commit bf8b85ef98541d2a6f2b0746e5e3611b2f9e7aa8
tree d3b22bb89c7b139d0b2e90b6e649e7cfcaef95f3
parent 974faec6dd34942a289848d98d7be2bbd3831973
author Oliver Gierke <info@olivergierke.de> 1306190503 +0200
committer Oliver Gierke <info@olivergierke.de> 1306190529 +0200

    Fixed invalid exception in looking up a type hint from DBObject.
    
    So far the implementation of MappingMongoConverter.findTypeToBeUsed(…) threw an exception if it found a type hind but couldn't load the class. This causes issues when the class names change where the document still contains 'old' type information. Not being able to load a class should simply be considered as no type information found, thus we're returning null now. Updated Javadoc accordingly.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java

commit 974faec6dd34942a289848d98d7be2bbd3831973
tree ee86de28b56e122344fa582f73857331e14fb0a2
parent b5e83d435089b1f44f2fd2a915a0ade9aa34f340
author Thomas Risberg <trisberg@vmware.com> 1306171989 -0400
committer Thomas Risberg <trisberg@vmware.com> 1306171989 -0400

    DATADOC-88 fixed missing propagation of host/port when no nested <mongo> element provided

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoDbFactoryParser.java

commit b5e83d435089b1f44f2fd2a915a0ade9aa34f340
tree 871ee4961431dad68cd8479ea9769bd47d0bd765
parent c79989ce99fb0700f02b27352b1810f3f483f7e8
author Thomas Risberg <trisberg@vmware.com> 1306169188 -0400
committer Thomas Risberg <trisberg@vmware.com> 1306169188 -0400

    DATADOC-105 added list of jars need for builds not using Maven

M	src/docbkx/reference/mongodb.xml

commit c79989ce99fb0700f02b27352b1810f3f483f7e8
tree 5b6f7531c4f32a96c6cbf8ee34062380b2da7d1b
parent 208c977e0ab6eb6e360a96857a41496f23d67f19
author Thomas Risberg <trisberg@vmware.com> 1306168204 -0400
committer Thomas Risberg <trisberg@vmware.com> 1306168204 -0400

    DATADOC-56 added a section documenting _id conversion rules

M	src/docbkx/reference/mongodb.xml

commit 208c977e0ab6eb6e360a96857a41496f23d67f19
tree 6bb6f687b8cf808ff5bc4dc8f911821f02f542fe
parent df1e900c55a678d2ba82be7bcd21a46f394517b5
author Oliver Gierke <info@olivergierke.de> 1306146186 +0200
committer Oliver Gierke <info@olivergierke.de> 1306146186 +0200

    Moved QueryDslPredicateExecutor into Spring Data Commons.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryDslMongoRepository.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryDslPredicateExecutor.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQueryUnitTests.java

commit df1e900c55a678d2ba82be7bcd21a46f394517b5
tree a1a20be6d8f962e879d2fd3dad3e9b6d0ef9ab6a
parent 22ab2007da1419b9855954935e339135c305c76d
author Oliver Gierke <info@olivergierke.de> 1306070893 +0200
committer Oliver Gierke <info@olivergierke.de> 1306070893 +0200

    Fixed template.mf to only export mongodb package.

M	spring-data-mongodb/template.mf

commit 22ab2007da1419b9855954935e339135c305c76d
tree 2ca48340535050c925ed711b0ccd8b9b5bc8daff
parent fdc81440bd16445830139ae7539b92c1b4e1ff7d
author Oliver Gierke <info@olivergierke.de> 1306068848 +0200
committer Oliver Gierke <info@olivergierke.de> 1306070404 +0200

    DATADOC-145 - Fixed mapping collections with abstract component types.
    
    Let recursive mapping calls of collection elements use the value type instead of the collections component type. Refactored MappingMongoConverter to make collection handling more maintainable. Added code to always add custom type information if the actual value being stored differs from the declared one.
    
    Moved some of the DBRef discovering code into implementations of MongoPersistentProperty. Renamed MongoPersistentProperty.getKey() to ….getFieldName().

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/FieldName.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/SimpleMongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentPropertyUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java

commit fdc81440bd16445830139ae7539b92c1b4e1ff7d
tree 9b0b23a60c366404ed031ebf780be2eed4a8dfdb
parent 4052506df1c91d30427ef6ae2ec8398c83b91509
author Thomas Risberg <trisberg@vmware.com> 1305925291 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305925291 -0400

    DATADOC-15 introduced a protected WriteConcern prepareWriteConcern(WriteConcern writeConcern) method to MongoTemplate to faciliate subclass customization

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 4052506df1c91d30427ef6ae2ec8398c83b91509
tree 1cda753b30aba6dd7012e767181048d689fbe53c
parent 43562974215318a41ce72a973ece1d304dfd90eb
author Thomas Risberg <trisberg@vmware.com> 1305923316 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305923316 -0400

    DATADOC-88 changed db attribute to dbname on <mongo:db-factory>

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoDbFactoryParser.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/resources/mapping.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/MongoNamespaceTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/template-mapping.xml

commit 43562974215318a41ce72a973ece1d304dfd90eb
tree 24571f7086ed8d79d6fb55c735d70e985913fbc9
parent d0da787f70cd7288e08d58857564c5898a71861a
author Thomas Risberg <trisberg@vmware.com> 1305922281 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305922293 -0400

    Changed tests to use 'database' as the database name except for the repositories tests

M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoIndexedAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoIndexedTests.java
M	spring-data-mongodb/src/test/resources/geospatial.xml

commit d0da787f70cd7288e08d58857564c5898a71861a
tree faaebae1b0a27848c8de0442b8cad6f3477d3a06
parent e89d09cc864c79df8c473ca1d58c61f78b419b76
author Oliver Gierke <info@olivergierke.de> 1305917195 +0200
committer Oliver Gierke <info@olivergierke.de> 1305917236 +0200

    Removed mapping-context-ref from repositories namespace.
    
    We now take the mapping context from the wired MongoTemplate.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryConfigParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/SimpleMongoRepositoryConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml

commit e89d09cc864c79df8c473ca1d58c61f78b419b76
tree e9360963bccf2308abda46676ad006fc9621c4a6
parent 3e38595fe89b60f3185548525a1bf0f4626ea8be
author Oliver Gierke <info@olivergierke.de> 1305915818 +0200
committer Oliver Gierke <info@olivergierke.de> 1305917236 +0200

    DATADOC-144 - Added @FieldName annotation to allow defining the name of the field a property shall be stored to.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentProperty.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/FieldName.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentPropertyUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java

commit 3e38595fe89b60f3185548525a1bf0f4626ea8be
tree 6d89d424f9b431456ac341b7175bf0973f078610
parent ad287efb4eafff04a15306997cd88aea0f5ea555
author Thomas Risberg <trisberg@vmware.com> 1305910687 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305910687 -0400

    DATADOC-142 changed constructor taking Mongo and database name to accept user credentials

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/TestMongoConfiguration.java
M	spring-data-mongodb/template.mf

commit ad287efb4eafff04a15306997cd88aea0f5ea555
tree 06713d47766b76c446534a64216367929e8b7e14
parent 98da8beb67870bde853ad6ec954bc2a7db01b8b9
author J. Brisbin <jon@jbrisbin.com> 1305909377 -0500
committer J. Brisbin <jon@jbrisbin.com> 1305909500 -0500

    DATADOC-143 - Made MongoMappingContext the default converter for the template, which also meant:
    
    Several changes to how objects are initialized inside the template:
    
    1. In one is not specified, a MappingMongoConverter is created and set as the default.
    2. A special ApplicationEventPublisher implementation is installed by default to handle creating indexes when the template isn't used inside a Spring application context.
    3. If a Spring application context is available, it will be set as the template's application context and eventPublisher, with the index creator being registered as an event listener if one isn't already present.
    
    The tests had to be changed in a couple places to accurately reflect how mapping contexts and converters are now handled.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/AbstractMongoConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MappingMongoConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoDbFactoryParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntityIndexCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/MongoMappingEventPublisher.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateMappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/TestMongoConfiguration.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/convert/CustomConvertersUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoIndexedAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/src/test/resources/infrastructure.xml
M	spring-data-mongodb/src/test/resources/mapping.xml
M	spring-data-mongodb/src/test/resources/template-mapping.xml

commit 98da8beb67870bde853ad6ec954bc2a7db01b8b9
tree a983eb69b140bc6b31c897d7157a8a5bc0567db2
parent 9324ae2593910c7ff1f6973ef183518565c8e512
author Thomas Risberg <trisberg@vmware.com> 1305893053 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305893053 -0400

    DATADOC-80 changed setCustomConverters to take a Set<Object> instead of a List similar to ConversionServiceFactory.registerConverters(…)

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/AbstractMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/TestMongoConfiguration.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/convert/CustomConvertersUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java

commit 9324ae2593910c7ff1f6973ef183518565c8e512
tree 4d3688a83db2531e787fa10bbd13d99e83304123
parent adc56ce79f30decca17815cb8a28ee78856e501c
author Oliver Gierke <info@olivergierke.de> 1305821379 +0200
committer Oliver Gierke <info@olivergierke.de> 1305872828 +0200

    DATADOC-137 - Repositories now correctly replace multiple placeholders in JSON based queries.
    
    When annotation a repository method with e.g. @Query("{ 'firstname' : ?0, 'lastname' : ?1 }") all placeholders get now replaced correctly. Added unit tests and fixed broken logging in StringBasedQueryCreator,

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQuery.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQueryUnitTests.java

commit adc56ce79f30decca17815cb8a28ee78856e501c
tree 75f8aae3cee53e596d9246a059001c086daec061
parent 2832b524d32107e5b24c33cf4d08035e1bcec6c1
author Mark Pollack <mark.pollack@springsource.com> 1305828261 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1305828274 -0400

    DATADOC-83 - Review dependencies
    Removed dependency on spring mvc in data-document-core to spring-data-document-examples\mongodb-myrestaurants-analytics

M	spring-data-document-core/pom.xml
D	spring-data-document-core/src/main/java/org/springframework/data/document/analytics/ControllerCounter.java
D	spring-data-document-core/src/main/java/org/springframework/data/document/analytics/MvcEvent.java
D	spring-data-document-core/src/main/java/org/springframework/data/document/analytics/Parameters.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java

commit 2832b524d32107e5b24c33cf4d08035e1bcec6c1
tree a94b1d35a526a388f6cc951bac94959e8ec453ed
parent 1640db5d7c685a398c2341e9445d90a3d4262fc8
author Thomas Risberg <trisberg@vmware.com> 1305825922 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305825929 -0400

    DATADOC-121 switched to use MappingMongoConverter as default; removed some renamed methods reintroduced from recent merge

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateUnitTests.java

commit 1640db5d7c685a398c2341e9445d90a3d4262fc8
tree 49610e1c7e9f2d8a460e7dec66b3bade7e0e3d4a
parent ac762b2289b31e4af85c4ef34bf50c21233be91b
author Mark Pollack <mark.pollack@springsource.com> 1305823143 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1305824573 -0400

    removed unused abstractions in data-document-core

M	.gitignore
D	spring-data-document-core/src/main/java/org/springframework/data/document/AbstractDocumentStoreTemplate.java
D	spring-data-document-core/src/main/java/org/springframework/data/document/DocumentMapper.java
D	spring-data-document-core/src/main/java/org/springframework/data/document/DocumentStoreConnectionCallback.java

commit ac762b2289b31e4af85c4ef34bf50c21233be91b
tree 71936f4c196f1d66eded3ecd96e4690df2584640
parent 9429326ec272101b02377540e40b1f93c92f1b07
author Thomas Risberg <trisberg@vmware.com> 1305824063 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305824063 -0400

    changed Xlint options to avoid 'bad path element' error during build

M	spring-data-document-parent/pom.xml

commit 9429326ec272101b02377540e40b1f93c92f1b07
tree d7d9929fdd918fcec867d4f977166d862cfacfab
parent 3e840e2380789c8dcac533059f0bcf18d5c8f97d
author Thomas Risberg <trisberg@vmware.com> 1305823054 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305823054 -0400

    removed collection from annotation since it is not used

M	spring-data-document-core/src/main/java/org/springframework/data/document/annotation/RelatedDocument.java

commit 3e840e2380789c8dcac533059f0bcf18d5c8f97d
tree b01a68d9a699def003f3fe022f91e6f2c70cc06a
parent 5b57b40274b2c9dfc9a88f00ec858704d600d9d7
author Thomas Risberg <trisberg@vmware.com> 1305812196 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305814301 -0400

    DATADOC-121 deprecated the SimpleMongoConverter

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java

commit 5b57b40274b2c9dfc9a88f00ec858704d600d9d7
tree 34f02d9c5dff26c2ff119d0803ca43763a9958ef
parent 63d9d35cba616275124ef527ed08c97b7345a5c4
author J. Brisbin <jon@jbrisbin.com> 1305812666 -0500
committer J. Brisbin <jon@jbrisbin.com> 1305812870 -0500

    Added namespace parser for MongoDbFactory, made changes to getting mapping stuff to use MongoDbFactory

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/AbstractMongoConfiguration.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/BeanNames.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MappingMongoConverterParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoDbFactoryParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryConfigParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryNamespaceHandler.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntityIndexCreator.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/MongoMappingEventPublisher.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoIndexedAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MongoMappingContextUnitTests.java
M	spring-data-mongodb/src/test/resources/mapping.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/MongoNamespaceTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/template-mapping.xml

commit 63d9d35cba616275124ef527ed08c97b7345a5c4
tree 17cea4d712eb5d23ae1c0befa20717298f612a5a
parent bf5fc0ff1f3b3c8e32c2a17d50e52a1545765e0a
author Thomas Risberg <trisberg@vmware.com> 1305755982 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305755982 -0400

    DATADOC-80 renamed setConverters to setCustomConverters and made signature consistent between Simple and mapping converters

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MappingMongoConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/TestMongoConfiguration.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/convert/CustomConvertersUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/resources/template-mapping.xml

commit bf5fc0ff1f3b3c8e32c2a17d50e52a1545765e0a
tree 0a579408121ff5f7616c17c36c8b2841a8753514
parent 6287fa425d815609711c17b80bc9546576ae65b8
author Thomas Risberg <trisberg@vmware.com> 1305753881 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305753890 -0400

    DATADOC-122 added a MongoCollectionsUtils to provide a method for preferred collection name

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoCollectionUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/SimpleMongoMappingContext.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit 6287fa425d815609711c17b80bc9546576ae65b8
tree 19168996d4b35b68c72e6e9012c920d2b200d80f
parent 345e6ebf8be7c135da013b67e93095ec7371ca99
author Oliver Gierke <info@olivergierke.de> 1305753391 +0200
committer Oliver Gierke <info@olivergierke.de> 1305753405 +0200

    DATADOC-108 - added findbyId(…) methods to MongoTemplate.
    
    Removed Criteria.whereId(…). Updated SimpleMongoRepository to use the new method and use more core template methods to prevent objects from being marshalled to find out whether a particular object exists.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateMappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonExample.java

commit 345e6ebf8be7c135da013b67e93095ec7371ca99
tree 091666bab6d4c263f4a5d65fcfae54ec45cb706b
parent 4aaa32fe1d2d277c4f7ff9883339c87eefa849d6
author Oliver Gierke <info@olivergierke.de> 1305743340 +0100
committer Oliver Gierke <info@olivergierke.de> 1305753404 +0200

    DATADOC-136 - Fixed conversion of enums.
    
    Introduced writeSimpleInternal(…) method that automatically stores the name of an enum instead of the enum itself. Changed quite a few places to rather use MongoPersistentProperty.getKey() over getName().

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java

commit 4aaa32fe1d2d277c4f7ff9883339c87eefa849d6
tree 8811dc0d450960336f3fc6f98277aafbe8b7993d
parent 60774dca269dc0cfa399bbc56a2b4dd32ef1b06e
author Thomas Risberg <trisberg@vmware.com> 1305747982 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305747982 -0400

    DATADOC-141 DATADOC-89 introduced a protected prepareCollection method and a boolean flag setSlaveOk on the MongoTemplate to have template instance level control over slave behavior

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java

commit 60774dca269dc0cfa399bbc56a2b4dd32ef1b06e
tree a4fb7a09260c2642504bfb411aa0ae84f8137153
parent c9d5565aaa7427d23b81141244f779c02313feec
author Thomas Risberg <trisberg@vmware.com> 1305728425 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305728433 -0400

    DATADOC-88 switched test config files to use MongoDbFactory

M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java
M	spring-data-mongodb/src/test/resources/geospatial.xml
M	spring-data-mongodb/src/test/resources/infrastructure.xml
M	spring-data-mongodb/src/test/resources/mapping.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/MongoNamespaceTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/template-mapping.xml

commit c9d5565aaa7427d23b81141244f779c02313feec
tree 6cc572f9fc9f156e0dbf817e4d4710fefea8d81c
parent 30e96f9c976cc2b3ad72cddf3450430976471785
author Oliver Gierke <info@olivergierke.de> 1305659932 +0100
committer Oliver Gierke <info@olivergierke.de> 1305659948 +0100

    DATACMNS-38 - Added unit test for adding a self-referencing entity to the mapping context.

A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MongoMappingContextUnitTests.java

commit 30e96f9c976cc2b3ad72cddf3450430976471785
tree d0da00d01b33b5486dcb490c8d56219578b94e1f
parent 96414340904abea12daf3f6bf21418710db2d442
author Thomas Risberg <trisberg@vmware.com> 1305648822 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305648822 -0400

    DATADOC-88 added accessors for Mongo and database name to MongoDbFactory

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbFactory.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 96414340904abea12daf3f6bf21418710db2d442
tree 233fd45dad53226e376182fdacb0d1e41f00ecd6
parent 86960006cb337a129b8edfca6f56af1bfb7dca57
author Thomas Risberg <trisberg@vmware.com> 1305648367 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305648367 -0400

    DATADOC-88 removed unnessecary package protected constructor

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 86960006cb337a129b8edfca6f56af1bfb7dca57
tree f0f7847a1dcd49fefd2651123af017f20d05005d
parent 21cd013cf183b633740644ddd18696bd37362839
author Thomas Risberg <trisberg@vmware.com> 1305583676 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305583676 -0400

    DATADOC-88 introducing a MongoDbFactory interface and MongoTemplate constructors that take this as an argument

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbFactory.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 21cd013cf183b633740644ddd18696bd37362839
tree b8a29929e875f2d0171938dd1530e0c51e9726e8
parent 95750ffde116725832c7b38f3230b929f17c099d
author Thomas Risberg <trisberg@vmware.com> 1305571618 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305571618 -0400

    DATADOC-88 re-introducing a MongoDbFactoryBean for configuring Mongo DB objects

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbFactoryBean.java

commit 95750ffde116725832c7b38f3230b929f17c099d
tree a072413b3cbe1371a23a812c6315dccddfc2c6a8
parent 6ed1d2b22699a2f8249f7dc38a12ba38f708daa9
author Thomas Risberg <trisberg@vmware.com> 1305562774 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305562774 -0400

    cleaned up unused imports

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 6ed1d2b22699a2f8249f7dc38a12ba38f708daa9
tree 748fa5b594d5f27bef78d10740a1232ffebdafdc
parent 4e04d0acd1352b62fc2a893931ccd84012fdd4a2
author Thomas Risberg <trisberg@vmware.com> 1305562315 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305562315 -0400

    DATADOC-110 removed 'substituteMappedIdIfNecessary' since this is now handled by QueryMapper

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 4e04d0acd1352b62fc2a893931ccd84012fdd4a2
tree 1c94f2daae27c2fb2cf6dd5974911ccff67510ed
parent 2212ca4b00dd3157e3550e2b524e2b8d4495f0b3
author Thomas Risberg <trisberg@vmware.com> 1305473208 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305473208 -0400

    DATADOC-119 added test using 'afterMappingMongoConverterCreation' to register custom converters

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateMappingTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/TestMongoConfiguration.java
M	spring-data-mongodb/src/test/resources/template-mapping.xml

commit 2212ca4b00dd3157e3550e2b524e2b8d4495f0b3
tree d7478b3a48fe70caef4178c8f6b4a2ce81a8ba6d
parent 025691a97a4a591477a44d22dda6f35626210ee6
author Thomas Risberg <trisberg@vmware.com> 1305322007 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305322007 -0400

    DATADOC-133 changed non-string attributes to xsd:string to support configuration using property placeholder; upgraded to Mongo Java driver 2.5.3

M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/config/MongoNamespaceTests.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/MongoNamespaceTests-context.xml
A	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/mongo.properties

commit 025691a97a4a591477a44d22dda6f35626210ee6
tree 48f779b5458989aeb4b732f775c5a74feabea85b
parent 94e4d2b095f9ac72ff4b6eb175e9b126ec812683
author Oliver Gierke <info@olivergierke.de> 1305302659 +0200
committer Oliver Gierke <info@olivergierke.de> 1305302659 +0200

    Change indentation from spaces to tabs.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CannotGetMongoDbConnectionException.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CollectionCallback.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CollectionOptions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CursorPreparer.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/DbCallback.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/DbHolder.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoAdmin.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoAdminOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoExceptionTranslator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOptionsFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoPropertyDescriptors.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoReader.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoSynchronization.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoWriter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/WriteResultChecking.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/AbstractMongoConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MappingMongoConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoJmxParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryConfigParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryNamespaceHandler.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/SimpleMongoRepositoryConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/package-info.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MongoBeanWrapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/ObjectIdConverters.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Box.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Circle.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Point.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/CompoundIndex.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/CompoundIndexes.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/GeoSpatialIndexed.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/IndexDefinition.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/IndexDirection.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/IndexPredicate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/Indexed.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/DBRef.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/Document.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntityIndexCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/SimpleMongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/AbstractMappingEventListener.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/AfterConvertEvent.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/AfterLoadEvent.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/AfterSaveEvent.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/BeforeConvertEvent.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/BeforeSaveEvent.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/MongoMappingEvent.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/AbstractMonitor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/AssertMetrics.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/BackgroundFlushingMetrics.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/BtreeIndexCounters.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/ConnectionMetrics.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/GlobalLockMetrics.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/MemoryMetrics.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/OperationCounters.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/ServerInfo.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/package-info.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/package-info.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/CriteriaDefinition.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Field.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/GeospatialIndex.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Index.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Order.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Query.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Sort.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Update.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/package-info.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/AbstractMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MappingMongoEntityInformation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoAnnotationProcessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoEntityInformation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryMethod.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/PartTreeMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/Query.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryDslMongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryDslPredicateExecutor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/package-info.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/JmxServer.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Message.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoAdminIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateMappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonExample.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonExampleAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonReadConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithAList.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfTypeObjectId.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfTypeString.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWith_idPropertyOfTypeObjectId.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWith_idPropertyOfTypeString.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Portfolio.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SomeEnumTest.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Trade.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/TradeBatch.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/User.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Venue.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/config/MongoNamespaceTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/convert/CustomConvertersUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Account.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/AccountPojo.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Address.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/BasePerson.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GenericMappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoIndexedAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoIndexedTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoLocation.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Location.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonCustomCollection1.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonCustomCollection2.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonCustomIdName.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonMapProperty.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonMultiDimArrays.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonPojo.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonSimpleList.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/SimpleMappingContextUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/monitor/MongoMonitorIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/CriteriaTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/IndexTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryMapperUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/SortTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/UpdateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Address.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Contact.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/ContactRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/ContactRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoQueryCreatorUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQueryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StubParameterAccessor.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests.java

commit 94e4d2b095f9ac72ff4b6eb175e9b126ec812683
tree caa48389a465daa336f91ec25c395b6a7dcb7bc7
parent 41e49ad3e24f62b207dc6c9514289cdea6aedc6f
author Oliver Gierke <info@olivergierke.de> 1305283538 +0200
committer Oliver Gierke <info@olivergierke.de> 1305283538 +0200

    DATADOC-130 - Convert map key type to discovered generic key type.
    
    Reding values into a map assumed map keys to be String values. We know leverage the conversion service to convert the key to the type we discover from the generics property information.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java

commit 41e49ad3e24f62b207dc6c9514289cdea6aedc6f
tree e3514e5dfcc1082f492925a5a21ef3414fe5ebcd
parent 35629f53702b05e46590792d5e0dea714db1c603
author J. Brisbin <jon@jbrisbin.com> 1305237123 -0500
committer J. Brisbin <jon@jbrisbin.com> 1305237123 -0500

    DATADOC-96 - Had to tweak the way the QueryMapper works so that it more correctly searches for id properties to convert to _id as well as trying to turn them into ObjectIds if it can. If it can't, it puts the value in as-is.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryMapper.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit 35629f53702b05e46590792d5e0dea714db1c603
tree 684308d5783b9751dde725af6391b48364fd18ee
parent 0b50e5802027a92c84cb2e90cfb96f19cca6aa71
author Thomas Risberg <trisberg@vmware.com> 1305206286 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305206303 -0400

    DATADOC-119 improved the converter parsing

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MappingMongoConverterParser.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/MongoNamespaceTests-context.xml

commit 0b50e5802027a92c84cb2e90cfb96f19cca6aa71
tree 24021fe4924d83da94dbf5a2dc7b2782d86f240a
parent 9b86637031fdd00782aa9acaeeaa4e639051f94e
author Oliver Gierke <info@olivergierke.de> 1305192478 +0200
committer Oliver Gierke <info@olivergierke.de> 1305200589 +0200

    DATACMNS-29 - Adapted changes in Spring Data Commons.
    
    User repository interfaces are not required to implement MongoRepository anymore. Added missing override for save(Iterable<? extends T> entities) to return a List<T>.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/AbstractMongoConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/SimpleMongoRepositoryConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java

commit 9b86637031fdd00782aa9acaeeaa4e639051f94e
tree ea934a163d4ad65b037c21853efae3da465a792b
parent d7f33774e0fd29ce941328fe53862bb93393e475
author Thomas Risberg <trisberg@vmware.com> 1305140446 -0400
committer Thomas Risberg <trisberg@vmware.com> 1305140459 -0400

    DATADOC-119 added support for registering custom converters with the mongo namespace support

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MappingMongoConverterParser.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateMappingTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonReadConverter.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWriteConverter.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/MongoNamespaceTests-context.xml
A	spring-data-mongodb/src/test/resources/template-mapping.xml

commit d7f33774e0fd29ce941328fe53862bb93393e475
tree d99d7135eb300cefa02bed5349dbbac59e34848f
parent 12ddfcc9f94cf8226f5f4fc863d33f9e18f872b2
author Oliver Gierke <info@olivergierke.de> 1305131879 +0200
committer Oliver Gierke <info@olivergierke.de> 1305131879 +0200

    DATACMNS-35 - Added implementation and test for newly introduced Repository.delete(ID id) method.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java

commit 12ddfcc9f94cf8226f5f4fc863d33f9e18f872b2
tree 3d7ca12b1958f50569928ae775dceb9afe742fdf
parent 47f184dbf0b5dc067556d53cb67ae5e1f32c4f5a
author Oliver Gierke <info@olivergierke.de> 1305044507 +0200
committer Oliver Gierke <info@olivergierke.de> 1305044507 +0200

    DATADOC-128 - Enable storing inheritance trees.
    
    The document being persisted now gets a _class attribute to carry the actual type. That field key will be made configurable by a subsequent commit and its value should be interpreted as type hint to a client and  might be interpreted using a type mapper at a later stage as well (see DATADOC-63). For now it carries the fully-qualified Java class name.
    
    On reads MappingMongoConverter will consider this field when choosing a type to bind the data to if - and only if - the type stored in there is a subtype of the actually requested one. So if we have a document carrying Person type information and you query for Contact you would get back a Person object. If you query for any other type not extending Contact you would get this custom type instead.
    
    Added unit tests and an integration tests covering the Contact/Person scenario.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Contact.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/ContactRepository.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/ContactRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Person.java

commit 47f184dbf0b5dc067556d53cb67ae5e1f32c4f5a
tree 2250b6b5c76f27bc29c1cc6ad74e738cc7737b21
parent 2ca10c13c5e5f32863efbb9b6c0535e54677cd0a
author Oliver Gierke <info@olivergierke.de> 1305044165 +0200
committer Oliver Gierke <info@olivergierke.de> 1305044165 +0200

    Fixed generic warning by using more concrete meta-model type.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MappingMongoEntityInformation.java

commit 2ca10c13c5e5f32863efbb9b6c0535e54677cd0a
tree 66bd6678d31057cbdf49fad638b47fd1702f6ffc
parent 965f9fd260492d59829da08aa941938a157b60c1
author Oliver Gierke <info@olivergierke.de> 1305044046 +0200
committer Oliver Gierke <info@olivergierke.de> 1305044046 +0200

    Extracted custom mongo repository namespace attributes to make them usable in <repositories /> and <repository />.

M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd

commit 965f9fd260492d59829da08aa941938a157b60c1
tree 20ac81c0dd0800acb64324b861854e79bbe53ff7
parent d5c625dc2ab44d1b6be4516988f763be0de85360
author Oliver Gierke <info@olivergierke.de> 1304953761 +0200
committer Oliver Gierke <info@olivergierke.de> 1305015606 +0200

    DATACMNS-34 - Adapted refactorings in Spring Data Commons regarding PersistenceConstructor discovery.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/AbstractMongoConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentEntity.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/SimpleMongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/convert/CustomConvertersUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonCustomIdName.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryMapperUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryUnitTests.java

commit d5c625dc2ab44d1b6be4516988f763be0de85360
tree c2786d4c0ebfc6a25bbdf95a9cc13c129079c5f4
parent 55ce0b8272c2e7ac11369ce55634bc6510353e20
author Thomas Risberg <trisberg@vmware.com> 1304945679 -0400
committer Thomas Risberg <trisberg@vmware.com> 1304945679 -0400

    DATADOC-107 added an overloaded method taking a Collection; added test to only allow a single parameter of type Collection

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java

commit 55ce0b8272c2e7ac11369ce55634bc6510353e20
tree c66fa3e979d12efeef8a15bb8f53bc15aaf5cc75
parent 1c8a55a081909ad68a3ebdf824987df77fa7bd81
author Oliver Gierke <info@olivergierke.de> 1304789268 +0200
committer Oliver Gierke <info@olivergierke.de> 1304789268 +0200

    DATADOC-130 - Conversion of Maps with simple key types works again.
    
    Don't use ConversionService for simple type keys as we unregistered ObjectToStringConverter. This in turn causes Number, Boolean, Locale and the like not being convertible to String anymore as for those types only the Type -> String converter is registered but no corresponding converter back. Opened a ticket for this against Core Spring (SPR-8306).

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java

commit 1c8a55a081909ad68a3ebdf824987df77fa7bd81
tree 5182beb24a62ef4abedcde8e0e097ad25a1e483e
parent 35259f4e122fe33ddeddcf75c46f377f9db9b527
author Oliver Gierke <info@olivergierke.de> 1304693912 +0200
committer Oliver Gierke <info@olivergierke.de> 1304776425 +0200

    DATADOC-113 - NotNull and IsNull are now working for repositories.
    
    Fixed Criteria being able to create correct query for ….is(null). MongoQueryCreator now uses ….ne(…) instead of ….not().is(…) as this doesn't generate a correct query (see DATADOC-129).

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/CriteriaTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoQueryCreatorUnitTests.java

commit 35259f4e122fe33ddeddcf75c46f377f9db9b527
tree aa610725ebf73e34b5546ef9cfa44b8596f57a4e
parent c9facf53387e3fd87df492a0563cafe6a0d3b9f5
author Oliver Gierke <info@olivergierke.de> 1304776215 +0200
committer Oliver Gierke <info@olivergierke.de> 1304776215 +0200

    Reapplied old formatting to avoid merge conflicts (yet again).

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java

commit c9facf53387e3fd87df492a0563cafe6a0d3b9f5
tree 2e95194f34c20f92b96320e96afcd0a2e178525f
parent 283e5cb76bb5caa9ee95a8802402e94e30735580
author Thomas Risberg <trisberg@vmware.com> 1304697635 -0400
committer Thomas Risberg <trisberg@vmware.com> 1304697635 -0400

    DATADOC-129 changed Criteria to disallow 'not' before 'is' - should use 'ne' instead

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryTests.java

commit 283e5cb76bb5caa9ee95a8802402e94e30735580
tree 6b01762c99ded86f774bfb7ed10f3bd4740f961f
parent f05d200cd369519eb3164fd19ace57a745797502
author Thomas Risberg <trisberg@vmware.com> 1304633576 -0400
committer Thomas Risberg <trisberg@vmware.com> 1304633576 -0400

    DATADOC-118 refactoring some of the protected methods; some other minor refactorings

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit f05d200cd369519eb3164fd19ace57a745797502
tree cf744b9bbe525329fdd7c4042045061ae9845f06
parent 62ecfc8416095b59d5ac9a6c6595d12add636c63
author J. Brisbin <jon@jbrisbin.com> 1304626483 -0500
committer J. Brisbin <jon@jbrisbin.com> 1304626483 -0500

    Fix the build since a new change for DATADOC-114 caused some tests to not compile cleanly.

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java

commit 62ecfc8416095b59d5ac9a6c6595d12add636c63
tree a690ca3ed2eb49888006077e4c93362763135e2a
parent dfbc89c3b614215761b2edd64802b064bca72238
author J. Brisbin <jon@jbrisbin.com> 1304626069 -0500
committer J. Brisbin <jon@jbrisbin.com> 1304626168 -0500

    DATADOC-114 - Fixes for updateFirst/updateMulti not converting POJOs correctly

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/AbstractMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicUpdate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Update.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java

commit dfbc89c3b614215761b2edd64802b064bca72238
tree 42031b0e1a0966150d160df3cadd7e0f7337af6d
parent b6c6016b1e6038de4929274b3b2353070a00f314
author Thomas Risberg <trisberg@vmware.com> 1304618369 -0400
committer Thomas Risberg <trisberg@vmware.com> 1304618369 -0400

    DATADOC-118 removed methods that take a MongoWriter

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java

commit b6c6016b1e6038de4929274b3b2353070a00f314
tree 18c03deaa7f541a083a3e529bf1ae049ba04c2ab
parent c9fe785c32b699e769e72600cabbc006cbe399cb
author Thomas Risberg <trisberg@vmware.com> 1304617567 -0400
committer Thomas Risberg <trisberg@vmware.com> 1304617567 -0400

    DATADOC-120 removed MongoReaderWriter interface

D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoReaderWriter.java

commit c9fe785c32b699e769e72600cabbc006cbe399cb
tree 5e03e8e068466578a465d0bb21bf782fbf73c299
parent 7b3d030794f0be3ffb575e5fb4e037568ac12546
author Thomas Risberg <trisberg@vmware.com> 1304617543 -0400
committer Thomas Risberg <trisberg@vmware.com> 1304617543 -0400

    DATADOC-118 removed methods that take a MongoReader

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java

commit 7b3d030794f0be3ffb575e5fb4e037568ac12546
tree 6d8fc9cedeb58e8911a8cffb886bec8a8ae56f0c
parent 02448bc0ee7abacb2863835f5908884631b9b6a2
author Oliver Gierke <info@olivergierke.de> 1304433204 +0200
committer Oliver Gierke <info@olivergierke.de> 1304598607 +0200

    DATADOC-43 - Implemented Near and Within for repository queries.
    
    Refactored spatial domain classes to use each other a bit more. Added assertions to fail fast on invalid usage. Improved Geospatial index creation in MongoPersistentEntityIndexCreator by using the index abstraction instead of manually building the DBObject.
    
    Fixed implementation of SimpleMongoRepository.deleteAll() to not drop the collection as this causes indexes to be dropped as well.
    
    Skip index creation from query methods for now if we encounter a Near or Within part as we can't build combined queries right now.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Box.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Circle.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Point.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/GeoSpatialIndexed.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntityIndexCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/GeospatialIndex.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQueryUnitTests.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml

commit 02448bc0ee7abacb2863835f5908884631b9b6a2
tree c4c0e2a2a32428d71b793360c2813c4d35f985ba
parent e4fdabba1dc3abcff686f825aa46051825b50d0a
author Oliver Gierke <info@olivergierke.de> 1304598068 +0200
committer Oliver Gierke <info@olivergierke.de> 1304598068 +0200

    Reverted formatting change in Criteria for now.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java

commit e4fdabba1dc3abcff686f825aa46051825b50d0a
tree 1de7fe8a6983093d36eea783580b48197b1393cc
parent 0c9ee0eacd31e754e1a9787d034d40e0d4e5c54b
author Thomas Risberg <trisberg@vmware.com> 1304548455 -0400
committer Thomas Risberg <trisberg@vmware.com> 1304548455 -0400

    DATADOC-117 removed defaultCollection on MongoTemplate/Operations; changed getDefaultCollectionName to getCollectionName(Class clazz) to determine collection name used for specific class; added a class parameter where necessary

M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonExampleAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoIndexedAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/src/test/resources/geospatial.xml
M	spring-data-mongodb/src/test/resources/infrastructure.xml
M	spring-data-mongodb/src/test/resources/mapping.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml

commit 0c9ee0eacd31e754e1a9787d034d40e0d4e5c54b
tree a033c6ab27a7cf76bdcd0f07c73dbc400e611ac0
parent 7f6a6094e6d01b81f0cd1a4a499f07aad6313ab4
author Thomas Risberg <trisberg@vmware.com> 1304423684 -0400
committer Thomas Risberg <trisberg@vmware.com> 1304423699 -0400

    DATADOC-106 added support for $ne and $nor

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/NorCriteria.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/NorQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/OrCriteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/OrQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Query.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/CriteriaTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryTests.java

commit 7f6a6094e6d01b81f0cd1a4a499f07aad6313ab4
tree d666bf00b282497fc9f7dbac6d5bd5a498bfc6ae
parent 68f8bd62d182f7f40fdf11f13904c7d7d7cfdcd8
author Oliver Gierke <info@olivergierke.de> 1304411644 +0200
committer Oliver Gierke <info@olivergierke.de> 1304416288 +0200

    DATADOC-115 - Upgraded to Querydsl 2.2.0-beta4.
    
    Enabled treatment of not annotated classes as embedded documents to let Querydsl create query classes for them. Annotated BasePerson with @QuerySupertype as Querydsl seems to need this annotation to create the query class for super types in the 2.2 branch.
    
    That issue is tracked in https://bugs.launchpad.net/querydsl/+bug/776219 so that we should be able to remove the annotation as soon as this one is fixed.

M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoAnnotationProcessor.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/BasePerson.java

commit 68f8bd62d182f7f40fdf11f13904c7d7d7cfdcd8
tree 47faf475ec90d12b8e0645f289d20dd1456f16bd
parent caa8faf769dc1dfd28fd760c9d24f9166f9ee1bb
author Jon Brisbin <jon@jbrisbin.com> 1304359450 -0500
committer J. Brisbin <jon@jbrisbin.com> 1304359450 -0500

    DATADOC-114 - Fix bug in Update class that wasn't converting POJOs properly when being used from updateFirst/Multi

M	spring-data-document-core/template.mf
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicUpdate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Query.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Update.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Address.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit caa8faf769dc1dfd28fd760c9d24f9166f9ee1bb
tree da523c94391259a243a041ea2c88c1f7056bae1d
parent 6e4e487eb40d3891b20e60edbbaf0568a19f15d3
author Thomas Risberg <trisberg@vmware.com> 1304199595 -0400
committer Thomas Risberg <trisberg@vmware.com> 1304199595 -0400

    DATADOC-102 modified Update to allow multiple field updates for most operations

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Update.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java

commit 6e4e487eb40d3891b20e60edbbaf0568a19f15d3
tree 6aecd3ddb6f2194e7d6b1460a29b383032291be4
parent d065bd74b3848bff9179f15895c47f21214c84fd
author Thomas Risberg <trisberg@vmware.com> 1304174908 -0400
committer Thomas Risberg <trisberg@vmware.com> 1304174908 -0400

    added collection name to logging messages

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit d065bd74b3848bff9179f15895c47f21214c84fd
tree fc396ad3880b90839d155e83b15295a8e5d9812d
parent d648c95b62e5881352d9a070afaf82ad305757bb
author Thomas Risberg <trisberg@vmware.com> 1304022481 -0400
committer Thomas Risberg <trisberg@vmware.com> 1304022481 -0400

    DATADOC-96 added additional or test

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java

commit d648c95b62e5881352d9a070afaf82ad305757bb
tree c8ddd363b49839a90b950d06d4aacf267e303c8f
parent ef2b0235c71a24a38ef986ed3573bf85bcefc363
author Oliver Gierke <info@olivergierke.de> 1304019883 +0200
committer Oliver Gierke <info@olivergierke.de> 1304019883 +0200

    Removed accidentally commited files.

D	ajcore.20110315.195433.898.txt
D	pom.xml.orig

commit ef2b0235c71a24a38ef986ed3573bf85bcefc363
tree 5826faba2021a08c088ca1ba8f7337bd9a50697a
parent 321948d4a2ab77609468684d2021a78301010141
author Oliver Gierke <info@olivergierke.de> 1303921687 +0200
committer Oliver Gierke <info@olivergierke.de> 1304019319 +0200

    DATADOC-109 - Introduced MappingContext implementation for SimpleMongoConverter.
    
    Adapted changes in Spring Data Commons. Adapted test cases accordingly. Introduced SimpleMongoMappingContext that that reflects the meta-model assumptions in SimpleMongoConverter. Adapted repository factories accordingly as we can now assume that there is a MappingContext available always.
    
    Refactored QueryMapper to be stateless so that we don't need to recreate instances of it. Added unit tests to verify id property to key mapping and type conversion to ObjectId.
    
    Polished MappingTests to simply drop the database after all test were finished to make sure it starts with a clean state on a potential next run.

A	ajcore.20110315.195433.898.txt
A	pom.xml.orig
A	spring-data-mongodb/.classpath.orig
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/AbstractMongoConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/BasicMongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntityIndexCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentProperty.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/SimpleMongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryMapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MappingMongoEntityInformation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoEntityInformation.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/convert/CustomConvertersUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Address.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GenericMappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonCustomCollection1.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonCustomCollection2.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonMultiDimArrays.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/SimpleMappingContextUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryMapperUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoQueryCreatorUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryUnitTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/SimpleMongoEntityInformationUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQueryUnitTests.java
M	spring-data-mongodb/src/test/resources/infrastructure.xml
M	src/main/resources/changelog.txt

commit 321948d4a2ab77609468684d2021a78301010141
tree 8da075b6b46dfdcf5fe52ed049cacb468f15d613
parent 21f859e222cf78ca8485e0f479bffd38d85838a2
author Jon Brisbin <jon@jbrisbin.com> 1303921580 -0500
committer J. Brisbin <jon@jbrisbin.com> 1303921580 -0500

    DATADOC-97 - Fix a couple bugs in the QueryMapper class.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryMapper.java

commit 21f859e222cf78ca8485e0f479bffd38d85838a2
tree da122fe4823fc2e28f53f58befd50c1f4f5bf845
parent 224934a28c30a84d00bc4f602812aab04b73aaff
author Jon Brisbin <jon@jbrisbin.com> 1303921026 -0500
committer J. Brisbin <jon@jbrisbin.com> 1303921026 -0500

    DATADOC-97 - Fixed an NPE in the QueryMapper class.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryMapper.java

commit 224934a28c30a84d00bc4f602812aab04b73aaff
tree 6c5abc7278ed46d78914695c1b05d4d0d46b4e88
parent a74d9ca7cd3f9d1839b9c8550631b0478780e793
author Jon Brisbin <jon@jbrisbin.com> 1303920789 -0500
committer J. Brisbin <jon@jbrisbin.com> 1303920789 -0500

    DATADOC-97 - Took out extraneous methods from MongoTemplate as the result of incorporating a new QueryMapper class.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit a74d9ca7cd3f9d1839b9c8550631b0478780e793
tree 6228a049492a0bb7546fbf7cc1c6865fc55784c5
parent 9c9138c4e9704314c5c3dd007ea64f26ab4b3339
parent 76159a2216f054598110d04fe9daf67605df7d8a
author J. Brisbin <jon@jbrisbin.com> 1303920455 -0500
committer J. Brisbin <jon@jbrisbin.com> 1303920455 -0500

    Merge branch 'query-mapper'

commit 76159a2216f054598110d04fe9daf67605df7d8a
tree 78b326addce9d83776fdbb2b879d1abb539ac9d5
parent 7567ba0355a204f90a0383f124ce5f2f4d79464f
author Jon Brisbin <jon@jbrisbin.com> 1303920279 -0500
committer J. Brisbin <jon@jbrisbin.com> 1303920279 -0500

    DATADOC-97 - Added a QueryMapper helper to map properties referenced in query criteria to their proper name (_id in the case of @Id properties) as well as support conversion to ObjectId for those values that support the conversion.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryMapper.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit 9c9138c4e9704314c5c3dd007ea64f26ab4b3339
tree 8a1a9af4954656544090ea625dc4786ca89328e4
parent 7567ba0355a204f90a0383f124ce5f2f4d79464f
author Oliver Gierke <info@olivergierke.de> 1303903010 +0200
committer Oliver Gierke <info@olivergierke.de> 1303908893 +0200

    DATADOC-101 - Improved custom converter handling.
    
    Converters are now considered for both reading and writing. I also added a shortcut to invoke custom converters for top level types. So far the registered ones had only be used for properties of the given root object, not the root object itself.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/convert/CustomConvertersUnitTests.java

commit 7567ba0355a204f90a0383f124ce5f2f4d79464f
tree efac472ac8090bca14dde2b52bcd923930b3468a
parent dc36d91d8e8de5fe740a6e04e24aba3f80466391
author Jon Brisbin <jon@jbrisbin.com> 1303908721 -0500
committer J. Brisbin <jon@jbrisbin.com> 1303908721 -0500

    DATADOC-95 - Fix issue where an object will all null properties wasn't being saved.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonNullProperties.java

commit dc36d91d8e8de5fe740a6e04e24aba3f80466391
tree 5a8d4bf0ff628e5cebd7322110a59934b4c6af3b
parent f0b30ec39e021a24745b7d5ef3b052aebac29132
author Thomas Risberg <trisberg@vmware.com> 1303764132 -0400
committer Thomas Risberg <trisberg@vmware.com> 1303764140 -0400

    DATADOC-94 added plugin repository info for maven.springframework.org/release to resolve aws wagon extension

M	pom.xml
M	spring-data-document-parent/pom.xml
M	spring-data-mongodb-cross-store/pom.xml

commit f0b30ec39e021a24745b7d5ef3b052aebac29132
tree 5912c0e084c4c7fe58c772d8f72a1bab4241a509
parent 178b220d2da36f33f4ad1dff467b1e3afc5cff23
author Mark Pollack <mark.pollack@springsource.com> 1303754460 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1303754492 -0400

    DATADOC-99 - Reference documentation shows invalid field spec for @Query usage with repositories

M	src/docbkx/reference/mongo-repositories.xml

commit 178b220d2da36f33f4ad1dff467b1e3afc5cff23
tree 09b404d42d49ac83f18bd2b8759000a0df424abe
parent fe74557c951088bde1014b54475c09b3894625f2
author Mark Pollack <mark.pollack@springsource.com> 1303754433 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1303754491 -0400

    expand on test to test retrieval of subelements.  add-remove spring .xsd in STS to remove tooling releated error

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonExample.java
M	spring-data-mongodb/src/test/resources/server-jmx.xml

commit fe74557c951088bde1014b54475c09b3894625f2
tree d65be81aab5b90ab434c7e06a9163cda66ca0939
parent 399beff795850f86ea3256718d8cdfaf3c88cbe9
author Oliver Gierke <info@olivergierke.de> 1303372979 +0200
committer Oliver Gierke <info@olivergierke.de> 1303372979 +0200

    DATACMNS-33 - Adapted API changes for Repository.count().
    
    Also changed return types for count() methods on QueryDslPredicateExecutor.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryDslMongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryDslPredicateExecutor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java

commit 399beff795850f86ea3256718d8cdfaf3c88cbe9
tree 7c24cbcc049902216b12e878cbcdf9c2be1e4906
parent 9380a88f26e275c86a7cb6d956d223b89b190f8a
author Oliver Gierke <info@olivergierke.de> 1303324626 +0200
committer Oliver Gierke <info@olivergierke.de> 1303324626 +0200

    DATACMNS-32 - Removed Querydsl support classes and use the ones from Spring Data Commons Core.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryDslMongoRepository.java
M	spring-data-mongodb/template.mf

commit 9380a88f26e275c86a7cb6d956d223b89b190f8a
tree c03d5271e55fc0ed4e50595d0eb34f69baaf7c41
parent 5e4583110e328b0105c095e7bf3b91dad2225c74
author J. Brisbin <jon@jbrisbin.com> 1303239717 -0500
committer J. Brisbin <jon@jbrisbin.com> 1303239717 -0500

    Fix for problem loading domain classes with DBRef on them.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonWithDbRef.java

commit 5e4583110e328b0105c095e7bf3b91dad2225c74
tree c3108d9aeb7cc5ebe8929f0afa690f652b08d670
parent 8a3296758dd448dd211536e49caab858add415d8
author J. Brisbin <jon@jbrisbin.com> 1303236789 -0500
committer J. Brisbin <jon@jbrisbin.com> 1303236789 -0500

    Took out unused variable

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java

commit 8a3296758dd448dd211536e49caab858add415d8
tree 1c90e3430c9b47e0d86dc6311347289cbf16400b
parent 60ba9bfcc2854dfe14ce92af44a5b7259136fd08
author J. Brisbin <jon@jbrisbin.com> 1303235443 -0500
committer J. Brisbin <jon@jbrisbin.com> 1303235450 -0500

    DATADOC-98 - Fixes for multi-dimensional arrays and lists as properties.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/LoggingEventListener.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonMultiCollection.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonMultiDimArrays.java

commit 60ba9bfcc2854dfe14ce92af44a5b7259136fd08
tree 26e47cedde13c29f4c4a402ace5f530b273cd404
parent db75aca33664577da387b29e81415fd0cd66c804
author Thomas Risberg <trisberg@vmware.com> 1303226812 -0400
committer Thomas Risberg <trisberg@vmware.com> 1303226812 -0400

    updated to 1.1.0.BUILD-SNAPSHOT for data-commons

M	spring-data-document-parent/pom.xml

commit db75aca33664577da387b29e81415fd0cd66c804
tree 7e78ae72e2a4513d434253c306c767bf9deadb69
parent 36d62e12fc0e9a2912f48dbee998a417cf3e9444
author Thomas Risberg <trisberg@vmware.com> 1303226686 -0400
committer Thomas Risberg <trisberg@vmware.com> 1303226695 -0400

    fixed highlight xls

M	src/docbkx/resources/xsl/highlight-fo.xsl

commit 36d62e12fc0e9a2912f48dbee998a417cf3e9444
tree 4f146353392ed065f4a78ba1cc4031205e4215bb
parent f9b1fb57cdfac3b09695ae46265a3526dd873bbf
author Oliver Gierke <info@olivergierke.de> 1303223263 +0200
committer Oliver Gierke <info@olivergierke.de> 1303223307 +0200

    Added Mongo annotation package to the supported annotation types.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoAnnotationProcessor.java

commit f9b1fb57cdfac3b09695ae46265a3526dd873bbf
tree f269015fa1b0465a4df2846ce2c247eb2e2492b3
parent 3ab2aeb5c1256cf04cb7f9c4392bde398c13c8c0
author Oliver Gierke <info@olivergierke.de> 1302250644 +0200
committer Oliver Gierke <info@olivergierke.de> 1303223307 +0200

    Added Spring Release repository as plugin repository to find AspectJ 1.6.11.RELEASE.

M	spring-data-mongodb-cross-store/pom.xml

commit 3ab2aeb5c1256cf04cb7f9c4392bde398c13c8c0
tree 4d3971c3fc5d57a5a8ce857f2ce28267267edf0c
parent 99e96958ed999afbb41bab9485c8f474e63d8735
author Mark Pollack <mark.pollack@springsource.com> 1302545404 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302545404 -0400

    add mvn repo information

M	src/docbkx/reference/mongodb.xml

commit 99e96958ed999afbb41bab9485c8f474e63d8735
tree 803231c6d55d762d87ae981e4f43815f88e663f8
parent 20c9af655054ae329c6e1cfb51a68d15ac358222
author Thomas Risberg <trisberg@vmware.com> 1302390686 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302390686 -0400

    preparing for snapshot builds

M	pom.xml

commit 20c9af655054ae329c6e1cfb51a68d15ac358222
tree dd4d1431defe6448d002f47b5094a98fcb61c561
parent df50623fc79376fb887b6c1d9786b8b1d2fa3152
author Thomas Risberg <trisberg@vmware.com> 1302390164 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302390164 -0400

    updated changelog with latest release info

M	src/main/resources/changelog.txt

commit df50623fc79376fb887b6c1d9786b8b1d2fa3152
tree 74f1ab38620fd36c886fe1be46f19c36d59cbe16
parent dae36ae38b0324c368a9354796c02b7f63cfaed9
author Thomas Risberg <trisberg@vmware.com> 1302389517 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302389517 -0400

    preparing for snapshot builds

M	pom.xml
M	spring-data-document-core/pom.xml
M	spring-data-document-parent/pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb/pom.xml

commit dae36ae38b0324c368a9354796c02b7f63cfaed9
tree a75cd93e625d136e112c64f5396ab8292ade3a03
parent 1f27472c60ba49baa1b02423acd1bef6a1b09b76
author Thomas Risberg <trisberg@vmware.com> 1302389389 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302389389 -0400

    preparing for 1.0.0.M2 MongoDB release

M	pom.xml
M	spring-data-document-core/pom.xml
M	spring-data-document-parent/pom.xml
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-log4j/pom.xml
M	spring-data-mongodb/pom.xml

commit 1f27472c60ba49baa1b02423acd1bef6a1b09b76
tree 8984eb49ece01a2f7d8add5add45de139975ebe7
parent ba811f14461739bc0e5907c07b12f5bd4c9f4059
author Thomas Risberg <trisberg@vmware.com> 1302389165 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302389165 -0400

    fixed list of authors formatting in html

M	src/docbkx/resources/xsl/html.xsl

commit ba811f14461739bc0e5907c07b12f5bd4c9f4059
tree ea0b4ae1eafab4db7eebb8c8069ed4235a72dafc
parent 4e4d5901112d4b48d0759f5a03a09f096581f3ce
author Thomas Risberg <trisberg@vmware.com> 1302388645 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302388645 -0400

    fixed program listings with too long lines

M	src/docbkx/reference/mongodb.xml

commit 4e4d5901112d4b48d0759f5a03a09f096581f3ce
tree 9aed48830efb48cdcad94b51c263ab5f17ce2895
parent 4d9707915d8016709594a7fa787a4443c10af45a
author Thomas Risberg <trisberg@vmware.com> 1302388596 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302388596 -0400

    fixed javadoc link for Java 1.5

M	pom.xml

commit 4d9707915d8016709594a7fa787a4443c10af45a
tree f8bad44290d1fba1bf1bd7c51bd4d98ca27d89b7
parent 779a070e2d50bc83ea3dd07f2f290846a70c1564
author Thomas Risberg <trisberg@vmware.com> 1302386692 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302386698 -0400

    updated changelog

M	src/main/resources/changelog.txt

commit 779a070e2d50bc83ea3dd07f2f290846a70c1564
tree 5d2001145f97857943050ca1d6361976e63c479a
parent aa0d7c13daacc98b22dcdaf7c4f684a9c024b126
parent 23323c0c2499f9be33f482b59e1faff306b4da44
author Mark Pollack <mark.pollack@springsource.com> 1302385577 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302385577 -0400

    Merge remote branch 'origin/master'

commit aa0d7c13daacc98b22dcdaf7c4f684a9c024b126
tree 28ec97f5cc85d67587865f0b4d1a0bbc754f37f8
parent daca16efd1a754bc81b6702328be2939dd313c06
author Mark Pollack <mark.pollack@springsource.com> 1302385566 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302385566 -0400

    docs updates

M	src/docbkx/introduction/getting-started.xml
M	src/docbkx/reference/mongodb.xml

commit 23323c0c2499f9be33f482b59e1faff306b4da44
tree 55df75e82bb1b23ef50a795d83c24a1ed62877a6
parent daca16efd1a754bc81b6702328be2939dd313c06
author Thomas Risberg <trisberg@vmware.com> 1302384527 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302384527 -0400

    added additional list test

A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Friend.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithAList.java

commit daca16efd1a754bc81b6702328be2939dd313c06
tree 96b8b889c430206a0e8c5e253d50434ea0c6e932
parent 2689b087201507510403e1f83745a07209fa8541
author Mark Pollack <mark.pollack@springsource.com> 1302384304 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302384304 -0400

    remove some TODO comments

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java

commit 2689b087201507510403e1f83745a07209fa8541
tree 30184a607eca2604d39f3ecfce2562905accb019
parent bee1eac360bbd7e7fb6c549e994920b3e9dbe37c
parent 9a24b71531c70ed93bb72cd244e46b7b685e8438
author Mark Pollack <mark.pollack@springsource.com> 1302384287 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302384287 -0400

    Merge remote branch 'origin/master'

commit bee1eac360bbd7e7fb6c549e994920b3e9dbe37c
tree 0ffccfc061f428debc7604e8f8d0065058cf0991
parent f6d4cc615acc712a4f329eaaa8d65ccc67611a14
author Mark Pollack <mark.pollack@springsource.com> 1302384272 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302384272 -0400

    DATADOC-86 - Bug in deserialisation of Entitys with Embedded Collections

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java

commit 9a24b71531c70ed93bb72cd244e46b7b685e8438
tree 91ac8f05572308b63b3bfc0e34de14b63427e9c9
parent 7452944e133b7001ecffc7a543cc36dd5b4dfe52
author Thomas Risberg <trisberg@vmware.com> 1302380672 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302380688 -0400

    fixed list of authors formatting in pdf

M	src/docbkx/resources/xsl/fopdf.xsl

commit 7452944e133b7001ecffc7a543cc36dd5b4dfe52
tree 438856b577c9d77929c1a455f3f29bc1b686bcb0
parent f6d4cc615acc712a4f329eaaa8d65ccc67611a14
author Thomas Risberg <trisberg@vmware.com> 1302379899 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302380688 -0400

    updated copyright year for pdf

M	src/docbkx/resources/xsl/fopdf.xsl

commit f6d4cc615acc712a4f329eaaa8d65ccc67611a14
tree 6cd571aa06b4890bf4e543d76cb649a99230d493
parent fa8de51794d577e559d73d42d2e59fb77f97ebfa
author Mark Pollack <mark.pollack@springsource.com> 1302379959 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302379959 -0400

    add missing language tags for docs

M	src/docbkx/reference/jmx.xml
M	src/docbkx/reference/mapping.xml
M	src/docbkx/reference/mongo-repositories.xml
M	src/docbkx/reference/mongodb.xml

commit fa8de51794d577e559d73d42d2e59fb77f97ebfa
tree dd5ca2466008da0834afb1ece771e4a81f69d9a9
parent 357818c716c7a6629892e4bd28766ce47780abfc
author Mark Pollack <mark.pollack@springsource.com> 1302379329 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302379347 -0400

    doc updates.  provide afterMappingMongoConverterCreation lifecycle method in AbstractMongoConfiguration

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/AbstractMongoConfiguration.java
M	src/docbkx/reference/mapping.xml
M	src/docbkx/reference/mongodb.xml

commit 357818c716c7a6629892e4bd28766ce47780abfc
tree a44f77dea1be2bda5354452186ebb80435427298
parent dac4aed1207fec021c4c638546db86d8424cf86d
author Mark Pollack <mark.pollack@springsource.com> 1302367450 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302367450 -0400

    DATADOC-51 - Enabling security on MongoTemplate results in the driver throwing "java.lang.IllegalStateException: can't call authenticate twice on the same DBObject"

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CannotGetMongoDbConnectionException.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbUtils.java

commit dac4aed1207fec021c4c638546db86d8424cf86d
tree 8bb1904b1d2bd2d2cdf6f1d0f14dec1f21732b0d
parent d927c46d16db06cc7db5d1f8f22a430997617022
author Mark Pollack <mark.pollack@springsource.com> 1302365628 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302365628 -0400

    minor doc addition, looking at possible replica-set .xsd variations.

M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonExample.java
M	src/docbkx/reference/mongodb.xml

commit d927c46d16db06cc7db5d1f8f22a430997617022
tree 9193158d3bf720ab2df1ed2c779558ce994579f9
parent 8ed9e3930b988775cf4a094848c77f064bc3671d
author Mark Pollack <mark.pollack@springsource.com> 1302365600 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302365600 -0400

    DATADOC-92 - Exception translation to catch RuntimeException instead of MongoException

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 8ed9e3930b988775cf4a094848c77f064bc3671d
tree 6b69854467e89bc6b9cde79ac9de1f1b8ea8daef
parent 6263b90fd37bdebfd01a0534260487db96efb611
author Thomas Risberg <trisberg@vmware.com> 1302306807 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302306807 -0400

    changed to source 1.5; removed overrides on interface methods

M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/DocumentBackedTransactionSynchronization.java
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongo/MongoChangeSetPersister.java

commit 6263b90fd37bdebfd01a0534260487db96efb611
tree 9bf4b72d7477a1d3bf733079d4bbcf078ee0f776
parent 9416dd6358249eb3e4aec20928e7f8fc4d073c0e
author Thomas Risberg <trisberg@vmware.com> 1302306798 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302306798 -0400

    fixed JavaDocs header

M	pom.xml

commit 9416dd6358249eb3e4aec20928e7f8fc4d073c0e
tree b1e403db39fae2e8df762b068afd1cd9da3ff159
parent 104fca18a450452186e976586b506a4c8eb52a32
author Thomas Risberg <trisberg@vmware.com> 1302305532 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302305532 -0400

    DATADOC-86 added test case for saving/updating objects containing a List

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithAList.java

commit 104fca18a450452186e976586b506a4c8eb52a32
tree 6849a88311b3efc87ec57b0a8cc83f6d27c30b15
parent afee3abb109bb4eec4d03456bc0c854dbc410c27
author Thomas Risberg <trisberg@vmware.com> 1302303087 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302303095 -0400

    cleaned up warnings; modified insert/save debug logging

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit afee3abb109bb4eec4d03456bc0c854dbc410c27
tree 20fba445817505cf843b1336871eb5e22b9dbf18
parent 8192db49c53cc2ae6bd556a62e08b3f9b8b4a52f
parent 5a0c2ebec709b662e7337b57bbc22e764739f6c1
author Mark Pollack <mark.pollack@springsource.com> 1302301245 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302301245 -0400

    Merge remote branch 'origin/master'

commit 8192db49c53cc2ae6bd556a62e08b3f9b8b4a52f
tree b858657393b1bafc28ff135d6ff7d257cb3dc02b
parent 827d0c52ee2f59443a016c47604d8acc46a76b12
author Mark Pollack <mark.pollack@springsource.com> 1302301232 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302301232 -0400

    update docs
    look for entity collection on finds in mongotemplate

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	src/docbkx/reference/logging.xml
M	src/docbkx/reference/mongodb.xml

commit 5a0c2ebec709b662e7337b57bbc22e764739f6c1
tree a3e629d17ba7b5bb58d753c8a9a51004684ae9f0
parent 827d0c52ee2f59443a016c47604d8acc46a76b12
author Thomas Risberg <trisberg@vmware.com> 1302299855 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302299861 -0400

    changed spring-data-commons dependency to 1.0.0.RC1

M	spring-data-document-parent/pom.xml

commit 827d0c52ee2f59443a016c47604d8acc46a76b12
tree 6ee36018a3935a8cda6ba4d0a5115a9f28fd9737
parent 4bb2e7a5bd7c7e65a98c4681a8be71e44d115f34
parent e9a4975cc7f23b4d60a81550ccda867adfcf9d03
author Mark Pollack <mark.pollack@springsource.com> 1302299451 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302299451 -0400

    Merge remote branch 'origin/master'

commit 4bb2e7a5bd7c7e65a98c4681a8be71e44d115f34
tree ff94cc09741c9471b4d6aa8eb6b83c07cd31c492
parent 7b673f7bc33a92f75df0af562d8a0ac7d64f7bee
author Mark Pollack <mark.pollack@springsource.com> 1302299438 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302299438 -0400

    javadoc/doc changes.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/CompoundIndex.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/GeoSpatialIndexed.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/Indexed.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/DBRef.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/Document.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonExample.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Person.java
M	src/docbkx/reference/cross-store.xml
M	src/docbkx/reference/mapping.xml
M	src/docbkx/reference/mongodb.xml

commit e9a4975cc7f23b4d60a81550ccda867adfcf9d03
tree 0de02027db7ae85aa33219e8e72ce8fde1fedd2c
parent 034164794cd19d589c5aebc0b291633f283941cd
author Thomas Risberg <trisberg@vmware.com> 1302298831 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302298831 -0400

    DATADOC-85 DATADOC-84 fixed some issues with id conversion for queries and save/inserts

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java

commit 034164794cd19d589c5aebc0b291633f283941cd
tree 75e30d97ddd9c4bd46ba2d9dfeabc5256a7cc154
parent 7b673f7bc33a92f75df0af562d8a0ac7d64f7bee
author Jon Brisbin <jon@jbrisbin.com> 1302296386 -0500
committer J. Brisbin <jon@jbrisbin.com> 1302296386 -0500

    Fix to get rid of problem using Arrays.asList(Object[]). Now creates new LinkedList to preserve order of original array.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/CompoundIndex.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/Indexed.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/CustomCollectionWithIndex.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/DetectedCollectionWithIndex.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit 7b673f7bc33a92f75df0af562d8a0ac7d64f7bee
tree 385951f836a2c6402637a1b221cc57523f7cb409
parent d4ef431a8948fd66f5f9b0c7f7ffb206fb3c0d7b
author Thomas Risberg <trisberg@vmware.com> 1302274185 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302274185 -0400

    removed compiler plugin

M	pom.xml

commit d4ef431a8948fd66f5f9b0c7f7ffb206fb3c0d7b
tree 16a87c86fd0f5b9b7d8b7e808a652b9ac2323d74
parent a11218cd9c7aecec91f9f241b012c4ba52d2942f
author Thomas Risberg <trisberg@vmware.com> 1302241468 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302241481 -0400

    removed javascript code-snippet attribute to keep docbook plugin from barfing

M	src/docbkx/reference/cross-store.xml

commit a11218cd9c7aecec91f9f241b012c4ba52d2942f
tree 141466bda5366526eccbc362d120e8617cce9082
parent e5f2e4151f8b7a3cb5654a86e07309f4ef5a8903
parent 76b9922e35d9df652c7b6a94dd271b940d44ad52
author Mark Pollack <mark.pollack@springsource.com> 1302241076 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302241076 -0400

    Merge remote branch 'origin/master'

commit e5f2e4151f8b7a3cb5654a86e07309f4ef5a8903
tree 3916751030a54f0b8e78502691bc69db18e2e944
parent 8c4219bbd263d5365626eb5c5c9476e2368cadf6
author Mark Pollack <mark.pollack@springsource.com> 1302241049 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302241049 -0400

    update docs
    add remove method on mongotemplate to MongoOperations
    change Venue to use primitive arrays

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonExample.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Venue.java
M	src/docbkx/reference/mongodb.xml

commit 76b9922e35d9df652c7b6a94dd271b940d44ad52
tree 1b1f4e767ac39952b21e90cab1bfac9966f4e92c
parent 486b9a0e1db8dc1977d70a74902c5f571474d1a2
author Thomas Risberg <trisberg@vmware.com> 1302238536 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302238547 -0400

    DATADOC-48 moved clearing change-set values to postRemove lifecycle

M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongo/MongoDocumentBacking.aj

commit 486b9a0e1db8dc1977d70a74902c5f571474d1a2
tree 9681dee43483b859837eb1bd527926d8e9b6c3f0
parent 8c4219bbd263d5365626eb5c5c9476e2368cadf6
author Thomas Risberg <trisberg@vmware.com> 1302238473 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302238547 -0400

    some additional cross-store docs

M	src/docbkx/reference/cross-store.xml

commit 8c4219bbd263d5365626eb5c5c9476e2368cadf6
tree bf22db4a2806c444936bb8d85659ebd132ae5635
parent e7d47c4626bbd5d28cd591d208dec39611f2acf0
author Mark Pollack <mark.pollack@springsource.com> 1302234038 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302234038 -0400

    Add additional remove methods to MongoTemplate and make consistent with write handling of String <-> ObjectId conversion when using SimpleMongoConverter
    Update docs

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonExample.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonExampleAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfTypeString.java
M	src/docbkx/reference/mongodb.xml

commit e7d47c4626bbd5d28cd591d208dec39611f2acf0
tree 02af924c9dfa59976f63ccffb713b0b110f88335
parent d3a3809ba38412407cd6dd8a2a6bc139a554a238
parent dfe7d164755fea8440f8fb2fe76757fcb9a4a074
author Mark Pollack <mark.pollack@springsource.com> 1302218956 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302218956 -0400

    Merge remote branch 'origin/master'

commit d3a3809ba38412407cd6dd8a2a6bc139a554a238
tree 9beae29d99d1284a5eaba4d89f0a0604ec85e8fd
parent dd5b66f60e057750c73d2d54a7b4d1ba12f72a50
author Mark Pollack <mark.pollack@springsource.com> 1302218934 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302218934 -0400

    Example code for documentation

A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonExample.java

commit dd5b66f60e057750c73d2d54a7b4d1ba12f72a50
tree e1b5d3b049cf12d938ef4cd0bcb8a8b8a18bbc50
parent 9bd1257b6a64098f5aa6ea8b2f019a3255e49658
author Mark Pollack <mark.pollack@springsource.com> 1302218904 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302218904 -0400

    add some syntax sugar using statics

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Query.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Update.java

commit 9bd1257b6a64098f5aa6ea8b2f019a3255e49658
tree 70cd2e516760f528f16f8ed6935499f876e530ec
parent 0ba72e9e0eabf5d34411892ad90781aed1f5d3bc
author Mark Pollack <mark.pollack@springsource.com> 1302218889 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302218889 -0400

    remove some extraneous ctors

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 0ba72e9e0eabf5d34411892ad90781aed1f5d3bc
tree 1d28b0fe0c7a82d26cfbc3e47425843cfb1581d5
parent c21301f00ba189b23d13dac9077ee107957730a2
author Mark Pollack <mark.pollack@springsource.com> 1302218873 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302218873 -0400

    be more explicit in wiring multiple string ctor args in xml

M	spring-data-mongodb/src/test/resources/geospatial.xml
M	spring-data-mongodb/src/test/resources/mapping.xml

commit c21301f00ba189b23d13dac9077ee107957730a2
tree 87ce4909c3b30faca3cc1b7e7a3425d5e2744078
parent d8ce9189f114561484d3bb6d085ff379ea45d9a0
author Mark Pollack <mark.pollack@springsource.com> 1302218756 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302218756 -0400

    remove a some ctors in mongo template

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoExceptionTranslator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java

commit d8ce9189f114561484d3bb6d085ff379ea45d9a0
tree bf1e0b3c781f669b9b8b240e5815c1d23f087fdb
parent 403792b412c26e663969864ef763adb9a8cd4119
author Mark Pollack <mark.pollack@springsource.com> 1302218691 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302218691 -0400

    documentation updates

M	src/docbkx/reference/mapping.xml
M	src/docbkx/reference/mongodb.xml

commit dfe7d164755fea8440f8fb2fe76757fcb9a4a074
tree b391974df70703d8b4aa5a4bfd58313c4c7da8e8
parent 21a7a538bfe4ddcac0a15ac842cb597ef213a78c
author Thomas Risberg <trisberg@vmware.com> 1302217657 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302217657 -0400

    first cut of cross-store chapter; fixed document title

M	src/docbkx/reference/cross-store.xml
M	src/docbkx/resources/xsl/fopdf.xsl

commit 21a7a538bfe4ddcac0a15ac842cb597ef213a78c
tree 25c1c00117168a824e2a50ae5c3ece607e10f997
parent dd2e1acf0549e08dff40d8b8dab7e73dd73cad4a
author Thomas Risberg <trisberg@vmware.com> 1302211147 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302211156 -0400

    beginning of cross-store docs

M	src/docbkx/reference/cross-store.xml

commit dd2e1acf0549e08dff40d8b8dab7e73dd73cad4a
tree 3e3cde4c4ffdbd81d7536870e53aeca0587f1dc0
parent 403792b412c26e663969864ef763adb9a8cd4119
author Thomas Risberg <trisberg@vmware.com> 1302211127 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302211156 -0400

    updated AspectJ version

M	spring-data-document-parent/pom.xml

commit 403792b412c26e663969864ef763adb9a8cd4119
tree 90605cb49040df2c9e2d2a68f7749d32c34fd7ac
parent dd684dd0e8fda297eada8a5f2ef83507496bc4ea
author Mark Pollack <mark.pollack@springsource.com> 1302210444 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302210444 -0400

    add images in documentation

M	pom.xml
M	src/docbkx/reference/jmx.xml
A	src/docbkx/resources/images/jconsole.png

commit dd684dd0e8fda297eada8a5f2ef83507496bc4ea
tree fa6610057a63322894ebc962bd3a781926dffaf3
parent 348924b865c6077f0e452c4440171d0a6c9af6a6
author Mark Pollack <mark.pollack@springsource.com> 1302202445 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302202445 -0400

    fix highlighting in documentation for java/xml program listings

M	pom.xml
M	src/docbkx/reference/mongodb.xml
M	src/docbkx/resources/css/highlight.css
M	src/docbkx/resources/css/html.css
D	src/docbkx/resources/css/stylesheet.css
D	src/docbkx/resources/images/.gitignore
D	src/docbkx/resources/images/jconsole.png
M	src/docbkx/resources/xsl/fopdf.xsl
A	src/docbkx/resources/xsl/highlight-fo.xsl
A	src/docbkx/resources/xsl/highlight.xsl
M	src/docbkx/resources/xsl/html.xsl
D	src/docbkx/resources/xsl/html/html_chunk.xsl
D	src/docbkx/resources/xsl/html/titlepage.xml
M	src/docbkx/resources/xsl/html_chunk.xsl
D	src/docbkx/resources/xsl/pdf/fopdf.xsl
D	src/docbkx/resources/xsl/pdf/titlepage.xml

commit 348924b865c6077f0e452c4440171d0a6c9af6a6
tree 1e8b08edfdc5896f23d85474844d3770c692336f
parent e2aca7d2d39e368a0ed8c16ee3853a0bfddcbf51
author Mark Pollack <mark.pollack@springsource.com> 1302200004 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302200004 -0400

    Quick fix of failing test

A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoIndexedAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoIndexedTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoLocation.java

commit e2aca7d2d39e368a0ed8c16ee3853a0bfddcbf51
tree b402b9983df690d505822faa825e52412d6ba663
parent e0720fa6f54c87cb9a60c4407c1270dd01fb777f
author Thomas Risberg <trisberg@vmware.com> 1302194698 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302194698 -0400

    DATADOC-85 checked for null Query passed in

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit e0720fa6f54c87cb9a60c4407c1270dd01fb777f
tree faff62c5cabd7d149c052a7698bce59ce94e50b0
parent ec6cec99b76bace9ecb268bd6c83586ce66138ff
author Thomas Risberg <trisberg@vmware.com> 1302191549 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302191557 -0400

    DATADOC-85 added mapping from 'id' to '_id' for queries used in remove operation

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java

commit ec6cec99b76bace9ecb268bd6c83586ce66138ff
tree 478e70f99d966b3688b8bfbefb3e4a2c949a867f
parent 4d79cdc61dca479be7a0ef07b2817051ab3f00a2
author Jon Brisbin <jon@jbrisbin.com> 1302191267 -0500
committer J. Brisbin <jon@jbrisbin.com> 1302191267 -0500

    DATADOC-87 - Created GeoSpatialIndexed annotation and modified index creation listener to create geospatial indexes. Also added test case for same.

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/GeoSpatialIndexed.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntityIndexCreator.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoIndexedTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeoLocation.java

commit 4d79cdc61dca479be7a0ef07b2817051ab3f00a2
tree bf1077419df2bf77ca26fcbb1e1f132da8c60d9c
parent a86c3409cec36bf9b07259716fcf56b668ea61d8
author Thomas Risberg <trisberg@vmware.com> 1302188047 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302188047 -0400

    added a MongoTemplate to the mapping configuration code sample

M	src/docbkx/reference/mapping.xml

commit a86c3409cec36bf9b07259716fcf56b668ea61d8
tree f434ed88b6c1bddea977691672bffbc17d3f40e8
parent 5ec5d57fe413f38e53555310f644ef8695006ed4
author Oliver Gierke <info@olivergierke.de> 1302155869 +0200
committer Oliver Gierke <info@olivergierke.de> 1302155909 +0200

    Aligned names of bean definition parsers.

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MappingMongoConverterParser.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryConfigDefinitionParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryConfigParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryNamespaceHandler.java

commit 5ec5d57fe413f38e53555310f644ef8695006ed4
tree b20edeae440d6ba80476c6812237be35d46460dc
parent 76cdde1c9fccb84522cdd2fcb4360f2bcc21a482
author Oliver Gierke <info@olivergierke.de> 1302155721 +0200
committer Oliver Gierke <info@olivergierke.de> 1302155909 +0200

    Removed duplication in SimpleMongoConverter and MappingMongoConverter.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/ObjectIdConverters.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java

commit 76cdde1c9fccb84522cdd2fcb4360f2bcc21a482
tree 6640de7ee96eab263d36cbaabbfa712485013df0
parent fecb060f4f1a47853c42ae463661a84fad4eca08
author Oliver Gierke <info@olivergierke.de> 1302154995 +0200
committer Oliver Gierke <info@olivergierke.de> 1302155909 +0200

    DATADOC-75 - Changed addConverters(…) to setConverters(…).
    
    Removed empty constructor to enforce a MappingContext being passed into MappingMongoConverter. Removed the setter for MappingContext. initializeConverters now checks for existence of a converter for ObjectId-to-whatever before adding one in both SimpleMongoConverter as well as MappingMongoConverter.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/AbstractMongoConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java

commit fecb060f4f1a47853c42ae463661a84fad4eca08
tree 4eb921b80938ae2166798aa0fe469d18afc9c3bf
parent 302f111c56680f7d2cb4e80ee9479c395ee9b4ea
author Mark Pollack <mark.pollack@springsource.com> 1302154974 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302154974 -0400

    DATADOC-59 - Document @Query annotation for repositories

M	src/docbkx/reference/mongo-repositories.xml

commit 302f111c56680f7d2cb4e80ee9479c395ee9b4ea
tree 40ff99cb49ca122d9e980806135cbd3a59ffe061
parent b00684d968419aa59eeef035c254f8256d0df90b
author Mark Pollack <mark.pollack@springsource.com> 1302154897 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302154897 -0400

    DATADOC-82 - Document QueryDslPredicateExecutor

M	src/docbkx/reference/mongo-repositories.xml

commit b00684d968419aa59eeef035c254f8256d0df90b
tree 25a2e1fcb8effb828a9f1e619096a1a77cea0e89
parent e35864cd5bb9be68e275bdc69113781eb314e351
author Mark Pollack <mark.pollack@springsource.com> 1302154395 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302154395 -0400

    DATADOC-59 - Document @Query annotation for repositories

M	src/docbkx/reference/mongo-repositories.xml

commit e35864cd5bb9be68e275bdc69113781eb314e351
tree a1ec1261836721d4fb1672d656aa0c39bd7e29bf
parent 1c3483abbf05e53c143a8ff374d90a3f7a7ecbb8
author Mark Pollack <mark.pollack@springsource.com> 1302154322 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302154322 -0400

    DATADOC-62 - Create abstract @Configuration class for Mongo Configuration

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/AbstractMongoConfiguration.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/LoggingEventListener.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/MappingEventListener.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialAppConfig.java
M	spring-data-mongodb/src/test/resources/mapping.xml

commit 1c3483abbf05e53c143a8ff374d90a3f7a7ecbb8
tree 250e6221f01d99e350d77bc2337411f72c6ac6fa
parent e9467822596223e05d780e20b6e1aec05e55d675
author Mark Pollack <mark.pollack@springsource.com> 1302153936 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302153936 -0400

    DATADOC-59 - Document @Query annotation for repositories
    DATADOC-82 - Document QueryDslPredicateExecutor

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQuery.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java
M	src/docbkx/index.xml
A	src/docbkx/reference/cross-store.xml
A	src/docbkx/reference/logging.xml
M	src/docbkx/reference/mongo-repositories.xml
M	src/docbkx/reference/mongodb.xml

commit e9467822596223e05d780e20b6e1aec05e55d675
tree c9988ca898afe1e21130464154d6eb7fbaacb7cc
parent 8cfdd6ffc98fbaea0a68f014e76b6ce308d95fab
author Thomas Risberg <trisberg@vmware.com> 1302134849 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302134849 -0400

    adding tem[late tests for a query using $in

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java

commit 8cfdd6ffc98fbaea0a68f014e76b6ce308d95fab
tree 6afb5ebfd7251473df8a167feb49f02e3a283b5a
parent bcbacf981d77d73e93d0c54a4740b532909960d1
author Thomas Risberg <trisberg@vmware.com> 1302133242 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302133242 -0400

    DATADOC-56 running same id/_id tests for both SimpleMongoConverter and MappingMongoConverter

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java

commit bcbacf981d77d73e93d0c54a4740b532909960d1
tree 92fb68f7c588b2a7690758616ad3c7a00dbc1d3e
parent c5c8a78acbd9a90dc988154ffa6cf38a24270c96
author Thomas Risberg <trisberg@vmware.com> 1302130178 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302130185 -0400

    DATADOC-48 added more complexity to test

M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/CrossStoreMongoTests.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/test/Person.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/test/Resume.java
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml

commit c5c8a78acbd9a90dc988154ffa6cf38a24270c96
tree f42dc9dacb7af3c9d20af471df56f0596c80439e
parent 5359af9745747cad1151fddf4bf18bc4d018beb1
author Thomas Risberg <trisberg@vmware.com> 1302130152 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302130185 -0400

    added test for $in

A	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/test/Address.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryTests.java

commit 5359af9745747cad1151fddf4bf18bc4d018beb1
tree 0d2591303bce24236c1a9ae5d80f3a114b2c79f8
parent 9fe27e590da90ca3b2f777c94045bc2434122239
author Mark Pollack <mark.pollack@springsource.com> 1302129300 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302129300 -0400

    DATADOC-5 - Provide detailed mapping of Mongo errors onto Spring DAO exception

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoExceptionTranslator.java

commit 9fe27e590da90ca3b2f777c94045bc2434122239
tree b02cc9368431b4a559c4132b511077402d12e5de
parent 40d9930b2c832628d0e067aedadbb3e057210129
author Mark Pollack <mark.pollack@springsource.com> 1302128511 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302128511 -0400

    DATADOC-62 - Create abstract @Configuration class for Mongo Configuration

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/AbstractMongoConfiguration.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/MappingEventListener.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialAppConfig.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingEventsListener.java
M	spring-data-mongodb/src/test/resources/geospatial.xml
M	spring-data-mongodb/src/test/resources/mapping.xml

commit 40d9930b2c832628d0e067aedadbb3e057210129
tree 79e77a037872c885ffce08b6396923198da44b54
parent ce1735270236c6aa5320a0ac5ac551d61c7825a0
author Mark Pollack <mark.pollack@springsource.com> 1302121905 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302121905 -0400

    DATADOC-75 - Rename setConverters(...) to addConverters(...) in MongoConverter implementations

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java

commit ce1735270236c6aa5320a0ac5ac551d61c7825a0
tree 75bd07ec9005bc49c5c6b1876074419a515a64d5
parent 2e874e6dbcc4312f6ff7cc4e6c2b750afbb1b7b9
author Jon Brisbin <jon@jbrisbin.com> 1302118026 -0500
committer J. Brisbin <jon@jbrisbin.com> 1302118026 -0500

    DATADOC-79: Check for situation that causes an error if a unique index doesn't also specify sparse=true and issue a warning message in the log.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntityIndexCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Person.java

commit 2e874e6dbcc4312f6ff7cc4e6c2b750afbb1b7b9
tree f177e323b038d58615315479d4b616734270162e
parent fbc45f5b52d4353b9c65ad819428f2cf30020e15
author Mark Pollack <mark.pollack@springsource.com> 1302114875 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302114875 -0400

    DATADOC-67 - Criteria API to support keywords for geo search

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Box.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Point.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java
M	spring-data-mongodb/src/test/resources/geospatial.xml

commit fbc45f5b52d4353b9c65ad819428f2cf30020e15
tree 67f7eb9102cbe7e14243abdc70a26c1e1a501a3c
parent de19359eea371667626183cabba174eabb27086e
author Oliver Gierke <info@olivergierke.de> 1302108144 +0200
committer Oliver Gierke <info@olivergierke.de> 1302108762 +0200

    Removed forced conversion of id property to ObjectId before querying.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java

commit de19359eea371667626183cabba174eabb27086e
tree 079b1a0ba5a7d411dba30233bbd1c762e3e66395
parent ff78ecf1be517b59d7dbc4eb65fcc3ac4f0b7b8f
parent f774a607ef4585d4a468c78c0a12fa00ab8c4ebc
author J. Brisbin <jon@jbrisbin.com> 1302108687 -0500
committer J. Brisbin <jon@jbrisbin.com> 1302108687 -0500

    Merge branch 'master' of github.com:SpringSource/spring-data-document

commit ff78ecf1be517b59d7dbc4eb65fcc3ac4f0b7b8f
tree 93b1dc8d1b1021f0f07cccea536bd29074023235
parent 9fb1a9e63af997100fee5987505664f8a273ce97
author J. Brisbin <jon@jbrisbin.com> 1302108673 -0500
committer J. Brisbin <jon@jbrisbin.com> 1302108673 -0500

    Fix for test case using a different constructor

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonCustomIdName.java

commit f774a607ef4585d4a468c78c0a12fa00ab8c4ebc
tree 9b444272d54a1235137b76566dcbd7d44e743438
parent 9fb1a9e63af997100fee5987505664f8a273ce97
author Thomas Risberg <trisberg@vmware.com> 1302108486 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302108486 -0400

    fixed added additional test without generated id for testPersonWithCustomIdName

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit 9fb1a9e63af997100fee5987505664f8a273ce97
tree 20480b081753b823e8c60c812660c5557dc18651
parent 35d49986380131a25264cb2a40ffe3a4ea4b44a5
author Thomas Risberg <trisberg@vmware.com> 1302107870 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302108271 -0400

    added additional test without generated id for testPersonWithCustomIdName

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit 35d49986380131a25264cb2a40ffe3a4ea4b44a5
tree ddf3ee1e92ef63922d7565f0ec95b161cb5f0328
parent cdb57b114614ea88ce79ac9b13ffe94806b3e4a7
author Jon Brisbin <jon@jbrisbin.com> 1302107814 -0500
committer J. Brisbin <jon@jbrisbin.com> 1302107863 -0500

    Added code to look for @Document(collection="customcollection") in template.insertList(), added tests for same.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GeneratedId.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonCustomCollection1.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonCustomCollection2.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonCustomIdName.java

commit cdb57b114614ea88ce79ac9b13ffe94806b3e4a7
tree d27ceb950a9cd0bf7e63790048127d0f19e37a57
parent c274bef3c88b2b0c3a4531dd9b3a657a81d321cb
author Thomas Risberg <trisberg@vmware.com> 1302105074 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302105074 -0400

    removed PersonInvalidId test

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit c274bef3c88b2b0c3a4531dd9b3a657a81d321cb
tree 2f20a96e8c5c25c4c5dcb0d426d5cbe412e148e4
parent 1b4edb35b0341975ce373a0dcbc2d466d1f4c804
author Jon Brisbin <jon@jbrisbin.com> 1302104649 -0500
committer J. Brisbin <jon@jbrisbin.com> 1302104649 -0500

    Removed some obsolete code, changed the way the converter handles _id types.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonCustomIdName.java

commit 1b4edb35b0341975ce373a0dcbc2d466d1f4c804
tree 86637681063c6363fa674f23a2c7b63c2800c7ae
parent c8eb42a6f751adaf2c57176b60c14999b44c23b0
author Thomas Risberg <trisberg@vmware.com> 1302104391 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302104391 -0400

    DATADOC-48 added new @RelatedDocument annotation

A	spring-data-document-core/src/main/java/org/springframework/data/document/annotation/RelatedDocument.java
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongo/MongoDocumentBacking.aj
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/test/Person.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/Document.java

commit c8eb42a6f751adaf2c57176b60c14999b44c23b0
tree 2ba9cf28e8d91f7e5eca8e8544b81b6dbb2f6b12
parent a983c07b6585bd7e6fbaeec6f0c6f3b9b6ce1f4f
author Thomas Risberg <trisberg@vmware.com> 1302099641 -0400
committer Thomas Risberg <trisberg@vmware.com> 1302099641 -0400

    fixed test so it works on both MongoDB 1.6.5 and 1.8.0

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java

commit a983c07b6585bd7e6fbaeec6f0c6f3b9b6ce1f4f
tree 95e2ad67e03f12d5497fbe6405516d7c26ea8601
parent 4175791d0b1840f10a5f1edc98cedb53faac3931
author Mark Pollack <mark.pollack@springsource.com> 1302058817 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302058817 -0400

    Change MongoTemplate.save to call getEntityCollection
    MongoTemplate.getEntityCollection checks mappingContext to auto-register classes
    Remove autowire option from mapping-converter xsd
    Enable GeoSpatialTests

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Venue.java
M	spring-data-mongodb/src/test/resources/geospatial.xml
M	spring-data-mongodb/src/test/resources/mapping.xml

commit 4175791d0b1840f10a5f1edc98cedb53faac3931
tree f89f2d03baeb6d305645df77f0f2865e65523af0
parent b43b5aa4b2a6920d0e757d0f595a8c6c97443441
author Mark Pollack <mark.pollack@springsource.com> 1302035848 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302035858 -0400

    DATADOC-67 - Criteria API to support keywords for geo search

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Point.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java

commit b43b5aa4b2a6920d0e757d0f595a8c6c97443441
tree 05adf0bb3e676fac29e3ec2760cece49f8cddb97
parent 3e2a60c89a20fa63419c8fe7840c0ee5c5e01268
author Jon Brisbin <jon@jbrisbin.com> 1302035328 -0500
committer J. Brisbin <jon@jbrisbin.com> 1302035328 -0500

    Took out documentation reference to autowire property which was removed in previous commit.

M	src/docbkx/reference/mapping.xml

commit 3e2a60c89a20fa63419c8fe7840c0ee5c5e01268
tree 87453a0a64bdf3bec68762a0cff25175c29b2df7
parent 6e1af80b5f4545e2ef95f6b58a85127b96ed3f96
author Jon Brisbin <jon@jbrisbin.com> 1302034369 -0500
committer J. Brisbin <jon@jbrisbin.com> 1302034369 -0500

    DATADOC-78: Refactored some of the code to use a new MappingContextAware interface available in spring-data-commons-core for obtaining a reference to the active MappingContext. Also added proper configuration to the namespace handler. Also tweaked the docs slightly.

M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntity.java
M	src/docbkx/reference/mapping.xml

commit 6e1af80b5f4545e2ef95f6b58a85127b96ed3f96
tree a72a79b1e300b8f8edd8f35a5acffc018e084d72
parent a3e67bd0a326005a2e53e02a721f4c7d6b566b0b
author Mark Pollack <mark.pollack@springsource.com> 1302031594 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302031594 -0400

    documentation updates

M	src/docbkx/reference/mongodb.xml

commit a3e67bd0a326005a2e53e02a721f4c7d6b566b0b
tree 447c74eee2099f8e0805fbd72128e6f98daf8ead
parent 1b5986f3ad03a4047d00c6848ca12b27c6943ebc
author Mark Pollack <mark.pollack@springsource.com> 1302026669 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1302026669 -0400

    update introductory docs

M	src/docbkx/introduction/getting-started.xml
M	src/docbkx/introduction/introduction.xml
M	src/docbkx/introduction/why-sd-doc.xml

commit 1b5986f3ad03a4047d00c6848ca12b27c6943ebc
tree bd53510c72798fe1849c2e319cbc83690ceedc7f
parent 305121ae7e7dabba5b46aa09ce1a68df379c752c
author Oliver Gierke <info@olivergierke.de> 1302002594 +0200
committer Oliver Gierke <info@olivergierke.de> 1302002594 +0200

    Ignore GeoSpatialTests for now as it breaks the build and thus prevents publication of artifacts.

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java

commit 305121ae7e7dabba5b46aa09ce1a68df379c752c
tree 2e42bc29e55a49fb0c63e35abbec6362c7225ca8
parent 478afae92546872d30a7680b6ed76496d207d92c
author Oliver Gierke <info@olivergierke.de> 1301993890 +0200
committer Oliver Gierke <info@olivergierke.de> 1301993890 +0200

    DATAJPA-44 - Adapted refactorings in Spring Data Commons Core.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryMethod.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQueryUnitTests.java

commit 478afae92546872d30a7680b6ed76496d207d92c
tree 551ff7858b3e6a013d607b626f2abe355f07fc86
parent 3fdd43bef851ed0adcb015eb9ac5c53acb5782e1
author Oliver Gierke <info@olivergierke.de> 1301983527 +0200
committer Oliver Gierke <info@olivergierke.de> 1301983527 +0200

    DATACMNS-24 - Adapted refactorings in Spring Data Commons Core.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java

commit 3fdd43bef851ed0adcb015eb9ac5c53acb5782e1
tree c93bb0f46c63cfafcf3d9ed700e58dee1c97b136
parent b25e0c432eba7a194c8c891fdad60380b0654faa
author Jon Brisbin <jon@jbrisbin.com> 1301948082 -0500
committer J. Brisbin <jon@jbrisbin.com> 1301948082 -0500

    DATADOC-78: Added code to MongoTemplate to check for overriden collection name when saving an entity without specifying a collection. Removed SLF4J from source code and reverted to commons-logging API for internal logging.

M	spring-data-couchdb/pom.xml
M	spring-data-document-core/pom.xml
M	spring-data-document-parent/pom.xml
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/test/Resume.java
M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntityIndexCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/AbstractMappingEventListener.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQuery.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Location.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingEventsListener.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/template.mf

commit b25e0c432eba7a194c8c891fdad60380b0654faa
tree f70775a1874b52b9060158f5298f239e5860f792
parent ece8e7500f536f42a33a8f545862e880f7f062a2
author Jon Brisbin <jon@jbrisbin.com> 1301933194 -0500
committer J. Brisbin <jon@jbrisbin.com> 1301933194 -0500

    Added catch/ignore in base event listener to keep from blowing chunks when listener is defined with a different generic type. Added event listener to the tests.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/AbstractMappingEventListener.java
M	spring-data-mongodb/src/test/resources/mapping.xml

commit ece8e7500f536f42a33a8f545862e880f7f062a2
tree 7618c41477884a0c7b2f814ee16b1cad1e2dabc3
parent fac31f5ce3ae1ee2ee64b8d145d39ef0f058f925
author J. Brisbin <jon@jbrisbin.com> 1301922772 -0500
committer J. Brisbin <jon@jbrisbin.com> 1301922772 -0500

    Tweaked docs for event handlers.

M	src/docbkx/reference/mapping.xml

commit fac31f5ce3ae1ee2ee64b8d145d39ef0f058f925
tree b3b7dfc8b3a955dfd7a4637c3efbd6b9cea169d6
parent ba76226abd30cd00a9262c132edc51533f333ce9
author J. Brisbin <jon@jbrisbin.com> 1301685779 -0500
committer J. Brisbin <jon@jbrisbin.com> 1301685779 -0500

    Quick-and-dirty coverage of event handling the documentation

M	src/docbkx/reference/mapping.xml

commit ba76226abd30cd00a9262c132edc51533f333ce9
tree d78cc105ca94eca076bc74fc0aec3f861fd427e0
parent 979d6748babe45a437bca874237db76e3963de22
author J. Brisbin <jon@jbrisbin.com> 1301675432 -0500
committer J. Brisbin <jon@jbrisbin.com> 1301675432 -0500

    Fix for array primitives, pushing first bit of documentation

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingContext.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Location.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	src/docbkx/index.xml
A	src/docbkx/reference/mapping.xml

commit 979d6748babe45a437bca874237db76e3963de22
tree bee83325aaa86d790b20408db417e83e1edd7474
parent db45349553a8c61dc13dbbb7a7db0b6db7461d85
author Thomas Risberg <trisberg@vmware.com> 1301626930 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301626930 -0400

    fixed artifactId for the mongodb log4j module

M	spring-data-mongodb-log4j/pom.xml

commit db45349553a8c61dc13dbbb7a7db0b6db7461d85
tree 6367c2de26a0f912e71b0977bea32356e643a603
parent 7e774428e44e8c4035f7d8146d36dc3cb4739046
author Thomas Risberg <trisberg@vmware.com> 1301626861 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301626861 -0400

    fixed coordinates for Penn Station

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java

commit 7e774428e44e8c4035f7d8146d36dc3cb4739046
tree 9056c6b92e2987768fae3e93f342d5161b7af484
parent 2b9b08297835c899acdbd3d6580057a827cf4c0f
author Mark Pollack <mark.pollack@springsource.com> 1301611568 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1301611729 -0400

    DATADOC-67 - Criteria API to support keywords for geo search

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoAdmin.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoExceptionTranslator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/geo/Circle.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Venue.java

commit 2b9b08297835c899acdbd3d6580057a827cf4c0f
tree acdf8b69a06fc0064dde23fd8cc0cc0abb378ff2
parent f4f9eac03a4d518435d624dcb5900c296518039b
author Thomas Risberg <trisberg@vmware.com> 1301610831 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301610831 -0400

    DATADOC-72 renamed Query.and() to Query.addCriteria() to avoid confusion with Criteria.add() method that supports chained Criteria

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Query.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryTests.java
M	src/docbkx/reference/mongodb.xml

commit f4f9eac03a4d518435d624dcb5900c296518039b
tree 391c0806e35e5f04de33cd26d6fba7dff2650f17
parent a13579f487f2f6449f23f14455ab39a570461863
author Thomas Risberg <trisberg@vmware.com> 1301605868 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301605879 -0400

    DATADOC-48 added support for removing any related Mongo documents when entities are removed

M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongo/MongoChangeSetPersister.java
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongo/MongoDocumentBacking.aj
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/CrossStoreMongoTests.java

commit a13579f487f2f6449f23f14455ab39a570461863
tree 953886691a299799544e5c9781f123fb27a7ab7b
parent f9f26e7668c7f60ec818b434f633b4a7b572bba5
author Mark Pollack <mark.pollack@springsource.com> 1301604541 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1301604541 -0400

    Remove duplication of IndexDefinition classes.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/IndexDefinition.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/index/MongoIndexDefinition.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/GeospatialIndex.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Index.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/IndexDefinition.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/GeoSpatialTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/IndexTests.java
A	spring-data-mongodb/src/test/resources/geospatial.xml
M	spring-data-mongodb/src/test/resources/mapping.xml

commit f9f26e7668c7f60ec818b434f633b4a7b572bba5
tree 8e9c0afcfab309d2435edb749fdda439f10bb75b
parent 8723d85570547c5b333d43d64a2624ac0168911a
author Thomas Risberg <trisberg@vmware.com> 1301593393 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301593393 -0400

    DATADOC-48 added advice for moving changeset from detached entity to newly merged persistent entity

M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongo/MongoChangeSetPersister.java
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongo/MongoDocumentBacking.aj
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/CrossStoreMongoTests.java
A	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/test/Person.java
A	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/test/Resume.java
D	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/Person.java
D	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/Resume.java
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/persistence.xml

commit 8723d85570547c5b333d43d64a2624ac0168911a
tree 02084d59f5c19ff6c92b0432ca736f42ecca6b52
parent bbd55fa456442d54793c1fa30d16419b5f67bcfb
author Thomas Risberg <trisberg@vmware.com> 1301579993 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301579993 -0400

    DATADOC-76 added documenattion for findAndRemove

M	src/main/resources/changelog.txt

commit bbd55fa456442d54793c1fa30d16419b5f67bcfb
tree e406aff514428091b2fd8c5e9552fa440f284368
parent 52f42b29d706b9afbd07668409751bc3b8131385
author Thomas Risberg <trisberg@vmware.com> 1301577919 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301577919 -0400

    DATADOC-76 added documenattion for findAndRemove

M	src/docbkx/reference/mongodb.xml

commit 52f42b29d706b9afbd07668409751bc3b8131385
tree d88c975fb75d68384786f52ebe3c7c7cc76e2906
parent 2c5d0b3893d384928c2f78dc2d050db59a537466
author Thomas Risberg <trisberg@vmware.com> 1301523558 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301530004 -0400

    DATADOC-76 added support for findAndRemove to MongoTemplate

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Message.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java

commit 2c5d0b3893d384928c2f78dc2d050db59a537466
tree 995c108f47cc9ee602c67086f6ce47dd451892b6
parent 27ba19eac657fd789983ca4345ab49fa545ad844
author Jon Brisbin <jon@jbrisbin.com> 1301522918 -0500
committer J. Brisbin <jon@jbrisbin.com> 1301522918 -0500

    Fix for null dbobjects causing NPEs in event framework.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 27ba19eac657fd789983ca4345ab49fa545ad844
tree bfa3bbf3735509c15ea2a5fe161a80b7171d88fc
parent 1bc042666ab196aeb81c3eda1bad22b852e2db87
author Jon Brisbin <jon@jbrisbin.com> 1301520773 -0500
committer J. Brisbin <jon@jbrisbin.com> 1301520773 -0500

    Tweaked the README to cover configuring the collection name using Log4J pattern.

M	spring-data-mongodb-log4j/README.md

commit 1bc042666ab196aeb81c3eda1bad22b852e2db87
tree 9cb0ba96acf11e3fcdbff46b8eac8d3ddda8f9b8
parent 9b97c27599701f57d86fc139a1c0f1a110555cc9
parent 057eeb101c8d7b70d348b611da821c03f09e067b
author Jon Brisbin <jon@jbrisbin.com> 1301520481 -0500
committer J. Brisbin <jon@jbrisbin.com> 1301520481 -0500

    Merge branch 'master' of github.com:SpringSource/spring-data-document
    
    Conflicts:
    	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit 9b97c27599701f57d86fc139a1c0f1a110555cc9
tree 1f4eec0aa81ac8c0bf489d151552ba91a8e410b2
parent 8e9cf3a9b195d97d844ec209522c1e721e5c413a
author Jon Brisbin <jon@jbrisbin.com> 1301520083 -0500
committer J. Brisbin <jon@jbrisbin.com> 1301520083 -0500

    Use Log4J pattern to generate collection name, fix for test data cleanup.

M	spring-data-mongodb-log4j/src/main/java/org/springframework/data/document/mongodb/log4j/MongoLog4jAppender.java
M	spring-data-mongodb-log4j/src/test/java/org/springframework/data/document/mongodb/log4j/AppenderTest.java
M	spring-data-mongodb-log4j/src/test/resources/log4j.properties
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit 057eeb101c8d7b70d348b611da821c03f09e067b
tree 711f346771b4dc8da3c1eedfe41a350e0ebc0389
parent bfb3db5a2e375298538ca1d2c50dbc91c16e3082
author Thomas Risberg <trisberg@vmware.com> 1301447827 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301447836 -0400

    DATADOC-48 using the entity lifecycle for transaction synch registration

M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongo/MongoDocumentBacking.aj
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/CrossStoreMongoTests.java

commit bfb3db5a2e375298538ca1d2c50dbc91c16e3082
tree 10592046433a014191a405a17c03a9d575348986
parent c0b8a8e227a46020082aa7735260bbc8041f361e
author Thomas Risberg <trisberg@vmware.com> 1301447771 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301447836 -0400

    more tests for the chained Criteria support

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryTests.java

commit c0b8a8e227a46020082aa7735260bbc8041f361e
tree 79f15d099428b6233fa7824e9533de5e8343d551
parent 8e9cf3a9b195d97d844ec209522c1e721e5c413a
author Mark Pollack <mark.pollack@springsource.com> 1301436070 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1301436070 -0400

    DATADOC-74 Update to version 2.4 of mongo driver

M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit 8e9cf3a9b195d97d844ec209522c1e721e5c413a
tree a8e42d54691bfe6ba350fb836c3bf477b4fea539
parent 1b9726c3b6c95df549a14d73f9e0f10a4766ecca
author Jon Brisbin <jon@jbrisbin.com> 1301429843 -0500
committer J. Brisbin <jon@jbrisbin.com> 1301429843 -0500

    Fix for build, which was failing on MvcEvent being null in one of the tests.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 1b9726c3b6c95df549a14d73f9e0f10a4766ecca
tree d3377c4358a17277d26d830b617386100c4e4151
parent 7e5378bf6001c6a7ad58d3ab1f7329852bc97bd4
parent 940823778e042fb3a88a06eced8f0e11e827b2af
author J. Brisbin <jon@jbrisbin.com> 1301429126 -0500
committer J. Brisbin <jon@jbrisbin.com> 1301429126 -0500

    Merge branch 'master' of github.com:SpringSource/spring-data-document

commit 7e5378bf6001c6a7ad58d3ab1f7329852bc97bd4
tree 9c24c9f4a3de5f4cadd6fbdc5fca3cf3089d8af7
parent c6798c9acd1c62e9126f77c93a62ecf7c0c986b3
author J. Brisbin <jon@jbrisbin.com> 1301429114 -0500
committer J. Brisbin <jon@jbrisbin.com> 1301429114 -0500

    Added events, changed tests so that application context is created before each run so that indexing is done correctly.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/event/CollectionCreatedEvent.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/event/EventType.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/event/InsertEvent.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/event/SaveEvent.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/event/WriteResultEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/AbstractMappingEventListener.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/AfterConvertEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/AfterLoadEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/AfterSaveEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/BeforeConvertEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/BeforeSaveEvent.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/MongoMappingEvent.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/InsertEventListener.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingEventsListener.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/src/test/resources/mapping.xml

commit 940823778e042fb3a88a06eced8f0e11e827b2af
tree 546237a868ce6a6120bacad91b461d0742f98c8c
parent 8a2302ec48d1abebef3f855294df87c587908066
author Oliver Gierke <info@olivergierke.de> 1301423842 +0200
committer Oliver Gierke <info@olivergierke.de> 1301423859 +0200

    Made MongoEntityInformation public as it's needed when extending SimpleRepositoryFactory.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoEntityInformation.java

commit 8a2302ec48d1abebef3f855294df87c587908066
tree 17bcd0dade6099c1f182c6af44ae83269fc528e5
parent 07a343e1de31301ca605f111208eaa1f16cb9e87
author Oliver Gierke <info@olivergierke.de> 1301421871 +0200
committer Oliver Gierke <info@olivergierke.de> 1301423858 +0200

    DATADOC-59 - Polished JavaDoc of @Query annotation.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/Query.java

commit c6798c9acd1c62e9126f77c93a62ecf7c0c986b3
tree 588df823ec84ff249e94e6bcc372962d1f3ba8af
parent 084424778d6aad25704e30879b47860d0e1dd5ba
parent 07a343e1de31301ca605f111208eaa1f16cb9e87
author J. Brisbin <jon@jbrisbin.com> 1301416011 -0500
committer J. Brisbin <jon@jbrisbin.com> 1301416011 -0500

    Merge branch 'master' of github.com:SpringSource/spring-data-document

commit 084424778d6aad25704e30879b47860d0e1dd5ba
tree 20b89138ee07f9fa3c838468843ef10c2c742312
parent 635e156bc0ddd00ea6845d577ccb01c11466844c
author J. Brisbin <jon@jbrisbin.com> 1301416006 -0500
committer J. Brisbin <jon@jbrisbin.com> 1301416006 -0500

    Renamed log4j appender module

D	spring-data-mongo-log4j/README.md
D	spring-data-mongo-log4j/pom.xml
D	spring-data-mongo-log4j/src/main/java/org/springframework/data/document/mongodb/log4j/MongoLog4jAppender.java
D	spring-data-mongo-log4j/src/test/java/org/springframework/data/document/mongodb/log4j/AppenderTest.java
D	spring-data-mongo-log4j/src/test/resources/log4j.properties
D	spring-data-mongo-log4j/template.mf
A	spring-data-mongodb-log4j/README.md
A	spring-data-mongodb-log4j/pom.xml
A	spring-data-mongodb-log4j/src/main/java/org/springframework/data/document/mongodb/log4j/MongoLog4jAppender.java
A	spring-data-mongodb-log4j/src/test/java/org/springframework/data/document/mongodb/log4j/AppenderTest.java
A	spring-data-mongodb-log4j/src/test/resources/log4j.properties
A	spring-data-mongodb-log4j/template.mf

commit 07a343e1de31301ca605f111208eaa1f16cb9e87
tree 47e3bac00ab63ccc7b0a04bc41589abd26aca4ae
parent 81db620c6d51617b1d9b36bc39ece10441908780
author Thomas Risberg <trisberg@vmware.com> 1301415089 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301415089 -0400

    renamed module spring-data-mongo-log4j to spring-data-mongodb-log4j

M	pom.xml
D	spring-data-mongo-log4j/README.md
D	spring-data-mongo-log4j/pom.xml
D	spring-data-mongo-log4j/src/main/java/org/springframework/data/document/mongodb/log4j/MongoLog4jAppender.java
D	spring-data-mongo-log4j/src/test/java/org/springframework/data/document/mongodb/log4j/AppenderTest.java
D	spring-data-mongo-log4j/src/test/resources/log4j.properties
D	spring-data-mongo-log4j/template.mf
A	spring-data-mongodb-log4j/README.md
A	spring-data-mongodb-log4j/pom.xml
A	spring-data-mongodb-log4j/src/main/java/org/springframework/data/document/mongodb/log4j/MongoLog4jAppender.java
A	spring-data-mongodb-log4j/src/test/java/org/springframework/data/document/mongodb/log4j/AppenderTest.java
A	spring-data-mongodb-log4j/src/test/resources/log4j.properties
A	spring-data-mongodb-log4j/template.mf

commit 81db620c6d51617b1d9b36bc39ece10441908780
tree 39be7cd972e082f26980098d735f035b70bd6654
parent f2732197f518788f56ab37dca98d350f354b5bcd
author Thomas Risberg <trisberg@vmware.com> 1301413701 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301414227 -0400

    fixed persistence test

D	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/Account.java
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/persistence.xml

commit f2732197f518788f56ab37dca98d350f354b5bcd
tree b49ddcf28888b013a6a10ab3d32351f28f23aaf5
parent c10e38c9e4885002b6d6277ffb52a08cdf2f4b73
author Thomas Risberg <trisberg@vmware.com> 1301413622 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301414227 -0400

    DATADOC-38 fixed class cast exception when calling save with non ObjectId ids

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java

commit c10e38c9e4885002b6d6277ffb52a08cdf2f4b73
tree 74172e56c1c510f747356cdc2f88b1728be5c210
parent 6d13d36a180f85d6eb66b9c947bd2523fda8d7be
author Oliver Gierke <info@olivergierke.de> 1301381005 +0200
committer Oliver Gierke <info@olivergierke.de> 1301381024 +0200

    Configured Maven JAR plugin to package the Bundlor generated MANIFEST.MF.

M	spring-data-document-parent/pom.xml

commit 6d13d36a180f85d6eb66b9c947bd2523fda8d7be
tree 1227b5d83f0ec7064c451f21953df27c967c5b6e
parent 615f3f132325de4d2397c7465b5d14290482cae0
author Thomas Risberg <trisberg@vmware.com> 1301346124 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301346611 -0400

    DATADOC-72 added support for Mongo's $elemMatch and chained Criteria

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/CriteriaTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryTests.java

commit 615f3f132325de4d2397c7465b5d14290482cae0
tree 6534c1bdc8a1cdfa9d0b4bca82f9bd98427711fb
parent 6d8ecf2cbbcf8142738b0b6f4c94b7a255daa592
author Thomas Risberg <trisberg@vmware.com> 1301335095 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301335104 -0400

    DATADOC-48 improving the entity id handling for partial entity document persistence

M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/DocumentBackedTransactionSynchronization.java
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongo/MongoChangeSetPersister.java
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongo/MongoDocumentBacking.aj
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/CrossStoreMongoTests.java
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml

commit 6d8ecf2cbbcf8142738b0b6f4c94b7a255daa592
tree 9790da70500d308711b7b83dd47c4e1d2b6b4bcb
parent 635e156bc0ddd00ea6845d577ccb01c11466844c
author Thomas Risberg <trisberg@vmware.com> 1301335027 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301335104 -0400

    added mongodb-log4j module

M	src/assembly/distribution.xml

commit 635e156bc0ddd00ea6845d577ccb01c11466844c
tree 048a854c196aa78216ec4bbf6dbcf706bcf01f62
parent 0468ba3ad92b6743675a3eb17ffedced0bf5ef09
author Jon Brisbin <jon@jbrisbin.com> 1301079173 -0500
committer J. Brisbin <jon@jbrisbin.com> 1301079196 -0500

    JIRA: DATADOC-70: Trying to fix problem with indexes being wiped out in the tests, trying to make sure indexes get created properly. Now tests do not wipe out database automatically.

M	.gitignore
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntityIndexCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit 0468ba3ad92b6743675a3eb17ffedced0bf5ef09
tree f42054ce821e33297b33058725d44e09c1426b03
parent 95510e4851adc0baef1498607abafb9be9bcbb94
author Thomas Risberg <trisberg@vmware.com> 1301066091 -0400
committer Thomas Risberg <trisberg@vmware.com> 1301066108 -0400

    DATADOC-48 adding checks not to overwrite existing keys in changeset

M	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongo/MongoChangeSetPersister.java

commit 95510e4851adc0baef1498607abafb9be9bcbb94
tree 326277f89de9a976778d7ff2c506812621aa0874
parent 0fc3c9d6d3aff50e4c5757c6759148917f68ca48
author Oliver Gierke <info@olivergierke.de> 1301054908 +0100
committer Oliver Gierke <info@olivergierke.de> 1301054908 +0100

    Use more readable logging output pattern.

M	spring-data-mongodb/src/test/resources/log4j.properties

commit 0fc3c9d6d3aff50e4c5757c6759148917f68ca48
tree 8ae81da168cd6656cd7806b52d1da182a707e9aa
parent 511128f4e7f313c362bf9574fedcaa7c423ee7e8
author Oliver Gierke <info@olivergierke.de> 1301054869 +0100
committer Oliver Gierke <info@olivergierke.de> 1301054869 +0100

    Polished toString() method of Index.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Index.java

commit 511128f4e7f313c362bf9574fedcaa7c423ee7e8
tree a4605621f727de20654bb7a96431447415750ba2
parent 986203833ac13ba71892e6b523e501adfe003e0f
author Oliver Gierke <info@olivergierke.de> 1301038002 +0100
committer Oliver Gierke <info@olivergierke.de> 1301038002 +0100

    Let Querydsl annotation processor work with @Document annotation.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoAnnotationProcessor.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Person.java

commit 986203833ac13ba71892e6b523e501adfe003e0f
tree 857a16be762b7b19260f61bf25bbaba30ddb98de
parent 7ec8b30fb2e6b334a7396250f2d9df15a4c910f9
author Oliver Gierke <info@olivergierke.de> 1300978218 +0100
committer Oliver Gierke <info@olivergierke.de> 1300978233 +0100

    Fixed potential NullPointer.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java

commit 7ec8b30fb2e6b334a7396250f2d9df15a4c910f9
tree 4f221ab793b25a6ffc2694feb01079296df0912b
parent c24327d1bc86bdc27987c57be0eb14ade3310160
author Jon Brisbin <jon@jbrisbin.com> 1300899350 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300899350 -0500

    Tweaked README to reflect recent changes in timestamp handling.

M	spring-data-mongo-log4j/README.md

commit c24327d1bc86bdc27987c57be0eb14ade3310160
tree 04fdd94d6718961c3be175bdd16dfcd7b0bfe008
parent b04023f1f1154f367fed2d134534909adc791380
author Jon Brisbin <jon@jbrisbin.com> 1300899293 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300899293 -0500

    Took out leftover crap from pom file, changed timestamp handling to use java.util.Date/ISODate objects rather than string/long.

M	spring-data-mongo-log4j/pom.xml
M	spring-data-mongo-log4j/src/main/java/org/springframework/data/document/mongodb/log4j/MongoLog4jAppender.java

commit b04023f1f1154f367fed2d134534909adc791380
tree 6d8c5d983efbb41fa5375485743ec22768f95f4c
parent 42386d4feef00cfe1a513aa4f0f507b5450d5cf7
author Jon Brisbin <jon@jbrisbin.com> 1300896680 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300896680 -0500

    Forgot to change Maven artifactId after renaming submodule.

M	spring-data-mongo-log4j/README.md
M	spring-data-mongo-log4j/pom.xml

commit 42386d4feef00cfe1a513aa4f0f507b5450d5cf7
tree e7ab129733b432fb204ccd6f4815342646c1e55b
parent 1b5ef78741591ff0d6f95d77606c87c08a27ede4
author Jon Brisbin <jon@jbrisbin.com> 1300894826 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300894847 -0500

    Added Log4J appender submodule to main project.

M	pom.xml
D	spring-data-log4j-appender/README.md
D	spring-data-log4j-appender/pom.xml
D	spring-data-log4j-appender/src/main/java/org/springframework/data/document/mongodb/log4j/MongoLog4jAppender.java
D	spring-data-log4j-appender/src/test/java/org/springframework/data/document/mongodb/log4j/AppenderTest.java
D	spring-data-log4j-appender/src/test/resources/log4j.properties
A	spring-data-mongo-log4j/README.md
A	spring-data-mongo-log4j/pom.xml
A	spring-data-mongo-log4j/src/main/java/org/springframework/data/document/mongodb/log4j/MongoLog4jAppender.java
A	spring-data-mongo-log4j/src/test/java/org/springframework/data/document/mongodb/log4j/AppenderTest.java
A	spring-data-mongo-log4j/src/test/resources/log4j.properties
A	spring-data-mongo-log4j/template.mf

commit 1b5ef78741591ff0d6f95d77606c87c08a27ede4
tree f4f9ad0bf7c07701369e64dda454bdb983a95a14
parent 168e8a889679b8d040c61b2457201517b2e14601
parent 261c1ae29358b59b49bfa33064a351aa4a1d1e8d
author J. Brisbin <jon@jbrisbin.com> 1300893656 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300894847 -0500

    Merge branch 'log4j-appender'

commit 168e8a889679b8d040c61b2457201517b2e14601
tree fd229a998b57b971edaef96d244137f6e970ebd0
parent 1183789bb3f377ebe4bbbf6583cdc2fcca9ccba7
parent f21f25fb5284a8647dea16934d660b3608d5006c
author Thomas Risberg <trisberg@vmware.com> 1300893872 -0400
committer Thomas Risberg <trisberg@vmware.com> 1300893892 -0400

    DATADOC-48 simplified cross-store persistence of @Document annotated fields in a JPA entity; adjusted to package chamges in data-commons; Merge commit 'f21f25fb5284a8647dea16934d660b3608d5006c'

commit f21f25fb5284a8647dea16934d660b3608d5006c
tree f0879dc730429afc968838c7a159460554db5cac
parent 74df4349edcade473a131cba619f847c9d52f394
author Thomas Risberg <trisberg@vmware.com> 1300880692 -0400
committer Thomas Risberg <trisberg@vmware.com> 1300880692 -0400

    DATADOC-48 simplified cross-store persistence of @Document annotated fields in a JPA entity

M	spring-data-mongodb-cross-store/pom.xml
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/DocumentBacked.java
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/DocumentBackedTransactionSynchronization.java
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongo/MongoChangeSetPersister.java
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/data/persistence/document/mongo/MongoDocumentBacking.aj
D	spring-data-mongodb-cross-store/src/main/java/org/springframework/persistence/document/DocumentEntity.java
D	spring-data-mongodb-cross-store/src/main/java/org/springframework/persistence/document/MongoChangeSetPersister.java
D	spring-data-mongodb-cross-store/src/main/java/org/springframework/persistence/document/MongoDocumentBacking.aj
D	spring-data-mongodb-cross-store/src/main/java/org/springframework/persistence/document/MongoEntityOperations.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/CrossStoreMongoTests.java
D	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/MongoPerson.java
D	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/MongoPerson_Roo_Mongo_Entity.aj
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/Person.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/Resume.java
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml
M	spring-data-mongodb-cross-store/src/test/resources/log4j.properties
M	spring-data-mongodb/pom.xml

commit 261c1ae29358b59b49bfa33064a351aa4a1d1e8d
tree 022be74132fe396d93fc0fa78bb3494194f483fc
parent 7d7cf60e2310b93010622450f3ea1ed54a53975c
author Oliver Gierke <info@olivergierke.de> 1300868870 +0100
committer Oliver Gierke <info@olivergierke.de> 1300868870 +0100

    Fixed merge conflicts after applying latest changes from master.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MappingConfigurationHelper.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntityIndexCreator.java

commit 7d7cf60e2310b93010622450f3ea1ed54a53975c
tree 4a84df2bc82764a66acc4dd920dc2880427fe5c9
parent bfd79377ca6baaa5ba549830527854de4b942c0a
author Oliver Gierke <info@olivergierke.de> 1300867927 +0100
committer Oliver Gierke <info@olivergierke.de> 1300868514 +0100

    DATADOC-69 - Repository namespace now allows referenceing a MappingContext and picks up the default one if available.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryConfigDefinitionParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/SimpleMongoRepositoryConfiguration.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests.java
M	spring-data-mongodb/src/test/resources/mapping.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml

commit bfd79377ca6baaa5ba549830527854de4b942c0a
tree 82c0202a0a3ab2e4d175c329ddc8222ce877916e
parent 18b0f459852755af7fb95c96b5873175109f6c2a
author Oliver Gierke <info@olivergierke.de> 1300862725 +0100
committer Oliver Gierke <info@olivergierke.de> 1300868475 +0100

    Made MongoPersistentEntityIndexCreator an ApplicationListener again.
    
    MongoPersistentEntityIndexCreator now listens to MappingContextEvents to ensure indexes for added entities *after* the initial set had been added.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MappingConfigurationHelper.java

commit 18b0f459852755af7fb95c96b5873175109f6c2a
tree 8d85afd86a71ac53c7d20dfe214a8f1e604e422e
parent efa6d0d8b824a6e0de055ad4235e31725f4f86de
author Oliver Gierke <info@olivergierke.de> 1300862464 +0100
committer Oliver Gierke <info@olivergierke.de> 1300868374 +0100

    Adapt latest changes in Spring Data Commons.
    
    Moved functionality from MongoMappingConfigurationBuilder into MongoMappingContext. Adapted namespace parser to the removal of the MappingConfigurationBuilder component.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingConfigurationBuilder.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GenericMappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml

commit 1183789bb3f377ebe4bbbf6583cdc2fcca9ccba7
tree 42000a7cea629b35c9d29f31084d470d6a77f101
parent 4dd1d0198f3c9ec8f849f27c2d4c9d0ba2ab0fb8
author Oliver Gierke <info@olivergierke.de> 1300867927 +0100
committer Oliver Gierke <info@olivergierke.de> 1300868170 +0100

    DATADOC-69 - Repository namespace now allows referenceing a MappingContext and picks up the default one if available.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryConfigDefinitionParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/SimpleMongoRepositoryConfiguration.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests.java
M	spring-data-mongodb/src/test/resources/mapping.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml

commit 4dd1d0198f3c9ec8f849f27c2d4c9d0ba2ab0fb8
tree bb03b949d0fcf9028d39faba11c64f099fb7f563
parent ec7d2deca1f86d1e20fb60c33608e50397037e90
author Oliver Gierke <info@olivergierke.de> 1300862743 +0100
committer Oliver Gierke <info@olivergierke.de> 1300868070 +0100

    Removed some compiler warnings.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoJmxParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/event/CollectionCreatedEvent.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/event/InsertEvent.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/event/SaveEvent.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/event/WriteResultEvent.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/MongoMappingEvent.java

commit ec7d2deca1f86d1e20fb60c33608e50397037e90
tree 50e7cd2be1b78c46f3020578e23f0d4020abd35d
parent 27b6f0cb21a38863037f0f95826dc22def64037c
author Oliver Gierke <info@olivergierke.de> 1300862725 +0100
committer Oliver Gierke <info@olivergierke.de> 1300862725 +0100

    Made MongoPersistentEntityIndexCreator an ApplicationListener again.
    
    MongoPersistentEntityIndexCreator now listens to MappingContextEvents to ensure indexes for added entities *after* the initial set had been added.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntityIndexCreator.java

commit 27b6f0cb21a38863037f0f95826dc22def64037c
tree e521c5bed39f13d2365c6510cb967a852ddbf4f9
parent 67b5a1c99bdbb11cd2e1fd839aaee4eecdc169be
author Oliver Gierke <info@olivergierke.de> 1300862464 +0100
committer Oliver Gierke <info@olivergierke.de> 1300862464 +0100

    Adapt latest changes in Spring Data Commons.
    
    Moved functionality from MongoMappingConfigurationBuilder into MongoMappingContext. Adapted namespace parser to the removal of the MappingConfigurationBuilder component.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingConfigurationBuilder.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GenericMappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml

commit efa6d0d8b824a6e0de055ad4235e31725f4f86de
tree ee5c63de778b2f454a09314ab69002e7e4b0ff52
parent 39a323099f848068f6e8950e9537bebba8b54428
parent 67b5a1c99bdbb11cd2e1fd839aaee4eecdc169be
author J. Brisbin <jon@jbrisbin.com> 1300837720 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300837720 -0500

    Added applicationId and write concern settings. Documented them in the README.

commit 39a323099f848068f6e8950e9537bebba8b54428
tree 60c2d984e3b1d5a474c374d9b33e0273237326f9
parent b22412fa98dcee45c0c0681d5a8c9935f5c50b2e
author Jon Brisbin <jon@jbrisbin.com> 1300825454 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300825454 -0500

    Added README to document the Log4J appender.

A	spring-data-log4j-appender/README.md

commit b22412fa98dcee45c0c0681d5a8c9935f5c50b2e
tree 5162e83c51c9d10177053c1f8a2fb451190191ed
parent 027a67dd1bfd8ac02f57b37cc82aeac93f57c8f2
author Jon Brisbin <jon@jbrisbin.com> 1300824883 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300824883 -0500

    Fixed a bug introduced in the last commit with importing a morphia exception class, added a Log4J appender module for MongoDB.

A	spring-data-log4j-appender/pom.xml
A	spring-data-log4j-appender/src/main/java/org/springframework/data/document/mongodb/log4j/MongoLog4jAppender.java
A	spring-data-log4j-appender/src/test/java/org/springframework/data/document/mongodb/log4j/AppenderTest.java
A	spring-data-log4j-appender/src/test/resources/log4j.properties
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MappingConfigurationHelper.java

commit 67b5a1c99bdbb11cd2e1fd839aaee4eecdc169be
tree b68021adc1feb48658bba7a339a57c09c27c0260
parent 027a67dd1bfd8ac02f57b37cc82aeac93f57c8f2
author Oliver Gierke <info@olivergierke.de> 1300824439 +0100
committer Oliver Gierke <info@olivergierke.de> 1300824439 +0100

    Tweaks to index creation handling.
    
    Renamed MappingConfigurationHelper to MongoPersistentEntityIndexCreator as this is the purpose of the class. Refactored it not be ApplicationContextAware, Initializing bean but rather simply use the injected MongoMappingContext and MongoTemplate to trigger index creation. Added base-package parsing for entities annotated with @Persistent and @Document to be added to the MappingContext. Moved createPersistentEntity and createPersistentProperty methods into MongoMappingContext.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MappingConfigurationHelper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingConfigurationBuilder.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingContext.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntityIndexCreator.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml

commit 027a67dd1bfd8ac02f57b37cc82aeac93f57c8f2
tree a45f6ce702d324744b8211d408241c38c6ae3c43
parent 84aba45895ae81bb2cccdc9573097e850cd86556
author Jon Brisbin <jon@jbrisbin.com> 1300820066 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300820066 -0500

    Reorganized how index creation and initial entity registration are handled. It now happens when the context is refreshed and any time entities are registered with addPersistentEntity via synchronous ApplicationEvent dispatching.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MappingConfigurationHelper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingContext.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/IndexCreationListener.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/MappingConfigurationListener.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/index/IndexCreationHelper.java

commit 84aba45895ae81bb2cccdc9573097e850cd86556
tree 2353b3d2e05b0f3c77e87d226d1050df2549c84a
parent 537e2e71c430fabf0c2f0a92e17a7d8eac7dce5a
author Jon Brisbin <jon@jbrisbin.com> 1300810595 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300810595 -0500

    Put addPersistentEntity calls into a dedicated ApplicationEvent listener bean that gets populated by the classpath scanning done in the namespace parser.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/MappingConfigurationListener.java

commit 537e2e71c430fabf0c2f0a92e17a7d8eac7dce5a
tree 3bbbc0ac537b1eaba4dedd41e7aaec9678ea69b8
parent a1ef9abef275d4455a92e60018b2fe3001cb1e63
author Jon Brisbin <jon@jbrisbin.com> 1300726925 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300726925 -0500

    Fix for bug in handling arrays, deleted extraneous test class.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingConverterTests.java

commit a1ef9abef275d4455a92e60018b2fe3001cb1e63
tree c5226bb6aaa00b1ca9d1591f0eb46f45a28f4f10
parent d01867b0724dda189d2f0efcd9f91ccd418280d6
author Jon Brisbin <jon@jbrisbin.com> 1300725668 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300725692 -0500

    Fixes for handling Arrays, had to change index creation from event-based to synchronous for simplicity's sake.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/Document.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingContext.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/IndexCreationListener.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/index/IndexCreationHelper.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingConverterTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/src/test/resources/log4j.properties
M	spring-data-mongodb/src/test/resources/mapping.xml

commit d01867b0724dda189d2f0efcd9f91ccd418280d6
tree 11bd1cb516dd6827590a5264ad1e4f8635043d0d
parent 07188d2a279daab5b6e5ca38b6a23f24547d523e
author Oliver Gierke <info@olivergierke.de> 1300722562 +0100
committer Oliver Gierke <info@olivergierke.de> 1300722562 +0100

    Fixed broken test.
    
    Removed wiring a MongoTemplate as constructor argument for MongoMappingConfigurationBuilder.

M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml

commit 07188d2a279daab5b6e5ca38b6a23f24547d523e
tree d7d1ff7d5ab180508feb197a41bf206a1af33c5b
parent 5df34cec70281391fbcf9eb2cb5f30df066861d4
author Jon Brisbin <jon@jbrisbin.com> 1300460178 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300460178 -0500

    Fixed namespace handler support, added a MappingContextEvent listener for (asynchronously) creating indexes whenever entities are registered with the mapper. Removed that part of the code from the MongoMappingConfigurationBuilder, which means it no longer has that dependency on MongoTemplate. Also tweaked some afterPropertiesSet methods to try and reduce the problem of chicken-and-egg dependencies within mapping components.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingConfigurationBuilder.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/IndexCreationListener.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GenericMappingTests.java
M	spring-data-mongodb/src/test/resources/log4j.properties

commit 5df34cec70281391fbcf9eb2cb5f30df066861d4
tree e995aeeb5e76caf279e4ab849845a5e33eacffb6
parent bea1ed9cbe646f6d361532067cc5ad8442a66017
author Oliver Gierke <info@olivergierke.de> 1300431589 +0100
committer Oliver Gierke <info@olivergierke.de> 1300431589 +0100

    @SuppressedWarning cleanups.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MappingMongoEntityInformation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryMethod.java

commit bea1ed9cbe646f6d361532067cc5ad8442a66017
tree 7a876ba3bd2b398ffe2cc7d3565012eac589677d
parent f41e60a2649141906a8701ce4677d55abeafd21d
author Oliver Gierke <info@olivergierke.de> 1300431576 +0100
committer Oliver Gierke <info@olivergierke.de> 1300431576 +0100

    Ignore MappingTests in the meantime to get the build working.

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit f41e60a2649141906a8701ce4677d55abeafd21d
tree b9bec1e26d51acc8486b0fef9e822e0cff937647
parent d69b890a70ec28435b16e79865709aa7a8c7df6f
author Oliver Gierke <info@olivergierke.de> 1300399468 +0100
committer Oliver Gierke <info@olivergierke.de> 1300399468 +0100

    Prefer considering the value type over the property type at the decision whether to recursively map an object or simply write it as plain value.
    
    Removed obsolete code (probably introduced by invalidly resolving a merge conflict).

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java

commit d69b890a70ec28435b16e79865709aa7a8c7df6f
tree 1be3601a36db2d7913785bb831668ba70085d91a
parent d215004f9214651b52b58a1f3c5a2fcbb9196a2d
author Oliver Gierke <info@olivergierke.de> 1300399371 +0100
committer Oliver Gierke <info@olivergierke.de> 1300399371 +0100

    DATADOC-40 - Repositories now pick up collection name from mapping metadata if available.
    
    We also pick up the ID attribute to be used to determine isNew(…) if the RepositoryFactoryBean gets a MappingContext injected. Collection name of mapping defaults to the simple class name.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntity.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MappingMongoEntityInformation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoEntityInformation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryMethod.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryDslMongoRepository.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoEntityInformation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoEntityMetadataUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/SimpleMongoEntityInformationUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQueryUnitTests.java
M	spring-data-mongodb/src/test/resources/infrastructure.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml

commit d215004f9214651b52b58a1f3c5a2fcbb9196a2d
tree be8058f83ccaa096937e31742ea9dded93fc01a5
parent c4fdc54ffe7b41fe5bba79e2f6f36bffd21292e0
author Jon Brisbin <jon@jbrisbin.com> 1300393404 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300393425 -0500

    Added a namespacehandler and broke all the tests. :)

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryNamespaceHandler.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingConfigurationBuilder.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Person.java
M	spring-data-mongodb/src/test/resources/mapping.xml

commit c4fdc54ffe7b41fe5bba79e2f6f36bffd21292e0
tree e367a01c0b2486af4f138f8485aee626e3385d61
parent cb2cd48ca1d208b3dd067db2a052a6eab459ef1d
parent f0c4f3e75f2f7214f4754476f3eb02a3f5c55f01
author Mark Pollack <mark.pollack@springsource.com> 1300390599 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1300390599 -0400

    Merge remote branch 'origin/master'

commit cb2cd48ca1d208b3dd067db2a052a6eab459ef1d
tree 493893e3ed0a8965ed93693ad4c7ae48a78e684a
parent 74df4349edcade473a131cba619f847c9d52f394
author Mark Pollack <mark.pollack@springsource.com> 1300390590 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1300390590 -0400

    Ignore Thumbs.db

A	src/docbkx/resources/images/.gitignore

commit f0c4f3e75f2f7214f4754476f3eb02a3f5c55f01
tree 406d3a8d8c357f6fc3bc0b1fe0895a265d539d08
parent 6540c234130d65891a07d123f1c74dcc0d8bd8f7
author Jon Brisbin <jon@jbrisbin.com> 1300385343 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300385343 -0500

    Drop back to using LinkedBlockingQueue because the Deque version is Java 6.0

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 6540c234130d65891a07d123f1c74dcc0d8bd8f7
tree 59cfa833f99a4c213c997c5a9d19fd5c0fd46702
parent 49e3f2b8c7070e32f87d09a973f038f26f11b1e9
author Jon Brisbin <jon@jbrisbin.com> 1300381027 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300381027 -0500

    Added event handling capabilities based on Spring 2.0 ApplicationEvent abstractions. Publishes events into the current ApplicationContext to expose internal mapping events to listeners declared in the current ApplicationContext.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/event/CollectionCreatedEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/event/EventType.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/event/InsertEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/event/SaveEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/event/WriteResultEvent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/event/MongoMappingEvent.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/InsertEventListener.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/src/test/resources/mapping.xml

commit 49e3f2b8c7070e32f87d09a973f038f26f11b1e9
tree 593edb42f388ba47c40e6b086d5f58173e7ce40d
parent 30e4c4330beec43fd6959100b1adf1018c46c6a0
author Oliver Gierke <info@olivergierke.de> 1300368876 +0100
committer Oliver Gierke <info@olivergierke.de> 1300368876 +0100

    Improved handling of custom converters.
    
    On COnverter registration we now keep track of the types the converter can register and only apply custom conversion if we had discovered a custom converter initially.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java

commit 30e4c4330beec43fd6959100b1adf1018c46c6a0
tree e19afd424000259811139e9f382408ca8d58b336
parent c4701d18f60391558657aa286bd033a3f16cd4ae
author Oliver Gierke <info@olivergierke.de> 1300354268 +0100
committer Oliver Gierke <info@olivergierke.de> 1300354268 +0100

    Tweaks after merging Jon's latest changes.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java

commit c4701d18f60391558657aa286bd033a3f16cd4ae
tree 8253a02d75e7e27f83e09511e0dbdd582287df3c
parent 4629ebdcfe0524930438fc5e87489360bd218bae
author Oliver Gierke <info@olivergierke.de> 1300353034 +0100
committer Oliver Gierke <info@olivergierke.de> 1300353170 +0100

    Tweaked unit test to use mock ApplicationContext.

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GenericMappingTests.java

commit 4629ebdcfe0524930438fc5e87489360bd218bae
tree 8c798e5f6aa3ea4c9b4b7ce7d817bec3d8f647da
parent 611793d5c79cf76980b586dabe2f86a8327a8890
author Oliver Gierke <info@olivergierke.de> 1300351454 +0100
committer Oliver Gierke <info@olivergierke.de> 1300353169 +0100

    Tweaked MappingMongoConverter to prefer custom Converters.
    
    Before recursively converting values itself, MappingMongoConverter now checks whether the underlying ConversionService can convert the value to be converted into a Mongo basic type itself.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingMongoConverterUnitTests.java

commit 611793d5c79cf76980b586dabe2f86a8327a8890
tree f3af8bdb7e587e7dc7f05a0f156ab1a46a1e85d4
parent 74df4349edcade473a131cba619f847c9d52f394
author Oliver Gierke <info@olivergierke.de> 1300350961 +0100
committer Oliver Gierke <info@olivergierke.de> 1300353057 +0100

    Improved handling of custom converters in SimpleMongoConverter.
    
    Explicitly remove converter for Object -> String on instance creation which allows us to get rid of the ugly SimpleToStringSuppressingGenericConversionService. writeCompoundValue(…) now asks the ConversionService whether it can convert the value to be written into one of Mongos native primitive types and rather delegates to the service instead of recursively writing the value itself.

M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java

commit 74df4349edcade473a131cba619f847c9d52f394
tree 5823dbccba922828a64ae06aea584e64d9a52f0e
parent b6c3760e78dd031b25f29c0755873f0057b153bc
author Jon Brisbin <jon@jbrisbin.com> 1300283305 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300283305 -0500

    Use DBRefs instead of DBObjects so that save() will work. Now requires that a Mongo instance be set on the MappingMongoConverter, which is done from afterPropertiesSet() on the template.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Address.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GenericMappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java

commit b6c3760e78dd031b25f29c0755873f0057b153bc
tree b2027cdb8e3ba6c6479e2a6ea05aef595b0d659a
parent f747f3df60493c35488710520ee3b0c9c0dafcb6
author Oliver Gierke <info@olivergierke.de> 1300272748 +0100
committer Oliver Gierke <info@olivergierke.de> 1300272999 +0100

    Fixed ConversionService handling in SimpleMongoConverter.
    
    Removed possibility to use custom ConversionService and rather provide a setter to allow registering custom Converter and ConverterFactory instances. This way we can use a custom ConversionService our own that does not regard the ObjectToStringConverter registered by default. This way ConversionService.canConvert(…, String.class) will not return true by default.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java

commit f747f3df60493c35488710520ee3b0c9c0dafcb6
tree 6b0f7f222536717d93eb79be1365e308e930c093
parent 4b7d96347c81a7ff45e502c70baef0c32f78a10b
author Oliver Gierke <info@olivergierke.de> 1300272426 +0100
committer Oliver Gierke <info@olivergierke.de> 1300272999 +0100

    Only consider properties that are backed by a field actually.
    
    Changed MongoPropertyDescriptor.isMappable(…) to check whether the owning type actually has a field with the property name. If not the property will not be regarded as mappable. This results in plain functional getters (that are not a bean property getter actually) to be skipped transparently.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoPropertyDescriptors.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 4b7d96347c81a7ff45e502c70baef0c32f78a10b
tree d4f414b161b392bcba53730ded0a9aba966e5943
parent d223a9817a3355a9f713a3b6c2116bc9b77d6972
author Thomas Risberg <trisberg@vmware.com> 1300246554 -0400
committer Thomas Risberg <trisberg@vmware.com> 1300246580 -0400

    ignore the eclipse project files

M	.gitignore

commit d223a9817a3355a9f713a3b6c2116bc9b77d6972
tree f0686e3b6c54efa17347f7a45331d29710676aae
parent fed97a3134a17caaa32972f78ef1b49e61dd29c0
author Thomas Risberg <trisberg@vmware.com> 1300216099 -0400
committer Thomas Risberg <trisberg@vmware.com> 1300246580 -0400

    added test scope

M	spring-data-mongodb-cross-store/pom.xml

commit fed97a3134a17caaa32972f78ef1b49e61dd29c0
tree c3df82ee7996c4f2d7d2d5cc7c5111a05d082325
parent 0492b189afff21ae1112320aa6bc7cebac8b293a
author Mark Pollack <mark.pollack@springsource.com> 1300222879 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1300222879 -0400

    Add setter for WriteResutlChecking and MongoConverter

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 0492b189afff21ae1112320aa6bc7cebac8b293a
tree e8863c3d0d5ad0c3e4ad321d596bee35137826a7
parent 8b16502b2a35f8865dd1a39babd755d97ade23bf
author Oliver Gierke <info@olivergierke.de> 1300217943 +0100
committer Oliver Gierke <info@olivergierke.de> 1300217943 +0100

    Added some @SuppressWarnings where necessary.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryMethod.java

commit 8b16502b2a35f8865dd1a39babd755d97ade23bf
tree f14d04182791909c231e5ac1bb449f8942d251f5
parent 673c70b7de22040d5a32e73c501aefaf706c4601
author Oliver Gierke <info@olivergierke.de> 1300215976 +0100
committer Oliver Gierke <info@olivergierke.de> 1300215976 +0100

    Re-added dependency to Mongo driver.

M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/template.mf

commit 673c70b7de22040d5a32e73c501aefaf706c4601
tree 721e5a607b0fc10fdb3b9fd9a802c758d5a32276
parent e3bee8ab0e065a3aa6ee80744baa6c379b03767d
author Oliver Gierke <info@olivergierke.de> 1297689735 +0100
committer Oliver Gierke <info@olivergierke.de> 1300210579 +0100

    DATADOC-41 - Initial version of QueryDsl integration for Mongo DB.
    
    Added necessary dependencies, repository and APT processor plugin. Added QueryDslPredicateExecutor and a QueryDsl specific sub-class of SimpleMongoRepository.
    Adapted MongoRepositoryFactory to use new QueryDslRepository implementation when a repository interface extends QueryDslPredicateExecutor. Added AnnotationProcessor to create query classes from QueryDsl annotations.
    
    Todo's left open:
    
    - move common QueryDsl integration code into Spring Data commons (see TODOs in the sourcecode)

M	spring-data-mongodb/pom.xml
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoAnnotationProcessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryMethod.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryDslMongoRepository.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryDslPredicateExecutor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Address.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java
M	spring-data-mongodb/template.mf
M	src/main/resources/changelog.txt

commit e3bee8ab0e065a3aa6ee80744baa6c379b03767d
tree 82231fe71a34cf77dd38de6c8c1f7e925b91ffe4
parent 032de81478a7bfefc2129059255ade3c65a20794
author Thomas Risberg <trisberg@vmware.com> 1300209647 -0400
committer Thomas Risberg <trisberg@vmware.com> 1300209647 -0400

    restored missing dependencies

M	spring-data-couchdb/pom.xml
M	spring-data-document-parent/pom.xml
M	spring-data-mongodb-cross-store/pom.xml

commit 032de81478a7bfefc2129059255ade3c65a20794
tree 670e7cbfc6a189ab5cfb9af9373eb3d077ac81a6
parent d4f358abd076e2139c157d008a7359e47f843a2b
author J. Brisbin <jon@jbrisbin.com> 1300208275 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300208275 -0500

    Format, organize imports, remove eclipse artifacts

M	.gitignore
D	.project
D	.settings/org.maven.ide.eclipse.prefs
M	pom.xml
D	spring-data-couchdb/.classpath
D	spring-data-couchdb/.project
D	spring-data-couchdb/.settings/org.eclipse.jdt.core.prefs
D	spring-data-couchdb/.settings/org.maven.ide.eclipse.prefs
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CouchServerResourceUsageException.java
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CouchUsageException.java
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/DocumentExistsException.java
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/DocumentRetrievalFailureException.java
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/UncategorizedCouchDataAccessException.java
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/admin/CouchAdmin.java
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/admin/CouchAdminOperations.java
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/admin/DbInfo.java
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/config/CouchJmxParser.java
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/config/CouchNamespaceHandler.java
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/core/CouchOperations.java
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/core/CouchTemplate.java
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/core/support/CouchDbMappingJacksonHttpMessageConverter.java
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/monitor/AbstractMonitor.java
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/monitor/ServerInfo.java
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/support/CouchUtils.java
M	spring-data-couchdb/src/main/resources/org/springframework/data/document/couchdb/config/spring-couch-1.0.xsd
M	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/DummyDocument.java
M	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/IsBodyEqual.java
M	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/admin/CouchAdminIntegrationTests.java
M	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/core/AbstractCouchTemplateIntegrationTests.java
M	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/core/CouchConstants.java
M	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/core/CouchTemplateIntegrationTests.java
M	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/core/CouchTemplateTests.java
M	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/monitor/JmxServer.java
M	spring-data-couchdb/src/test/resources/server-jmx.xml
D	spring-data-document-core/.classpath
D	spring-data-document-core/.project
D	spring-data-document-core/.settings/org.eclipse.jdt.core.prefs
D	spring-data-document-core/.settings/org.eclipse.wst.common.component
D	spring-data-document-core/.settings/org.eclipse.wst.common.project.facet.core.xml
D	spring-data-document-core/.settings/org.maven.ide.eclipse.prefs
M	spring-data-document-core/src/main/java/org/springframework/data/document/AbstractDocumentStoreTemplate.java
M	spring-data-document-core/src/main/java/org/springframework/data/document/DocumentMapper.java
M	spring-data-document-core/src/main/java/org/springframework/data/document/DocumentStoreConnectionCallback.java
M	spring-data-document-core/src/main/java/org/springframework/data/document/InvalidDocumentStoreApiUsageException.java
M	spring-data-document-core/src/main/java/org/springframework/data/document/UncategorizedDocumentStoreException.java
M	spring-data-document-core/src/main/java/org/springframework/data/document/analytics/ControllerCounter.java
M	spring-data-document-core/src/main/java/org/springframework/data/document/analytics/MvcEvent.java
M	spring-data-document-core/src/main/java/org/springframework/data/document/analytics/Parameters.java
M	spring-data-document-core/src/main/java/org/springframework/data/document/web/bind/annotation/support/HandlerMethodInvoker.java
M	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/ActionExecutedContext.java
M	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/ActionExecutingContext.java
M	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/ActionInterceptor.java
M	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/mvc/annotation/AnnotationMethodHandlerAdapter.java
M	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/mvc/annotation/ServletAnnotationMappingUtils.java
M	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/mvc/annotation/support/InterceptingHandlerMethodInvoker.java
D	spring-data-document-parent/.project
D	spring-data-document-parent/.settings/org.maven.ide.eclipse.prefs
M	spring-data-document-parent/pom.xml
D	spring-data-mongodb-cross-store/.classpath
D	spring-data-mongodb-cross-store/.project
D	spring-data-mongodb-cross-store/.settings/org.eclipse.jdt.core.prefs
D	spring-data-mongodb-cross-store/.settings/org.maven.ide.eclipse.prefs
M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/persistence/document/DocumentEntity.java
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/persistence/document/MongoChangeSetPersister.java
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/persistence/document/MongoDocumentBacking.aj
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/persistence/document/MongoEntityOperations.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/CrossStoreMongoTests.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/Account.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/MongoPerson.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/MongoPerson_Roo_Mongo_Entity.aj
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/Person.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/Resume.java
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/persistence.xml
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml
D	spring-data-mongodb/.classpath
D	spring-data-mongodb/.project
D	spring-data-mongodb/.settings/org.eclipse.jdt.core.prefs
D	spring-data-mongodb/.settings/org.eclipse.wst.common.component
D	spring-data-mongodb/.settings/org.eclipse.wst.common.project.facet.core.xml
D	spring-data-mongodb/.settings/org.maven.ide.eclipse.prefs
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CannotGetMongoDbConnectionException.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CollectionCallback.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CollectionOptions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CursorPreparer.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/DbCallback.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/DbHolder.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoAdmin.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoAdminOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoExceptionTranslator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOptionsFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoPropertyDescriptors.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoSynchronization.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoWriter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/WriteResultChecking.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoJmxParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryConfigDefinitionParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryNamespaceHandler.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MongoBeanWrapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/DBRef.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/Document.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingConfigurationBuilder.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentProperty.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/AbstractMonitor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/AssertMetrics.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/BackgroundFlushingMetrics.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/BtreeIndexCounters.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/ConnectionMetrics.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/GlobalLockMetrics.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/MemoryMetrics.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/OperationCounters.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/ServerInfo.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicUpdate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/CriteriaDefinition.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Field.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/GeospatialIndex.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Index.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/IndexDefinition.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/OrCriteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/OrQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Order.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Query.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Sort.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Update.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/AbstractMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/ConvertingParameterAccessor.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoEntityInformation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryMethod.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/PartTreeMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/Query.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQuery.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/JmxServer.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoAdminIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfTypeObjectId.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfTypeString.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWith_idPropertyOfTypeObjectId.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWith_idPropertyOfTypeString.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Portfolio.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SomeEnumTest.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Trade.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/TradeBatch.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/User.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/config/MongoNamespaceTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GenericMappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonMapProperty.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonSimpleList.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/monitor/MongoMonitorIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/IndexTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/SortTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/UpdateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Address.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoEntityMetadataUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoQueryCreatorUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQueryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StubParameterAccessor.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/MongoBeanPropertyDocumentMapper-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/MongoNamespaceTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/monitor/MongoMonitorIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/server-jmx.xml
M	src/ant/upload-dist.xml
M	src/assembly/distribution.xml
M	src/docbkx/index.xml
M	src/docbkx/introduction/getting-started.xml
M	src/docbkx/introduction/introduction.xml
M	src/docbkx/introduction/requirements.xml
M	src/docbkx/introduction/why-sd-doc.xml
M	src/docbkx/preface.xml
M	src/docbkx/reference/couchdb.xml
M	src/docbkx/reference/introduction.xml
M	src/docbkx/reference/jmx.xml
M	src/docbkx/reference/mongo-repositories.xml
M	src/docbkx/reference/mongodb.xml
M	src/docbkx/resources/css/highlight.css
M	src/docbkx/resources/css/html.css
M	src/docbkx/resources/css/stylesheet.css
M	src/docbkx/resources/xsl/fopdf.xsl
M	src/docbkx/resources/xsl/html.xsl
M	src/docbkx/resources/xsl/html/html_chunk.xsl
M	src/docbkx/resources/xsl/html/titlepage.xml
M	src/docbkx/resources/xsl/html_chunk.xsl
M	src/docbkx/resources/xsl/pdf/fopdf.xsl
M	src/docbkx/resources/xsl/pdf/titlepage.xml
M	src/main/javadoc/spring-javadoc.css

commit d4f358abd076e2139c157d008a7359e47f843a2b
tree 2392526bdfa242de9d66a680f7ad508c971de1ca
parent 408294c93f9d88de6ca385150e5616103666575f
author Oliver Gierke <info@olivergierke.de> 1300206558 +0100
committer Oliver Gierke <info@olivergierke.de> 1300206558 +0100

    Adapted introduction of TypeInformation in Spring Data Commons Core.
    
    The MappingMongoConverter now uses TypeInformation to inspect field types and nested ones. Created overloaded versions of read(…) and write(…) to work with PersistentEntity directly so that nested calls to those methods can be distinguished from from top level ones.

M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingConfigurationBuilder.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntity.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentProperty.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/GenericMappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/template.mf

commit 408294c93f9d88de6ca385150e5616103666575f
tree ff055e350e5579a299cfa8aa902b53a3cc00ffa0
parent 65d7a7feafa8df060cf53bddd353eae13f572320
author J. Brisbin <jon@jbrisbin.com> 1300197959 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300197959 -0500

    Merging into master

M	spring-data-document-core/.settings/org.eclipse.jdt.core.prefs
M	spring-data-document-core/.settings/org.eclipse.wst.common.project.facet.core.xml
M	spring-data-mongodb/.classpath
M	spring-data-mongodb/.settings/org.eclipse.jdt.core.prefs
M	spring-data-mongodb/.settings/org.eclipse.wst.common.project.facet.core.xml

commit 65d7a7feafa8df060cf53bddd353eae13f572320
tree 08c5c88c155e17698f8f875f717d26e46a3b7046
parent 784ee634b6ce7e694bef8e87d2e9ed62833748ad
author Jon Brisbin <jon@jbrisbin.com> 1300197689 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300197689 -0500

    Preparing to merge into branch master

M	spring-data-mongodb-cross-store/pom.xml
M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingConfigurationBuilder.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonPojo.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonSimpleList.java

commit 784ee634b6ce7e694bef8e87d2e9ed62833748ad
tree 9c5de42cd3b114a6458562633f0a440cd13bb8a0
parent 21048f211d0cc71e6deec4033c5477cdf9c6e009
parent f2119ed2354c2c92ed2eb72accce2ea93ca7e629
author J. Brisbin <jon@jbrisbin.com> 1300197526 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300197526 -0500

    Merge branch 'master' of github.com:SpringSource/spring-data-document into spring-data-mapping

commit f2119ed2354c2c92ed2eb72accce2ea93ca7e629
tree c7f9c23b369dc4d5c59632b6b8349faeb086234d
parent e9957ea718c985893fa5ebeb7d1e34151d844425
author Oliver Gierke <info@olivergierke.de> 1300175084 +0100
committer Oliver Gierke <info@olivergierke.de> 1300175108 +0100

    Added Spring Milestone plugin repository to find AspectJ.

M	spring-data-mongodb-cross-store/pom.xml

commit e9957ea718c985893fa5ebeb7d1e34151d844425
tree 241ad39000ec54b37cf93432a64a7f790b2f5e43
parent d824ed7e72d715886a4b290d8a845949a7475d77
author Mark Pollack <mark.pollack@springsource.com> 1300120401 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1300120401 -0400

    remove reference to src/main/resoures as eclipse was complianing

M	spring-data-mongodb-cross-store/.classpath

commit 21048f211d0cc71e6deec4033c5477cdf9c6e009
tree 1430bb40f0a15aa8f07548b1b359cd89822c1461
parent 255fbb3379b7cbdc4fd08092fe61c30059ab55a7
author Jon Brisbin <jon@jbrisbin.com> 1300118316 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300118316 -0500

    Tweaks to tests, BasePerson class, common inheritance to test classes, tweaks to complex/simple type detection.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingConfigurationBuilder.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentProperty.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/BasePerson.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonCustomIdName.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonPojo.java

commit 255fbb3379b7cbdc4fd08092fe61c30059ab55a7
tree 3d610a7f45e0d9743ebdc0f46bcb5829b10bd4db
parent 47b8523cb39abddbfbd578e69985be4faa5f6010
author J. Brisbin <jon@jbrisbin.com> 1300109310 -0500
committer J. Brisbin <jon@jbrisbin.com> 1300109310 -0500

    Merge branches 'master' and 'spring-data-mapping' of github.com:SpringSource/spring-data-document into spring-data-mapping

commit 47b8523cb39abddbfbd578e69985be4faa5f6010
tree 3d610a7f45e0d9743ebdc0f46bcb5829b10bd4db
parent d92c7e2ff59cf688468370bbddcc654d6e4b2b6f
author Oliver Gierke <info@olivergierke.de> 1299927317 +0100
committer Oliver Gierke <info@olivergierke.de> 1300003972 +0100

    Removed Mongo specific id handling from ConfigurationBuilder.
    
    Introduced MongoPersistentProperty that implements handling of fields with certain types and names as id property.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingConfigurationBuilder.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentProperty.java

commit d92c7e2ff59cf688468370bbddcc654d6e4b2b6f
tree 596471cc7a15800fd333c6a688a58a83f10254d9
parent c365830b2cc11074ee31d222f70ef8f21be0eae5
parent 2947bfeaa60cc83f1a41fd615f2e0f2b7147a513
author J. Brisbin <jon@jbrisbin.com> 1299982161 -0600
committer J. Brisbin <jon@jbrisbin.com> 1299982161 -0600

    Merge branch 'spring-data-mapping' of github.com:SpringSource/spring-data-document into spring-data-mapping

commit c365830b2cc11074ee31d222f70ef8f21be0eae5
tree bb7594df3d9d4ea5155dcc0d762620e430f2a5be
parent e66f95bcf8b268e8b804a2973a651ee862dfd4b8
author J. Brisbin <jon@jbrisbin.com> 1299981803 -0600
committer J. Brisbin <jon@jbrisbin.com> 1299981803 -0600

    Fixes for bug skipping fields in superclasses

M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/AccountPojo.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/BasePerson.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Person.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonCustomIdName.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonMapProperty.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/PersonPojo.java
M	spring-data-mongodb/src/test/resources/mapping.xml

commit 2947bfeaa60cc83f1a41fd615f2e0f2b7147a513
tree 715e4c21685479d3bc166a0531b72fd1c8589ea8
parent 01a800b2cc723e31e68622603db784a8b133edc7
author Oliver Gierke <info@olivergierke.de> 1299915402 +0100
committer Oliver Gierke <info@olivergierke.de> 1299915402 +0100

    Removed @Override annotations as they cannot be used at interfaces with Java 5.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepository.java

commit 01a800b2cc723e31e68622603db784a8b133edc7
tree 0650cb084db121418e3d8e16d1bcb18836a8b172
parent 4daab96bc4709b6cd06a7b4ee2a9eb114bb0a725
author Oliver Gierke <info@olivergierke.de> 1299863985 +0100
committer Oliver Gierke <info@olivergierke.de> 1299914612 +0100

    DATACMNS-20 - Adapted refactoring of Repository.findById(…) to findOne(…).

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java

commit 4daab96bc4709b6cd06a7b4ee2a9eb114bb0a725
tree 0cd53910bfdce9b28cc13337ca1e992926a665d2
parent e66f95bcf8b268e8b804a2973a651ee862dfd4b8
author Oliver Gierke <info@olivergierke.de> 1299857541 +0100
committer Oliver Gierke <info@olivergierke.de> 1299914612 +0100

    DATAJPA-19 - Adapted generics and metadata changes made in core.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryMethod.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java

commit e66f95bcf8b268e8b804a2973a651ee862dfd4b8
tree 202fe35a3abb620d616dd77b966820733e96fa45
parent 5e4b5cf9e0a64de6d088103896897929c00a5274
parent d824ed7e72d715886a4b290d8a845949a7475d77
author J. Brisbin <jon@jbrisbin.com> 1299883179 -0600
committer J. Brisbin <jon@jbrisbin.com> 1299883179 -0600

    spring-data-commons object mapping support for MongoDB

commit d824ed7e72d715886a4b290d8a845949a7475d77
tree 41f5edcf5dfe7a73270148cb3bf9a11d9a38701c
parent f585beffc86740eca8404d96acaeec3eca09953e
author Oliver Gierke <info@olivergierke.de> 1299866465 +0100
committer Oliver Gierke <info@olivergierke.de> 1299866465 +0100

    DATACMNS-21 - Override Repository methods returning Iterable.
    
    As the MongoOperations currently only returns Lists anyway we can override the methods returning an Iterable to return List for now.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java

commit f585beffc86740eca8404d96acaeec3eca09953e
tree d67a9eaf95e2fbbe3a14f4599ae0e66700b0b600
parent 68635687d1766ec5bc5782ac98ff5b7bc3b2fab2
author Oliver Gierke <info@olivergierke.de> 1299863985 +0100
committer Oliver Gierke <info@olivergierke.de> 1299863985 +0100

    DATACMNS-20 - Adapted refactoring of Repository.findById(…) to findOne(…).

M	spring-data-document-core/.classpath
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java

commit 68635687d1766ec5bc5782ac98ff5b7bc3b2fab2
tree 117826605f434a699209300279a90749756cb25c
parent 60f9b05760bd66c36f6e13f635509165c265beac
author Oliver Gierke <info@olivergierke.de> 1299857541 +0100
committer Oliver Gierke <info@olivergierke.de> 1299858094 +0100

    DATAJPA-19 - Adapted generics and metadata changes made in core.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/AbstractMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoEntityInformation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryMethod.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/PartTreeMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoEntityMetadataUnitTests.java
M	spring-data-mongodb/template.mf

commit 60f9b05760bd66c36f6e13f635509165c265beac
tree 5f732332a67dcab517a6a0a1f72bf20aea6e6102
parent 0ad895d6d4428073514a4ef64572578762a3a591
author Thomas Risberg <trisberg@vmware.com> 1299706152 -0500
committer Thomas Risberg <trisberg@vmware.com> 1299706152 -0500

    DATADOC-48 added additional tests for cross-store

M	spring-data-document-core/.classpath
M	spring-data-document-core/.settings/org.eclipse.jdt.core.prefs
M	spring-data-document-core/.settings/org.eclipse.wst.common.project.facet.core.xml
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/CrossStoreMongoTests.java
A	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/Person.java
A	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/Resume.java
M	spring-data-mongodb/.classpath
M	spring-data-mongodb/.settings/org.eclipse.jdt.core.prefs
M	spring-data-mongodb/.settings/org.eclipse.wst.common.project.facet.core.xml

commit 0ad895d6d4428073514a4ef64572578762a3a591
tree 7c1fdc34822fe09c03df060954ece98e8ab2961a
parent 779d9d6a79264de45a16182a319053517087dd10
author Thomas Risberg <trisberg@vmware.com> 1299644905 -0500
committer Thomas Risberg <trisberg@vmware.com> 1299644922 -0500

    DATADOC-48 added cross-store support for Mongo->JPA relationships

M	spring-data-mongodb-cross-store/src/main/java/org/springframework/persistence/document/MongoChangeSetPersister.java
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/persistence/document/MongoEntityOperations.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/CrossStoreMongoTests.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/Account.java
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml

commit 5e4b5cf9e0a64de6d088103896897929c00a5274
tree c1da204a16d36fe8e0bca06274c3e3306df46d05
parent ff8b0a166e0a71b7c3de995279f8753a46ac0a44
parent 779d9d6a79264de45a16182a319053517087dd10
author J. Brisbin <jon@jbrisbin.com> 1299624605 -0600
committer J. Brisbin <jon@jbrisbin.com> 1299624605 -0600

    Removed SimpleMongoConverter from main package

commit ff8b0a166e0a71b7c3de995279f8753a46ac0a44
tree c1da204a16d36fe8e0bca06274c3e3306df46d05
parent 40ef4d7ad98c79dff4080a40630f8ea888287931
author J. Brisbin <jon@jbrisbin.com> 1299615560 -0600
committer J. Brisbin <jon@jbrisbin.com> 1299615560 -0600

    Fixes, handling associations

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MappingException.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MappingIntrospector.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingConfigurationStrategy.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mapping/annotation/Aliases.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/annotation/Reference.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/AbstractPersistentEntity.java
D	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/EntityInstantiationException.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/IllegalMappingException.java
M	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/MappingConfigurationStrategy.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/MappingInstantiationException.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Account.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Person.java

commit 779d9d6a79264de45a16182a319053517087dd10
tree f5707568da26f55afb3bb94272f23372d88e81ef
parent d6fd36ce003dd2050ee90a463ae36e1a2fd108c2
author Oliver Gierke <info@olivergierke.de> 1299591154 +0100
committer Oliver Gierke <info@olivergierke.de> 1299591213 +0100

    Extended SimpleMongoConverter to support registering custom types.
    
    Values of the registered custom types are serialized using the underlying ConversionService. This way we can plug in custom converters, e.g. for JodaTime and the like.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java

commit 40ef4d7ad98c79dff4080a40630f8ea888287931
tree cb1ab0a404a975f30325af7274bd72cd65eac9b0
parent 8949d53252f1e20e1a170f459a00c2a6e768d5d7
author Jon Brisbin <jon@jbrisbin.com> 1299537603 -0600
committer J. Brisbin <jon@jbrisbin.com> 1299537603 -0600

    Stripping extra, obsolete stuff.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimplePojoDBObjectConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MappingIntrospector.java

commit 8949d53252f1e20e1a170f459a00c2a6e768d5d7
tree 738395b8c1276d261fbf74857313f7452d055b69
parent 1d1ee36b5ad5b093898726f45653c4941f86666d
author Jon Brisbin <jon@jbrisbin.com> 1299534624 -0600
committer J. Brisbin <jon@jbrisbin.com> 1299534624 -0600

    Trying to fix merge conflicts.

M	.gitignore
M	spring-data-couchdb/pom.xml
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java

commit 1d1ee36b5ad5b093898726f45653c4941f86666d
tree 7e0758ae3639343303cd1fe60b66f20d896ae2ba
parent 9a4ed1987b145f5109b772361d263498446944d8
author J. Brisbin <jon@jbrisbin.com> 1299534430 -0600
committer J. Brisbin <jon@jbrisbin.com> 1299534430 -0600

    tweaks

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoEntityInformation.java

commit 9a4ed1987b145f5109b772361d263498446944d8
tree 4365fc430806763d97ccb8d8a5f70e60431d3cb4
parent 15768b3a441753b91e989f653a1139e9ef17c6b1
parent d6fd36ce003dd2050ee90a463ae36e1a2fd108c2
author J. Brisbin <jon@jbrisbin.com> 1299534351 -0600
committer J. Brisbin <jon@jbrisbin.com> 1299534351 -0600

    Merging upstream changes

commit 15768b3a441753b91e989f653a1139e9ef17c6b1
tree df8f1b12494595663be190b98c6dff4c1927f751
parent 6f12450be6a9830ed5734627d9c5c5e7ec93a39a
author J. Brisbin <jon@jbrisbin.com> 1299533730 -0600
committer J. Brisbin <jon@jbrisbin.com> 1299533730 -0600

    First stab at mapping

M	spring-data-document-core/pom.xml
M	spring-data-document-core/template.mf
M	spring-data-document-parent/pom.xml
M	spring-data-mongodb/pom.xml
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoBeanWrapper.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoPropertyDescriptors.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoReader.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoMappingConverterParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/SimpleMongoRepositoryConfiguration.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MappingMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MongoBeanWrapper.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/MongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimpleMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/convert/SimplePojoDBObjectConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/CompoundIndex.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/CompoundIndexes.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/IndexDefinition.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/IndexDirection.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/IndexPredicate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/index/Indexed.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MappingException.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MappingIntrospector.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoClassMapping.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoCollection.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingConfigurationStrategy.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingContext.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoMappingFactory.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoPersistentEntity.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/MongoProperty.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/mapping/index/MongoIndexDefinition.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/annotation/Aliases.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/annotation/Id.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/annotation/IdentifiedBy.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/annotation/ManyToMany.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/annotation/OneToMany.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/annotation/OneToOne.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/annotation/PersistenceConstructor.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/annotation/PersistenceStrategy.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/annotation/Persistent.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/annotation/Transient.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/annotation/Value.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/AbstractClassMapping.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/AbstractMappingContext.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/AbstractPersistentEntity.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/AbstractPersistentProperty.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/ClassMapping.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/DatastoreConfigurationException.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/EntityInstantiationException.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/IdentityMapping.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/IllegalMappingException.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/MappingConfigurationStrategy.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/MappingContext.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/MappingFactory.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/PersistentEntity.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/PersistentProperty.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/PropertyMapping.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/types/Association.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/types/Basic.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/types/BasicTypeConverterRegistrar.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/types/Embedded.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/types/Identity.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/types/ManyToMany.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/types/ManyToOne.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/types/OneToMany.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/types/OneToOne.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/types/Simple.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/model/types/ToOne.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/reflect/ClassPropertyFetcher.java
A	spring-data-mongodb/src/main/java/org/springframework/data/mapping/reflect/ReflectionUtils.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Account.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Address.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/MappingTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/mapping/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoQueryCreatorUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQueryUnitTests.java
M	spring-data-mongodb/src/test/resources/infrastructure.xml
A	spring-data-mongodb/src/test/resources/mapping.xml
M	spring-data-mongodb/template.mf

commit d6fd36ce003dd2050ee90a463ae36e1a2fd108c2
tree c495a0e68d902959aa3ab99935f2a53e6ad8b37e
parent 0baad6740a0e027f1e4ee073db445812cf69950f
author Mark Pollack <mark.pollack@springsource.com> 1299527802 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1299527802 -0500

    Igore CouchDB integration tests until couchdb server is on CI build machine

M	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/admin/CouchAdminIntegrationTests.java
M	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/core/CouchTemplateIntegrationTests.java

commit 0baad6740a0e027f1e4ee073db445812cf69950f
tree e5672b303161ee645820b1be6fac62e3dab46878
parent 4616fb19a26f03e63868de6bad422047c18c71e0
author Mark Pollack <mark.pollack@springsource.com> 1299527652 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1299527652 -0500

    Simple CouchDB integration

M	spring-data-couchdb/.classpath
M	spring-data-couchdb/pom.xml
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CannotGetCouchDbConnectionException.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CouchDbFactoryBean.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CouchDbUtils.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CouchServerResourceUsageException.java
D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CouchTemplate.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CouchUsageException.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/DocumentExistsException.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/DocumentRetrievalFailureException.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/UncategorizedCouchDataAccessException.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/admin/CouchAdmin.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/admin/CouchAdminOperations.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/admin/DbInfo.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/config/CouchJmxParser.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/config/CouchNamespaceHandler.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/core/CouchOperations.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/core/CouchTemplate.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/core/support/CouchDbMappingJacksonHttpMessageConverter.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/monitor/AbstractMonitor.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/monitor/ServerInfo.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/monitor/package-info.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/support/CouchUtils.java
A	spring-data-couchdb/src/main/resources/META-INF/spring.handlers
A	spring-data-couchdb/src/main/resources/META-INF/spring.schemas
A	spring-data-couchdb/src/main/resources/META-INF/spring.tooling
A	spring-data-couchdb/src/main/resources/org/springframework/data/document/couchdb/config/spring-couch-1.0.xsd
A	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/DummyDocument.java
A	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/IsBodyEqual.java
A	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/admin/CouchAdminIntegrationTests.java
A	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/core/AbstractCouchTemplateIntegrationTests.java
A	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/core/CouchConstants.java
A	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/core/CouchTemplateIntegrationTests.java
A	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/core/CouchTemplateTests.java
A	spring-data-couchdb/src/test/java/org/springframework/data/document/couchdb/monitor/JmxServer.java
A	spring-data-couchdb/src/test/resources/log4j.properties
A	spring-data-couchdb/src/test/resources/server-jmx.xml
M	spring-data-couchdb/template.mf
M	spring-data-document-parent/pom.xml
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java

commit 4616fb19a26f03e63868de6bad422047c18c71e0
tree 39de2d40e2293f6d821bbc868234811991eb121a
parent 9bc4f9ad98fe3f888dd2a5d6d4e9f54a97ad9390
author Oliver Gierke <info@olivergierke.de> 1298899842 +0100
committer Oliver Gierke <info@olivergierke.de> 1299228445 +0100

    DATADOC-34 - Create indexes for repository query methods on start.
    
    Adapted changes of Spring Data Commons. Implemented IndexEnsuringQueryCreationListener that creates an index for all the properties used in a query. Applies descending order by default but consideres potentially added OrderBy clauses in the query to define the order of the index attributes.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/AbstractMongoQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoEntityInformation.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoEntityMetadata.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryMethod.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/PartTreeMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoEntityMetadataUnitTests.java

commit 9bc4f9ad98fe3f888dd2a5d6d4e9f54a97ad9390
tree c3172b235c43726c822ae08a94e9591bcb58101c
parent 8f39f6616d727be319df792e3d2c8e2b63de5849
author Oliver Gierke <info@olivergierke.de> 1299171996 +0100
committer Oliver Gierke <info@olivergierke.de> 1299171996 +0100

    Added fix for And and Or keywords to changelog.

M	src/main/resources/changelog.txt

commit 8f39f6616d727be319df792e3d2c8e2b63de5849
tree 6301c92d3f519b146fe36fc0c0b4db81f45a811b
parent 716875db03c7c2766eb44d55cc784568694d4c9a
author Thomas Risberg <trisberg@vmware.com> 1299165414 -0500
committer Thomas Risberg <trisberg@vmware.com> 1299165414 -0500

    DATADOC-48 some more cross-store tests

M	spring-data-mongodb-cross-store/.classpath
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/persistence/document/MongoChangeSetPersister.java
D	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/Account.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/CrossStoreMongoTests.java
D	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/MongoPerson.java
A	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/Account.java
A	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/MongoPerson.java
A	spring-data-mongodb-cross-store/src/test/java/org/springframework/persistence/document/test/MongoPerson_Roo_Mongo_Entity.aj
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/persistence.xml
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml

commit 716875db03c7c2766eb44d55cc784568694d4c9a
tree 451b4e1eb5e523c54e1b28cced401d7c40767273
parent 4d3db4fd4726058383064c0e7483c3beece8c725
author Thomas Risberg <trisberg@vmware.com> 1299078511 -0500
committer Thomas Risberg <trisberg@vmware.com> 1299078511 -0500

    added cross-store to full build

M	pom.xml
M	spring-data-mongodb-cross-store/pom.xml

commit 4d3db4fd4726058383064c0e7483c3beece8c725
tree 1d47472eb264722b00eb735cb8fe1a762ff61160
parent 358fd51c4d88db665ae3c65de2cc3d66ab11a858
author Thomas Risberg <trisberg@vmware.com> 1299077832 -0500
committer Thomas Risberg <trisberg@vmware.com> 1299077832 -0500

    DATADOC-48 adding basic cross-store features and some tests

M	spring-data-mongodb-cross-store/.classpath
M	spring-data-mongodb-cross-store/src/main/java/org/springframework/persistence/document/MongoChangeSetPersister.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/Account.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/MongoPerson.java
A	spring-data-mongodb-cross-store/src/test/resources/META-INF/persistence.xml
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml
A	spring-data-mongodb-cross-store/src/test/resources/log4j.properties

commit 358fd51c4d88db665ae3c65de2cc3d66ab11a858
tree 934b03cf5fde6f61ab0525308af2322dc9385340
parent 597b4374bc91f84ce3f49acf8b64872758ae8d49
author Thomas Risberg <trisberg@vmware.com> 1299074316 -0500
committer Thomas Risberg <trisberg@vmware.com> 1299074323 -0500

    DATADOC-48 adding basic cross-store features

M	spring-data-mongodb-cross-store/.classpath
M	spring-data-mongodb-cross-store/.settings/org.eclipse.jdt.core.prefs
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/persistence/document/MongoChangeSetPersister.java
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/persistence/document/MongoDocumentBacking.aj
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/persistence/document/MongoEntityOperations.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/CrossStoreMongoTests.java
M	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/MongoPerson.java
M	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml

commit 597b4374bc91f84ce3f49acf8b64872758ae8d49
tree a2cac28a9f0c0b12f4de8a163ff8781869044a2b
parent 6f12450be6a9830ed5734627d9c5c5e7ec93a39a
author Oliver Gierke <info@olivergierke.de> 1299060982 +0100
committer Oliver Gierke <info@olivergierke.de> 1299060982 +0100

    DATADOC-49 - Fixed And and Or keyword handling.
    
    Made Query.or(…) public and changed MongoQueryCreator to operate on Query rather than on Criteria.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Query.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java

commit 6f12450be6a9830ed5734627d9c5c5e7ec93a39a
tree e66ded2c3567be5a4e02e7b17555db9b5136a057
parent 9e77e8585432ae57a6eac871176b55c11f8e6654
author Oliver Gierke <info@olivergierke.de> 1299010615 +0100
committer Oliver Gierke <info@olivergierke.de> 1299010803 +0100

    Changed @Query based queries to use index parameters.
    
    Using indexed parameters allows having a single method parameter to be bound to multiple placeholders.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQuery.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQueryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StubParameterAccessor.java

commit 9e77e8585432ae57a6eac871176b55c11f8e6654
tree a111df6976719ae1d40f4594ebdd5503194d5eea
parent 0427abfb90e352ae4a54117f8e2e1a07e0502f0b
author Oliver Gierke <info@olivergierke.de> 1299010475 +0100
committer Oliver Gierke <info@olivergierke.de> 1299010802 +0100

    Adapted signature changes of QueryLookupStrategy.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java

commit 0427abfb90e352ae4a54117f8e2e1a07e0502f0b
tree ca15b1eb0aacb416b6253494dc7c80af6391b57f
parent 851acca320b5e7eb7c501b9f7122cbac11d00f4f
author Oliver Gierke <info@olivergierke.de> 1299010457 +0100
committer Oliver Gierke <info@olivergierke.de> 1299010802 +0100

    Added field attribute to @Query annotation.
    
    The fields attribute allows specifying which fields of matching documents should be unmarshalled.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryMethod.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/Query.java

commit 851acca320b5e7eb7c501b9f7122cbac11d00f4f
tree 79bedb654057c6640eb82d8d7cf18f4993a3e71f
parent ef7178c9fa12ebc29b4723c3208f5ede3499f9e7
author Oliver Gierke <info@olivergierke.de> 1299010291 +0100
committer Oliver Gierke <info@olivergierke.de> 1299010802 +0100

    Distinguish between getDomainClass() and getReturnedDomainClass().
    
    In a repository for a particular domain type we might want to query for nested documents directly and thus also return those nested documents. As the collection to be queried is determined by the domain class, this one might differ from the object the result has to be unmarshalled to.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/AbstractMongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryMethod.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/PartTreeMongoQuery.java

commit ef7178c9fa12ebc29b4723c3208f5ede3499f9e7
tree ecb67b78a0f7f41eee21bbbb92f5292118184dc7
parent f90766d3f403076a4a6ab0c5c72d81eb8296d55a
author Oliver Gierke <info@olivergierke.de> 1299009943 +0100
committer Oliver Gierke <info@olivergierke.de> 1299010802 +0100

    Extended  ConvertingParameterAccessor to convert for getBindableValue(…) as well.
    
    Added special handling for enums as the PropertyDescriptor otherwise fails to resolve the generic type.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/ConvertingParameterAccessor.java

commit f90766d3f403076a4a6ab0c5c72d81eb8296d55a
tree 67051dd5ae8e1c801126c5b8daf8d4bd93b4575c
parent eb5bbe46860b4059e3714b3ab1c442b66b1cfe39
author Oliver Gierke <info@olivergierke.de> 1299009489 +0100
committer Oliver Gierke <info@olivergierke.de> 1299010802 +0100

    Intercept NotWriteablePropertyException on setting bean values.
    
    Using field access for populating objects in SimpleMongoConverter causes trouble when the class to be persisted contains a business getter without any parameters. This causes a PropertyDescriptor to be created for that method without a field actually backing it. So I manually catch NotWriteablePropertyException now to simply skip those invalid properties.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoBeanWrapper.java

commit eb5bbe46860b4059e3714b3ab1c442b66b1cfe39
tree b695f7bfb2af23059b9b42da53249ea36273ed2f
parent 068780c1abeeec1df3aad538402158df3deba5c5
author Thomas Risberg <trisberg@vmware.com> 1298930195 -0500
committer Thomas Risberg <trisberg@vmware.com> 1298930439 -0500

    added new cross-store module

M	spring-data-document-parent/pom.xml
A	spring-data-mongodb-cross-store/.classpath
A	spring-data-mongodb-cross-store/.project
A	spring-data-mongodb-cross-store/.settings/org.eclipse.jdt.core.prefs
A	spring-data-mongodb-cross-store/.settings/org.maven.ide.eclipse.prefs
A	spring-data-mongodb-cross-store/pom.xml
A	spring-data-mongodb-cross-store/src/main/java/org/springframework/persistence/document/DocumentEntity.java
A	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/Account.java
A	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/CrossStoreMongoTests.java
A	spring-data-mongodb-cross-store/src/test/java/org/springframework/data/document/persistence/MongoPerson.java
A	spring-data-mongodb-cross-store/src/test/resources/META-INF/spring/applicationContext.xml
M	spring-data-mongodb/pom.xml

commit 068780c1abeeec1df3aad538402158df3deba5c5
tree 6de7b0f8f40a312f38a91fb6196f75dbaa5ceed3
parent 3caa88a2da6e57e7b936f264b29bc1c066167424
author Oliver Gierke <info@olivergierke.de> 1298454849 +0100
committer Oliver Gierke <info@olivergierke.de> 1298639559 +0100

    DATADOC-46 - Added implementations for 'In' and 'NotIn'.
    
    Added keyword interpretation as well as examples and test cases. Fixed bug in Criteria where a typo caused an invalid operator being used for not-in ($min -> $nin).

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java
M	src/main/resources/changelog.txt

commit 3caa88a2da6e57e7b936f264b29bc1c066167424
tree b7d9ffdb1752b98e35930da30ba0497b07f30f56
parent 86cc313d806931e86ad16f248d69fffd06c5f611
author Oliver Gierke <info@olivergierke.de> 1298568557 +0000
committer Oliver Gierke <info@olivergierke.de> 1298638739 +0100

    DATADOC-47 - Adapted changes of DATACMNS-17.

D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoEntityInformation.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoEntityMetadata.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoEntityInformationUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoEntityMetadataUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryUnitTests.java
M	src/main/resources/changelog.txt

commit 86cc313d806931e86ad16f248d69fffd06c5f611
tree 62593ada34329257afdbcfd87e7b807e752741ba
parent 32cb21eed6554ad0d22e4cf40eac86c1c93516c3
author Oliver Gierke <info@olivergierke.de> 1298569056 +0000
committer Oliver Gierke <info@olivergierke.de> 1298569056 +0000

    Quick fix for missing createIsNewStrategy(…).
    
    Solid refactoring will follow up with implementation of DATACMNS-17.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java

commit 32cb21eed6554ad0d22e4cf40eac86c1c93516c3
tree 1a1dfa0831bf4137639ff6deec184152edd065be
parent f171b5b3eedd77faa055abd4a55b5f154f461421
author Mark Pollack <mark.pollack@springsource.com> 1298471943 -0300
committer Mark Pollack <mark.pollack@springsource.com> 1298471943 -0300

    Add JMX documentation

M	src/docbkx/index.xml
A	src/docbkx/reference/jmx.xml
A	src/docbkx/resources/images/jconsole.png

commit f171b5b3eedd77faa055abd4a55b5f154f461421
tree 083ece11d72666ec1e0633620331ef6135e27b4e
parent 3604f88322d7494f0512faf1fddcf37468a585bb
author Thomas Risberg <trisberg@vmware.com> 1297893804 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297893814 -0500

    updated aws build extension to work with Maven 2.2.1

M	pom.xml
M	spring-data-document-parent/pom.xml

commit 3604f88322d7494f0512faf1fddcf37468a585bb
tree 8f4216abd40e2b8b7f75d43b25466416903b8fdc
parent 8f851310cc8917393472e26566fdaa5d37533ee0
author Oliver Gierke <info@olivergierke.de> 1297886416 +0100
committer Oliver Gierke <info@olivergierke.de> 1297886416 +0100

    Fixed logger access method.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java

commit 8f851310cc8917393472e26566fdaa5d37533ee0
tree b9f34e61f53ebf624dcd9f227d6a02b513396bae
parent 53f71a068c78ac4576dff92d989ade00821257c9
author Oliver Gierke <info@olivergierke.de> 1297883839 +0100
committer Oliver Gierke <info@olivergierke.de> 1297886282 +0100

    DATADOC-24 - Added support for using @Query on Mongo repository methods.
    
    Adapted changes from Spring Data Commons. Created ConvertingParameterAccessor that uses a MongoWriter to already convert query method parameters on access. Added @Query annotation to allow defining JSON based queries on query methods using ? placeholders.

M	spring-data-mongodb/pom.xml
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/AbstractMongoQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/ConvertingParameterAccessor.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryMethod.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/PartTreeMongoQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/Query.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQuery.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoQueryCreatorUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StringBasedMongoQueryUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/StubParameterAccessor.java
M	spring-data-mongodb/template.mf

commit 53f71a068c78ac4576dff92d989ade00821257c9
tree 3086fe4697ef4dfc3931b9438e7ad4bb479dafd8
parent c60232315bf0529f55f33f798a6feaf157e153cf
author Thomas Risberg <trisberg@vmware.com> 1297745513 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297745513 -0500

    preparing for snapshot builds

M	pom.xml
M	spring-data-document-core/pom.xml
M	spring-data-document-parent/pom.xml
M	spring-data-mongodb/pom.xml
M	src/assembly/distribution.xml

commit c60232315bf0529f55f33f798a6feaf157e153cf
tree abfedd4893b8e1d7b9b054cba2fdea50d93e3b6f
parent 49bae2a0e5f7a9c2001204d2fb77482a57de8dc9
author Thomas Risberg <trisberg@vmware.com> 1297744857 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297744857 -0500

    preparing for 1.0.0.M1 MongoDB release

M	pom.xml
M	spring-data-document-core/pom.xml
M	spring-data-document-parent/pom.xml
M	spring-data-mongodb/pom.xml
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/package-info.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/package-info.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/package-info.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Update.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/package-info.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/package-info.java
M	src/assembly/distribution.xml
M	src/docbkx/reference/mongodb.xml
D	src/main/resources/apache-license.txt
M	src/main/resources/changelog.txt
A	src/main/resources/license.txt
M	src/main/resources/notice.txt
M	src/main/resources/readme.txt

commit 49bae2a0e5f7a9c2001204d2fb77482a57de8dc9
tree 41cdfcf56bde4569c5123e343034a5621968f9aa
parent a77de6e228d53638b8e389cb5d7911754cce5fb7
author Thomas Risberg <trisberg@vmware.com> 1297741359 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297741359 -0500

    tweaking the build

M	pom.xml
M	src/assembly/distribution.xml

commit a77de6e228d53638b8e389cb5d7911754cce5fb7
tree 03734a3bb91993bf91267bee28d19723d550fd35
parent 9ff5f6426e919e755cca3be13544c9dbacd14441
author Thomas Risberg <trisberg@vmware.com> 1297740221 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297740221 -0500

    tweaking the build

M	pom.xml
M	spring-data-mongodb/pom.xml

commit 9ff5f6426e919e755cca3be13544c9dbacd14441
tree 802f316803c15e9c5c49afdafa275b3f27a1cc2c
parent 750fb907e326541a4f36cf3791bba18f8d63e58e
author Thomas Risberg <trisberg@vmware.com> 1297727600 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297727600 -0500

    DATADOC-30 updated documenation

M	src/docbkx/reference/mongodb.xml

commit 750fb907e326541a4f36cf3791bba18f8d63e58e
tree d87beccf0a397bc6be79f7a8c6f58f241c9e5961
parent 202837e349a4928f9861da9ae6b0dc7d0b05d146
author Thomas Risberg <trisberg@vmware.com> 1297727590 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297727590 -0500

    added Enum support for BasicUpdate; tweaking the Criteria support

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicUpdate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Update.java

commit 202837e349a4928f9861da9ae6b0dc7d0b05d146
tree ef261a1ea387a4df74801645a6b26aa5c92c7766
parent e12ac2313137b8f3ab8e4c56a507d071af6fe074
author Thomas Risberg <trisberg@vmware.com> 1297720682 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297720682 -0500

    added Enum support for Update and Query

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Update.java

commit e12ac2313137b8f3ab8e4c56a507d071af6fe074
tree 4a9a029d48d9bf20ddbb773a84c657699b43c359
parent e734277c3c67f42f37f7eb94ebd2aba115d90a1c
author Thomas Risberg <trisberg@vmware.com> 1297717385 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297717385 -0500

    DATADOC-30 updated documenation

M	src/docbkx/reference/mongodb.xml

commit e734277c3c67f42f37f7eb94ebd2aba115d90a1c
tree c8e4b07a3bfdd8b144d064297b05927f99aae77c
parent 888420523421f432fcf80d91f7536e4491c7e38f
author Thomas Risberg <trisberg@vmware.com> 1297716492 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297716492 -0500

    tweaking the MongoOperstions API for consistency across methods

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/GeospatialIndex.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Index.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/IndexDefinition.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/IndexSpecification.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQuery.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java

commit 888420523421f432fcf80d91f7536e4491c7e38f
tree 2b435ae77c50929944723a9c7988e14913c35376
parent 11ab0453fe1d5a444023656ade83c6d9b0126cfe
author Thomas Risberg <trisberg@vmware.com> 1297705655 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297705655 -0500

    DATADOC-30 updated documenation

M	src/docbkx/reference/mongodb.xml

commit 11ab0453fe1d5a444023656ade83c6d9b0126cfe
tree 4521e69a6dc112e6bd4382c3e967f060894ef49d
parent 711dd31564d669624bf659ad5bd2958c032f6c43
author Thomas Risberg <trisberg@vmware.com> 1297705235 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297705235 -0500

    DATADOC-30 updated documenation

M	src/docbkx/reference/mongodb.xml

commit 711dd31564d669624bf659ad5bd2958c032f6c43
tree 5769181069c2d7cf53582f2ab83e9e08eeb9ce79
parent 4a9ed870d1fb5f03e1281dfda6c8848a7ad97c70
author Thomas Risberg <trisberg@vmware.com> 1297705207 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297705207 -0500

    tweaking the line-up of methods in MongoOperations; make return value consistent for createCollection methods

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 4a9ed870d1fb5f03e1281dfda6c8848a7ad97c70
tree b75f8f21ddd88d45f31d15f9a09c6cdc6a42866e
parent bb8a4d93c642e66dd38e1f1a7c86ed41170fa09f
author Thomas Risberg <trisberg@vmware.com> 1297694220 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297694220 -0500

    working on the docs

M	src/docbkx/index.xml
A	src/docbkx/reference/couchdb.xml
M	src/docbkx/reference/introduction.xml
M	src/docbkx/reference/mongo-repositories.xml
M	src/docbkx/reference/mongodb.xml

commit bb8a4d93c642e66dd38e1f1a7c86ed41170fa09f
tree 63f8625f50eb6fe424f9157fe168eeae8d7a0ff7
parent 3a1ccf5adc528545fc02e473da989b5013469cb1
author Oliver Gierke <info@olivergierke.de> 1297690322 +0100
committer Oliver Gierke <info@olivergierke.de> 1297690322 +0100

    Use newly introduced findOne(…) of MongoOperations inside SimpleMongoRepository.findById(…).

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java

commit 3a1ccf5adc528545fc02e473da989b5013469cb1
tree a2c8b4333719cbb50b29ddb415cc46a229410366
parent 16a3a60d80318617db4bbba73b2708b31a6e6074
author Oliver Gierke <info@olivergierke.de> 1297689857 +0100
committer Oliver Gierke <info@olivergierke.de> 1297689857 +0100

    Improved debug logging in MongoQueryCreator.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java

commit 16a3a60d80318617db4bbba73b2708b31a6e6074
tree 490943c515b97dea8eacf8851b7d13376f377c5c
parent 4a36da18892d4fac79b3b740dfecc8f93aae58c4
author Thomas Risberg <trisberg@vmware.com> 1297648594 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297648594 -0500

    polished - removed unused imports

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoAdmin.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoJmxParser.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/JmxServer.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoAdminIntegrationTests.java

commit 4a36da18892d4fac79b3b740dfecc8f93aae58c4
tree 409f68be376751083a6cd2d4e56018de5e127cec
parent 596341a462f404eca98e44b71496980cf75bee5f
author Thomas Risberg <trisberg@vmware.com> 1297647914 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297647914 -0500

    added findOne methods to MongoOperations; added support to automagically map 'id' fields in queries to '_id' and to convert String to ObjectId if possible; fixed SimpleMongoConverter's mapping of a bean property named '_id'

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoPropertyDescriptors.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfTypeObjectId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWithIdPropertyOfTypeString.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWith_idPropertyOfTypeObjectId.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/PersonWith_idPropertyOfTypeString.java

commit 596341a462f404eca98e44b71496980cf75bee5f
tree 595ab373c292ddd519bc2b34d9131cb942bcf714
parent b1f6ff9d89bc4a3a7935b473b955cbf3d44318a7
author Thomas Risberg <trisberg@vmware.com> 1297627433 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297627433 -0500

    fixed typo

M	README.md

commit b1f6ff9d89bc4a3a7935b473b955cbf3d44318a7
tree 96171cbb04de39432e34a6b18b8262e091311316
parent 704c84b6445a3b3a5a65c4330183aad39271e579
author Mark Pollack <mark.pollack@springsource.com> 1297576437 -0200
committer Mark Pollack <mark.pollack@springsource.com> 1297576437 -0200

    Update documentation.  Add support to configure MongoOptions in .xsd

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoParser.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/MongoNamespaceTests-context.xml
M	spring-data-mongodb/src/test/resources/server-jmx.xml
M	src/docbkx/reference/mongodb.xml

commit 704c84b6445a3b3a5a65c4330183aad39271e579
tree d2ad7755bdb5bb93aaebe9e6b985a716556939c5
parent 1519b81b1d2acb8747decadf59c416bcbc5f6194
author Mark Pollack <mark.pollack@springsource.com> 1297565266 -0200
committer Mark Pollack <mark.pollack@springsource.com> 1297565266 -0200

    Add JMX namespace parser

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryConfigDefinitionParser.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryNamespaceHandler.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/SimpleMongoRepositoryConfiguration.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/AssertMetrics.java
M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
M	spring-data-mongodb/src/test/resources/server-jmx.xml

commit 1519b81b1d2acb8747decadf59c416bcbc5f6194
tree d72961b8726e024ad96a7c49571b157c47283a5b
parent 42b13175fefc7ee72d713cf3e2b1859714ac019d
author Mark Pollack <mark.pollack@springsource.com> 1297565255 -0200
committer Mark Pollack <mark.pollack@springsource.com> 1297565255 -0200

    Add JMX namespace parser

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoJmxParser.java

commit 42b13175fefc7ee72d713cf3e2b1859714ac019d
tree 12751d6debaf190921ff61923a759f5c01066cab
parent bccd302b50da57519194ec5fc4c12834146675d7
author Thomas Risberg <trisberg@vmware.com> 1297547975 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297547975 -0500

    DATADOC-30 updated documentation

M	src/docbkx/reference/mongodb.xml

commit bccd302b50da57519194ec5fc4c12834146675d7
tree b4c096efb59ff3a8bea567171e031ebaf8a1d765
parent c47c7deeeba436b1966c2dc054d5b2c8a31c3fbe
author Thomas Risberg <trisberg@vmware.com> 1297545792 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297545792 -0500

    added IndexSpecification to support creating GeospatialIndex

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/GeospatialIndex.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Index.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/IndexSpecification.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/IndexTests.java

commit c47c7deeeba436b1966c2dc054d5b2c8a31c3fbe
tree e69b9c9d2370ad909756077e4826b63c0bafa4a5
parent 222b1507cdd3816bbb5f47e7b9ba45c6dd3d2e7b
author Thomas Risberg <trisberg@vmware.com> 1297545171 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297545171 -0500

    added indexing features to MongoTemplate

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/GeospatialIndex.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Index.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Order.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Sort.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryUtils.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/IndexTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/SortTests.java

commit 222b1507cdd3816bbb5f47e7b9ba45c6dd3d2e7b
tree c43cd1d792ed5d19fefd82638f790e442c3a07e4
parent e9d3726531a7054e93285bc2c845a3c220938c2e
author Thomas Risberg <trisberg@vmware.com> 1297525897 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297525903 -0500

    DATADOC-30 updated documenation

M	src/docbkx/introduction/getting-started.xml
M	src/docbkx/introduction/requirements.xml
M	src/docbkx/preface.xml
M	src/docbkx/reference/mongodb.xml

commit e9d3726531a7054e93285bc2c845a3c220938c2e
tree 0c5a74571c9d14df84ce37352ffbaa1283b3de72
parent e910c2c30003e74d3c04e3cafd1227cc91276b86
author Mark Pollack <mark.pollack@springsource.com> 1297453725 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1297453725 -0500

    Additional JMX Metrics

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/GlobalLockMetrics.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/OperationCounters.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/ServerInfo.java
M	spring-data-mongodb/src/test/resources/server-jmx.xml

commit e910c2c30003e74d3c04e3cafd1227cc91276b86
tree 90d20d844a28fe1e3541c364512d898c7804e48b
parent adf8508d1dae6076e13a67b7caacf3676517aa77
author Mark Pollack <mark.pollack@springsource.com> 1297453619 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1297453619 -0500

    Additional JMX Metrics

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/AssertMetrics.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/BackgroundFlushingMetrics.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/BtreeIndexCounters.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/ConnectionMetrics.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/MemoryMetrics.java

commit adf8508d1dae6076e13a67b7caacf3676517aa77
tree de0516a62301d283277775e3d6d940018ca798a1
parent fae810fd31b84ad088ca1048bf0d9e51a6618f61
author Thomas Risberg <trisberg@vmware.com> 1297443612 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297443648 -0500

    updated dependency on spring-data-commons to 1.0.0.M3

M	spring-data-mongodb/.settings/org.eclipse.wst.common.component
M	spring-data-mongodb/pom.xml

commit fae810fd31b84ad088ca1048bf0d9e51a6618f61
tree bcd2a8462be37ab9e47c9ad4d8bd42b011196246
parent 93d22dbd617f204eb8ecffe48fff7063781fb507
author Mark Pollack <mark.pollack@springsource.com> 1297371372 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1297371372 -0500

    update static snaphot location for docs

M	pom.xml

commit 93d22dbd617f204eb8ecffe48fff7063781fb507
tree 5e56715ed64f892b6a547f2dfc907fbe489761e6
parent f192c4289b75a3af734bb0b8919ceee7b2f126ec
author Oliver Gierke <info@olivergierke.de> 1297365022 +0100
committer Oliver Gierke <info@olivergierke.de> 1297365022 +0100

    Let repositories use the domain class' name to select collection.
    
    We will now store each managed entity into a separate collection, so User class would be stored in the user collection, Account in account and so on.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java

commit f192c4289b75a3af734bb0b8919ceee7b2f126ec
tree 5cc1a381cbca90d776c598bf02bf01fb45f6246a
parent 4f32ee140313aa980facfbbd6aae35eb70da3fd2
author Thomas Risberg <trisberg@vmware.com> 1297284222 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297284222 -0500

    added new OrQuery class

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/OrQuery.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryTests.java

commit 4f32ee140313aa980facfbbd6aae35eb70da3fd2
tree 744e04913fcdea4ff97a097ede33f7a28dd385f5
parent fc4205488b2e3c6ef4e3cb5e1d235760099cd1eb
author Thomas Risberg <trisberg@vmware.com> 1297284053 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297284053 -0500

    refactored the Query/Update "DSL" again

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicUpdate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/CriteriaDefinition.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/OrCriteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Query.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryDefinition.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Update.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/UpdateDefinition.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/builder/QueryTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/builder/SortTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/builder/UpdateTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/QueryTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/SortTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/query/UpdateTests.java

commit fc4205488b2e3c6ef4e3cb5e1d235760099cd1eb
tree cc88a61a3f5f5a57699afa5701f6848985412caf
parent 96fd017123af18352dbc6b346a484c9bf1912899
author Thomas Risberg <trisberg@vmware.com> 1297100800 -0500
committer Thomas Risberg <trisberg@vmware.com> 1297100800 -0500

    renamed package from builder to query

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/BasicQuery.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/BasicUpdate.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Criteria.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/CriteriaDefinition.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Field.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/OrCriteria.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Query.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/QueryDefinition.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Sort.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Update.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/UpdateDefinition.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicUpdate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/CriteriaDefinition.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Field.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/OrCriteria.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Query.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryDefinition.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Sort.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Update.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/UpdateDefinition.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/builder/QueryTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/builder/SortTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/builder/UpdateTests.java

commit 96fd017123af18352dbc6b346a484c9bf1912899
tree 72bde530b63484b9f6e90abe7ac7bb57044b2f92
parent 3a47f192d7a9ae00726948a9fe4acdbbe98e09cb
author Mark Pollack <mark.pollack@springsource.com> 1296753890 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1297098753 -0500

    jmx functionality

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoAdmin.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoAdminOperations.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/AbstractMonitor.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/GlobalLockMetrics.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/OperationCounters.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/monitor/ServerInfo.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/JmxServer.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoAdminIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/monitor/MongoMonitorIntegrationTests.java
A	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/monitor/MongoMonitorIntegrationTests-context.xml
A	spring-data-mongodb/src/test/resources/server-jmx.xml
M	spring-data-mongodb/template.mf

commit 3a47f192d7a9ae00726948a9fe4acdbbe98e09cb
tree 58e4c82cd695a76a28f204e55a507c0554cd2e23
parent 895776bea21d2891e700ab7286e19459ad628919
author Thomas Risberg <trisberg@vmware.com> 1296871334 -0500
committer Thomas Risberg <trisberg@vmware.com> 1296871334 -0500

    update methods now return WriteResult; added configurable WriteResultChecking for update methods

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/WriteResultChecking.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Update.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Person.java

commit 895776bea21d2891e700ab7286e19459ad628919
tree 5a18871e07112b25887cf759f70511c728f508a3
parent eafed37283a9e7bebad4c268555ea448ef474004
author Thomas Risberg <trisberg@vmware.com> 1296846984 -0500
committer Thomas Risberg <trisberg@vmware.com> 1296846984 -0500

    refactored MongoOperations to use UpdateDefinition/QueryDefinition throughout; added skip/limit/sort to CursorPreparer for queries; cleanup; refactored Query

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CursorPreparer.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Criteria.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Query.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Update.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/builder/QueryTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/builder/UpdateTests.java

commit eafed37283a9e7bebad4c268555ea448ef474004
tree 11bd702ea3b87ca50a8ebf108edf6f26f97ddaa7
parent 7d948e28f3c99216c8430c0f76fdcc06fcaab58a
author Oliver Gierke <info@olivergierke.de> 1296769487 +0000
committer Oliver Gierke <info@olivergierke.de> 1296769487 +0000

    Re-refactored repository query execution after polishing of the core query builder API.
    
    Pagination information is set on the query, but this still has to be brought to execution inside the template.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryUtils.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoQueryCreatorUnitTests.java

commit 7d948e28f3c99216c8430c0f76fdcc06fcaab58a
tree 7ff9fcdc914e2fc15ad20c84b88344e2d2524f40
parent d4ebb9a01c3754d77b1fe2c4ae682d1c46436943
author Thomas Risberg <trisberg@vmware.com> 1296767996 -0500
committer Thomas Risberg <trisberg@vmware.com> 1296767996 -0500

    added skip()

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Query.java

commit d4ebb9a01c3754d77b1fe2c4ae682d1c46436943
tree bf0efe87a53d033afb82d3f1941e41e666701438
parent 9e5eb96150847a6a9bfcbe5b5993fce3e5057529
author Thomas Risberg <trisberg@vmware.com> 1296767384 -0500
committer Thomas Risberg <trisberg@vmware.com> 1296767721 -0500

    added skip also

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/BasicQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Query.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/QueryDefinition.java

commit 9e5eb96150847a6a9bfcbe5b5993fce3e5057529
tree 1c8e8e292b3c4cb3990a5d547f66524bacc8bc4e
parent f9e50916e1a791cf5db2d68c9c491bad874a9507
author Thomas Risberg <trisberg@vmware.com> 1296766931 -0500
committer Thomas Risberg <trisberg@vmware.com> 1296766931 -0500

    first part of MongoTemplate/Query refactoring

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/BasicQuery.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/BasicSort.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/BasicUpdate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Criteria.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/CriteriaDefinition.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/CriteriaSpec.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Field.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/FieldSpec.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/OrCriteria.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/OrCriteriaSpec.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Query.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/QueryDefinition.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/QuerySpec.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Sort.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/SortSpec.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Update.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/UpdateDefinition.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/UpdateSpec.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/builder/QueryTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/builder/SortTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/builder/UpdateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoQueryCreatorUnitTests.java

commit f9e50916e1a791cf5db2d68c9c491bad874a9507
tree 3b302fb04ab2093609cb710dc7353e82cde1c969
parent 4ed5ff7dc8eea12ff5506c130860db41ae4845d7
author Oliver Gierke <info@olivergierke.de> 1296758707 +0000
committer Oliver Gierke <info@olivergierke.de> 1296758761 +0000

    Refactored repository implementation to use QuerySpec API.
    
    Use QuerySpec instead of QueryBuilder now. Refactored query method query building to populate CriteriaSpec and work with root QuerySpec object until the API is polished. Some test should break right now as we have to get the skip and sorting stuff into the API.

D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoCursorUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/QueryUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoQueryCreatorUnitTests.java

commit 4ed5ff7dc8eea12ff5506c130860db41ae4845d7
tree d567228e59b45f7334fae8d3527f26986a3a4ae4
parent 3ecad1cfd2f5a5dfcf5d7030c712df37389c5263
author Thomas Risberg <trisberg@vmware.com> 1296752265 -0500
committer Thomas Risberg <trisberg@vmware.com> 1296752265 -0500

    created Sort as separate construct

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/BasicSort.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/BasicUpdate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Sort.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/SortSpec.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Update.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/UpdateSpec.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/builder/SortTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/builder/UpdateTests.java

commit 3ecad1cfd2f5a5dfcf5d7030c712df37389c5263
tree 3082c12b06c032938d02d1d5196d6c0a818a7ae6
parent e2146bf997e36e4350e1eddd11df44536ad3b6db
author Oliver Gierke <info@olivergierke.de> 1296743308 +0000
committer Oliver Gierke <info@olivergierke.de> 1296745460 +0000

    DATADOC-30 - Improvements to reference documentation.
    
    Included core repository documentation from Spring Data Commons. Polished documents and restructured them a little.

M	src/docbkx/index.xml
A	src/docbkx/reference/mongo-repositories.xml
M	src/docbkx/reference/mongodb.xml

commit e2146bf997e36e4350e1eddd11df44536ad3b6db
tree 50a79c651234dc6d8893bf1887347a892e650ed9
parent d5b1b06a79a78bfe5ff581b80fa64a85b3d030ed
author Thomas Risberg <trisberg@vmware.com> 1296687292 -0500
committer Thomas Risberg <trisberg@vmware.com> 1296687292 -0500

    renamed query methods to find; changed query methods taking JSON to accept the new Query object instead; added support for fields specification; removed write concern methods for collection and DB;

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateWriteConcernTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java

commit d5b1b06a79a78bfe5ff581b80fa64a85b3d030ed
tree 7a9e4c8f0393d4783def40f80cb9999eaedd39f6
parent b362d559cb81d6478c3684b862c66aa5dd3c7214
author Thomas Risberg <trisberg@vmware.com> 1296672560 -0500
committer Thomas Risberg <trisberg@vmware.com> 1296672560 -0500

    updated to Spring 3.0.5

M	spring-data-document-parent/pom.xml

commit b362d559cb81d6478c3684b862c66aa5dd3c7214
tree ed282c6bd8a34e5036796893a00338fe56e76ceb
parent 0b2a3fae1d46372ad9bcdaa04eb4f5a7e68e05a4
author Thomas Risberg <trisberg@vmware.com> 1296669061 -0500
committer Thomas Risberg <trisberg@vmware.com> 1296669061 -0500

    added QuerySpec and associated support classes; refactored UpdateSpec to implement Update interface

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/BasicQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/BasicUpdate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Criteria.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/CriteriaSpec.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/FieldSpec.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/OrCriteriaSpec.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Query.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/QuerySpec.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/SortSpec.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/Update.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/UpdateSpec.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/builder/QueryTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/builder/UpdateTests.java

commit 0b2a3fae1d46372ad9bcdaa04eb4f5a7e68e05a4
tree c3c1c65dd7da45c7891f529d71ccd7ab7bdf9559
parent 325e356bb8b80bc845df282a96c8d2f7f301a403
author Thomas Risberg <trisberg@vmware.com> 1296666701 -0500
committer Thomas Risberg <trisberg@vmware.com> 1296666701 -0500

    renamed UpdateBuilder to UpdateSpec and moved to builder package

D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/UpdateBuilder.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/builder/UpdateSpec.java
D	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/UpdateBuilderTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/builder/UpdateTests.java

commit 325e356bb8b80bc845df282a96c8d2f7f301a403
tree 51476ba867a4d21b729ea583a9838c78fd72e5fe
parent 29e770a9f7e215fe471bcae43aea584555d6a642
author Thomas Risberg <trisberg@vmware.com> 1296065194 -0500
committer Thomas Risberg <trisberg@vmware.com> 1296065212 -0500

    DATADOC-14 added WriteConcern for MongoTemplate to be used for write operations when specified and also methods to set WriteConcern for DB and Collections

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateWriteConcernTests.java

commit 29e770a9f7e215fe471bcae43aea584555d6a642
tree 4f614cf24765cd023be5ac776fabf94b689581cc
parent 2cd7b742644599538407887c4fcdd95b357aa5ce
author Oliver Gierke <info@olivergierke.de> 1296057159 +0200
committer Oliver Gierke <info@olivergierke.de> 1296057233 +0200

    DATACMNS-12 - Adapted namespace XSD to latest changes Spring Data Commons.
    
    Added necessary attribute groups.

M	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd

commit 2cd7b742644599538407887c4fcdd95b357aa5ce
tree cc0cd48e9f60192896cdd9a5dcd2ca25e670a4f8
parent a1c6c8d6719ab6b912677aa97bed5e66904ea18c
author Thomas Risberg <trisberg@vmware.com> 1295975095 -0500
committer Thomas Risberg <trisberg@vmware.com> 1295975095 -0500

    added getter/setter for ExceptionTranslator

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoFactoryBean.java

commit a1c6c8d6719ab6b912677aa97bed5e66904ea18c
tree 5e769d8c44709ae31a53da85b47a588e33d0dc4f
parent 1daf3059ba6b95754745dd0c2863a0ef76c4702a
author Thomas Risberg <trisberg@vmware.com> 1295975004 -0500
committer Thomas Risberg <trisberg@vmware.com> 1295975004 -0500

    added ExceptionTranslator inreface to factory bean for convenience during configuration and to be consistent with JPA configs

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoFactoryBean.java

commit 1daf3059ba6b95754745dd0c2863a0ef76c4702a
tree fb4482b796f91c9a5162f4b5eb1b723eebbc58e6
parent 96badc7a9e15f53aaac7dd12ca175b45f050364d
author Thomas Risberg <trisberg@vmware.com> 1295974898 -0500
committer Thomas Risberg <trisberg@vmware.com> 1295974898 -0500

    fixed bug for handling the case of non-generated keys on inserts

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 96badc7a9e15f53aaac7dd12ca175b45f050364d
tree 62a0eaa2c3b61447a5fd50d30f24530dbc432d06
parent d86175fcd37599b7632e4a5da1c167ccbbad213c
author Thomas Risberg <trisberg@vmware.com> 1295278527 -0500
committer Thomas Risberg <trisberg@vmware.com> 1295278527 -0500

    made the utils class public again

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbUtils.java

commit d86175fcd37599b7632e4a5da1c167ccbbad213c
tree 96d24df1119018af83b2437ee471ddd5479b392b
parent 9cb0b69aa11b4aa7e45c34cb4461d63d8c6cade7
author Mark Pollack <mark.pollack@springsource.com> 1294438401 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1294439573 -0500

    DATADOC-21 - Create namespace to configure Mongo root object

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryConfigDefinitionParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/MongoRepositoryNamespaceHandler.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/SimpleMongoRepositoryConfiguration.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/config/package-info.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/config/MongoRepositoryConfigDefinitionParser.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/config/MongoRepositoryNamespaceHandler.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/config/SimpleMongoRepositoryConfiguration.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/config/package-info.java
M	spring-data-mongodb/src/main/resources/META-INF/spring.handlers
M	spring-data-mongodb/src/main/resources/META-INF/spring.schemas
A	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/config/spring-mongo-1.0.xsd
D	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/repository/config/spring-mongo-1.0.xsd
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/config/MongoNamespaceTests.java
A	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/config/MongoNamespaceTests-context.xml

commit 9cb0b69aa11b4aa7e45c34cb4461d63d8c6cade7
tree 83d22ca2459dd91c3aa7ccae062a6d55eec1299f
parent 9152ca89da015ab931ecd1a83da77151a97444b7
author Oliver Gierke <info@olivergierke.de> 1294435235 +0100
committer Oliver Gierke <info@olivergierke.de> 1294435811 +0100

    Adapted newly introduced Property model.
    
    Added integration tests for traversing nested properties. Added query logging at debug level.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoQueryCreatorUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java

commit 9152ca89da015ab931ecd1a83da77151a97444b7
tree 5d97ed4a869edf2d9e3138cbe0ae6df2ebb08270
parent 5796611b8f1c1caa8b5716ecefca8d2715439f5f
author Oliver Gierke <info@olivergierke.de> 1294415089 +0100
committer Oliver Gierke <info@olivergierke.de> 1294415089 +0100

    Added support for non-primitive-value-referencing queries.
    
    Query methods can now query for related objects of an entity. Test cases are centered around a Person having an Address. The query is something like:
    
    List<Person> findByAddress(Address address);
    
    We correctly marshal the parameter into a DBObject using the MongoConverter on argument binding.
    
    Exposed the configured MongoConverter at MongoTemplate so that the repository infrastructure gets access to it. Let repository classes work with the template again instead of plain MongoOperations. Removed find(…) method from MongoOperations and -Template. Extended SimpleMongoConverter so that it can unmarshal collections as well.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/config/MongoRepositoryConfigDefinitionParser.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Address.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoQueryCreatorUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml

commit 5796611b8f1c1caa8b5716ecefca8d2715439f5f
tree 7a9ca227698b67a9ca10ff35053fa27e259b6d5a
parent cb6bed43ab77e0eedd762efed2e8a3fd5a500a9b
author Oliver Gierke <info@olivergierke.de> 1294255183 +0100
committer Oliver Gierke <info@olivergierke.de> 1294255183 +0100

    Simplified MongoPropertyDescriptor.isOfIdType().

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoPropertyDescriptors.java

commit cb6bed43ab77e0eedd762efed2e8a3fd5a500a9b
tree 380cbd9cd6ab6e90b333bf9f7278bb64b62d1c29
parent 8abd7df7efd4238a385c86b8f0cfaeb410d28227
author Oliver Gierke <info@olivergierke.de> 1294254100 +0100
committer Oliver Gierke <info@olivergierke.de> 1294254100 +0100

    Improvements to repositories.
    
    - MongoRepositoryFactory now validates id type for supported types
    - use MongoOperations.find(…) in SimpleMongoRepository.findById(…)
    - added integration test for findById(…)
    - added integration test for MongoTemplate

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java
A	spring-data-mongodb/src/test/resources/infrastructure.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml
D	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/infrastructure.xml

commit 8abd7df7efd4238a385c86b8f0cfaeb410d28227
tree 68a1ee18aa9c64c5f4a4ccd9a14b38e0625e00e5
parent b49f285de5a1d2e9b864951e8710772173cb343e
author Oliver Gierke <info@olivergierke.de> 1294241895 +0100
committer Oliver Gierke <info@olivergierke.de> 1294253827 +0100

    Improvements to SimpleMongoConverter and MongoTemplate.
    
    - improved signature of MongoReader to return an object of the type handed to it
    - added convertObjectId(ObjectId id, Class targetType) to MongoConverter to delegate id conversion to the converter as well
    - changed return values of some internal methods from Object to ObjectId where generally nothing else can come out of
    - refactored populateIdIfNecessary(…) in MongoTemplate to use MongoConverter to convert the ObjectId created by the insert or save operation
    - use field access where possible to avoid the need for setters
    - introduced value objects MongoBeanWrapper and MongoPropertyDescriptor to simplify the code
    - unpopulated id fields will get populated on marshaling
    - support String, ObjectId and BigInteger as id types
    - added find(…) method to MongoTemplate that looks up objects by type and id

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoBeanWrapper.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoPropertyDescriptors.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoReader.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java

commit b49f285de5a1d2e9b864951e8710772173cb343e
tree 0770921d6811af9f8b7cf411f2f89a63f44b3f83
parent 67cb8906446fda59ac618dd2d78f27576fe839df
author Oliver Gierke <info@olivergierke.de> 1294159171 +0100
committer Oliver Gierke <info@olivergierke.de> 1294166994 +0100

    Improvements to JavaDoc of MongoReader interface.
    
    - clarified restrictions to the implementation

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoReader.java

commit 67cb8906446fda59ac618dd2d78f27576fe839df
tree 8761e5236b8869008abc22d05b405bc863084617
parent fe68229fbd4e2c08d3da6c840584b00ddbcef875
author Oliver Gierke <info@olivergierke.de> 1294158852 +0100
committer Oliver Gierke <info@olivergierke.de> 1294166994 +0100

    Renamed DBHolder to DbHolder and reduced its scope to package visibility.

D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/DBHolder.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/DbHolder.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbUtils.java

commit fe68229fbd4e2c08d3da6c840584b00ddbcef875
tree 7eab0cfa3143abb9c100b60fb1f31843ab405c2a
parent fb442d34e1089062e6df8fa4e192525cbdde0b6a
author Oliver Gierke <info@olivergierke.de> 1294158795 +0100
committer Oliver Gierke <info@olivergierke.de> 1294166990 +0100

    Renamed DBCallback to DbCallback.

D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/DBCallback.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/DbCallback.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit fb442d34e1089062e6df8fa4e192525cbdde0b6a
tree aac438d526919ed045e9fe71872d0316494edfd5
parent affbe71f9322cba66bcddada2d596c8b8b81ad24
author Oliver Gierke <info@olivergierke.de> 1294158672 +0100
committer Oliver Gierke <info@olivergierke.de> 1294166556 +0100

    Updated copyright notice to reach into 2011 as well.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CannotGetMongoDbConnectionException.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CollectionCallback.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CollectionOptions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/DBCallback.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDocumentWriter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoExceptionTranslator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOptionsFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoReader.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoReaderWriter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoWriter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/UpdateBuilder.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoCursorUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoEntityInformation.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Portfolio.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Trade.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/UpdateBuilderTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/User.java

commit affbe71f9322cba66bcddada2d596c8b8b81ad24
tree a00df75469de272b87b9f13b9ee3976715fd0cdb
parent 47dde8ab4d009d657af89d7cd5ed85cb82902076
author Oliver Gierke <info@olivergierke.de> 1294156595 +0100
committer Oliver Gierke <info@olivergierke.de> 1294166520 +0100

    DATADOC-4 - Improved MongoTemplate exception handling
    
    - moved exception translation from MongoDbUtils to MongoExceptionTranslator
    - don't let MongoFactoryBean implement PersistenceExceptionTranslator
    - heavily refactored MongoTemplate to let higher level methods use callbacks to centralize exception handling in the callback executing methods
    - changed return type of MongoOperations.getCollectionNames to Set<String> as returning a List implies same order, that we can't guarantee actually
    - polished JavaDoc of MongoOperations
    - added assertions to methods
    - changed methods taking a List<Object> to take a List<? extends Object> instead
    - added abstract unit test for MongoOperations to define tests regarding expected exception behavior
    - let MongoTemplateUnitTests extend MongoOperationsUnitTests

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoExceptionTranslator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoOperationsUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateUnitTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Person.java

commit 47dde8ab4d009d657af89d7cd5ed85cb82902076
tree 60bdecd1039c3e9d07883d347126f7f95e7a2904
parent b88ce287095cecf90bd71035b7c96f6421d01293
author Oliver Gierke <info@olivergierke.de> 1294137869 +0100
committer Oliver Gierke <info@olivergierke.de> 1294140855 +0100

    Minor FindBugs polishing.
    
    - removed obsolete property in MongoTemplate
    - removed obsolete Exception declaration in MongoOoptionsFactoryBean
    - use HashMap instead of LinkedHashMap as property in UpdateBuilder
    - renamed local variable in MongoEntityinformation not to shadow a field
    - reduced visibility of MongoSynchronization and fixed generics
    - reduced visibility of MongoDbUtils and make it an abstract non-instantiateable class
    - eliminate nested if-clause in MongoDbUtils
    - removed obsolete class FluentDbObject
    - added serialVersionUID to CannotGetMongoDbConnectionException
    - created static inner enum for ObjectId-to-String converter
    - added generics to Portfolio test entity
    - polished SimpleMongoConverterTests and MvcAnalyticsTest
    - removed some unnecessary imports and modifiers

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CannotGetMongoDbConnectionException.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/FluentDbObject.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOptionsFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoSynchronization.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/UpdateBuilder.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoEntityInformation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/config/SimpleMongoRepositoryConfiguration.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Portfolio.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java

commit b88ce287095cecf90bd71035b7c96f6421d01293
tree 8800bb049c8c89dc8ed0731e1aa5039e4e47c441
parent 70059760bb09de735931282a21bfa276ff53611b
author Oliver Gierke <info@olivergierke.de> 1294134323 +0100
committer Oliver Gierke <info@olivergierke.de> 1294136222 +0100

    Polished MongoTemplate
    
    - default converter to SimpleMongoConverter in constructor already
    - made potential final members final
    - use error message template instead of repeating the same String over and over again
    - removed _-prefix from id variables
    - extracted "_id" to ID constant
    - fixed inevitable NullPointerExceptions in updateFirst(…), updateMulti(…) and remove(…)
    - remove special handling of non available username and password in getDb() as MongoDbUtils.getDB already handles them correctly
    - removed throws Exception form afterPropertiesSet() as it does not throw any checked exception
    - use String as type for passwords at MongoTemplate API and only turn it into the underlying char[] when handing it to MongoDbUtils
    - added assertions for mandatory constructor arguments

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/MongoTemplateUnitTests.java

commit 70059760bb09de735931282a21bfa276ff53611b
tree 35e37df6d840240c14d3624452347af513e7a209
parent f61a306f80570355a6eb21642830f88b093fc17f
author Oliver Gierke <info@olivergierke.de> 1293974551 +0100
committer Oliver Gierke <info@olivergierke.de> 1293974575 +0100

    DATADOC-30 - Fixed typo in InvalidDocumentStoreApiUsageException.

D	spring-data-document-core/src/main/java/org/springframework/data/document/InvalidDocumentStoreApiUageException.java
A	spring-data-document-core/src/main/java/org/springframework/data/document/InvalidDocumentStoreApiUsageException.java

commit f61a306f80570355a6eb21642830f88b093fc17f
tree e9c5fc89b87a9f7a177ffbc4518c7143cb50e498
parent b975546b5508a631c61289c3f9025450f188c2bc
author Oliver Gierke <info@olivergierke.de> 1293974362 +0100
committer Oliver Gierke <info@olivergierke.de> 1293974362 +0100

    Corrected generics in MongoRepository.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepository.java

commit b975546b5508a631c61289c3f9025450f188c2bc
tree 42f7b6284c0bac9221228f6c6bda633a98ab0e35
parent 9b8137790b38735571551c663f90fa564cd76beb
author Oliver Gierke <info@olivergierke.de> 1293642331 +0100
committer Oliver Gierke <info@olivergierke.de> 1293642331 +0100

    Use Pageable.getOffset() instead of calculating it.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoCursorUtils.java

commit 9b8137790b38735571551c663f90fa564cd76beb
tree 9a8c537f27aa05a531013c203ec81b34cdecef2c
parent e9a8f39e4f89634060c72ff577ae96136c88aad1
author Oliver Gierke <info@olivergierke.de> 1293632702 +0100
committer Oliver Gierke <info@olivergierke.de> 1293633095 +0100

    Fixed some Findbugs issues.
    
    Adapted to method renaming in Spring Data Commons.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoEntityInformation.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java

commit e9a8f39e4f89634060c72ff577ae96136c88aad1
tree 077143a29ab710f3d87b41c8d351d2f271da3d91
parent 04df1bdc66924a023cfcbf4d485f958ce7c5f6a3
author Oliver Gierke <info@olivergierke.de> 1293630223 +0100
committer Oliver Gierke <info@olivergierke.de> 1293630223 +0100

    Added package-info.java files for repository packages.

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/config/package-info.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/package-info.java

commit 04df1bdc66924a023cfcbf4d485f958ce7c5f6a3
tree 7c0e57b977d73b618a774ea98413004c2fb94f44
parent 47438367f62928bf334ba5690da18138a214b740
author Oliver Gierke <info@olivergierke.de> 1293628274 +0100
committer Oliver Gierke <info@olivergierke.de> 1293628286 +0100

    Adapt changes to repository factory from Commons project.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java

commit 47438367f62928bf334ba5690da18138a214b740
tree faf9a16edf124d5195cdc76d5c7acbf38433abd1
parent e4d44e4a1700bfc9b3d66e9fc5e2adb7a904010a
parent 80b245001a5c6942a930416f5b15200899b72f3f
author Mark Pollack <mark.pollack@springsource.com> 1293133666 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1293133666 -0500

    Merge remote branch 'origin/master'

commit e4d44e4a1700bfc9b3d66e9fc5e2adb7a904010a
tree fb04b5955fecd437b1c5a27f51ec0f8cec20e4a0
parent a7127bb3120f7cd5fac04f962230c97afa926da2
author Mark Pollack <mark.pollack@springsource.com> 1293133573 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1293133573 -0500

    Add javadocs.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CollectionOptions.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoReader.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoWriter.java

commit 80b245001a5c6942a930416f5b15200899b72f3f
tree fc92e0afe2acd3936de24163ba8b465ee52d0627
parent a7127bb3120f7cd5fac04f962230c97afa926da2
author Thomas Risberg <trisberg@vmware.com> 1293127554 -0500
committer Thomas Risberg <trisberg@vmware.com> 1293127554 -0500

    DATADOC-30 updated configuration examples

M	src/docbkx/introduction/getting-started.xml
M	src/docbkx/introduction/why-sd-doc.xml
M	src/docbkx/reference/mongodb.xml

commit a7127bb3120f7cd5fac04f962230c97afa926da2
tree 3525e64ad144fd40ce2c51c4ff491c06dd130c68
parent 6a8a8eaf2b656dac85260d14328297d204737fd7
author Thomas Risberg <trisberg@vmware.com> 1292968370 -0500
committer Thomas Risberg <trisberg@vmware.com> 1292968370 -0500

    cleanup

D	spring-datastore-mongodb/.project

commit 6a8a8eaf2b656dac85260d14328297d204737fd7
tree 91e14e34bd6d8c05dcca670085b4c4177388283b
parent 6816ec850892109bc2453223fce823f6dc6258b5
author Oliver Gierke <info@olivergierke.de> 1292936694 +0100
committer Oliver Gierke <info@olivergierke.de> 1292936694 +0100

    DATADOC-30 - Added repository specific documentation.
    
    Added sample for setup and usage as well as samples for query methods and a table of currently supported keywords, samples and the according Mongo query expressions.

M	src/docbkx/reference/mongodb.xml

commit 6816ec850892109bc2453223fce823f6dc6258b5
tree 06e868486a5814763d62b455a99e62ed34de5d5e
parent 930e711ea5b27ba97b28eb4d86bfd25c7b121d05
author Thomas Risberg <trisberg@vmware.com> 1292621319 -0500
committer Thomas Risberg <trisberg@vmware.com> 1292621319 -0500

    added getCollectionNames method

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 930e711ea5b27ba97b28eb4d86bfd25c7b121d05
tree 38ec56b950948290b41f5d48caf6900131311e3a
parent 9b81171305e540d0b8d54e619f362d22b1086c35
author Thomas Risberg <trisberg@vmware.com> 1292620857 -0500
committer Thomas Risberg <trisberg@vmware.com> 1292620874 -0500

    DATADOC-30 copied base docs from key-value -- thanks Costin

M	src/docbkx/index.xml
A	src/docbkx/introduction/getting-started.xml
A	src/docbkx/introduction/introduction.xml
A	src/docbkx/introduction/requirements.xml
A	src/docbkx/introduction/why-sd-doc.xml
A	src/docbkx/reference/introduction.xml
A	src/docbkx/reference/mongodb.xml
A	src/docbkx/resources/images/admons/blank.png
A	src/docbkx/resources/images/admons/caution.gif
A	src/docbkx/resources/images/admons/caution.png
A	src/docbkx/resources/images/admons/caution.tif
A	src/docbkx/resources/images/admons/draft.png
A	src/docbkx/resources/images/admons/home.gif
A	src/docbkx/resources/images/admons/home.png
A	src/docbkx/resources/images/admons/important.gif
A	src/docbkx/resources/images/admons/important.png
A	src/docbkx/resources/images/admons/important.tif
A	src/docbkx/resources/images/admons/next.gif
A	src/docbkx/resources/images/admons/next.png
A	src/docbkx/resources/images/admons/note.gif
A	src/docbkx/resources/images/admons/note.png
A	src/docbkx/resources/images/admons/note.tif
A	src/docbkx/resources/images/admons/prev.gif
A	src/docbkx/resources/images/admons/prev.png
A	src/docbkx/resources/images/admons/tip.gif
A	src/docbkx/resources/images/admons/tip.png
A	src/docbkx/resources/images/admons/tip.tif
A	src/docbkx/resources/images/admons/toc-blank.png
A	src/docbkx/resources/images/admons/toc-minus.png
A	src/docbkx/resources/images/admons/toc-plus.png
A	src/docbkx/resources/images/admons/up.gif
A	src/docbkx/resources/images/admons/up.png
A	src/docbkx/resources/images/admons/warning.gif
A	src/docbkx/resources/images/admons/warning.png
A	src/docbkx/resources/images/admons/warning.tif

commit 9b81171305e540d0b8d54e619f362d22b1086c35
tree 93aa2c7ea4dd5bc60e6a59e3c3cb5067f4035ecf
parent 3d4f33d93c4ad99f9606f8a4499bfa34213dfea0
author Oliver Gierke <info@olivergierke.de> 1292612576 +0100
committer Oliver Gierke <info@olivergierke.de> 1292612576 +0100

    Code polishing.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoCursorUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java

commit 3d4f33d93c4ad99f9606f8a4499bfa34213dfea0
tree acb3fc586aa7f6a4f449acbb9a585ec412ed07a1
parent d28ee80efbb89291218703de173ccb9fcfbbd8a4
author Oliver Gierke <info@olivergierke.de> 1292508991 +0100
committer Oliver Gierke <info@olivergierke.de> 1292541606 +0100

    DATADOC-31 - Added 'Between' keyword support for query parser.
    
    Updated test sample entity and repository accordingly.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java

commit d28ee80efbb89291218703de173ccb9fcfbbd8a4
tree 05305af2414b070357947ec42e41b8de033dbd6b
parent 95ac7e638c57fa2a72075ef791608a61f41e7a71
author Thomas Risberg <trisberg@vmware.com> 1292528943 -0500
committer Thomas Risberg <trisberg@vmware.com> 1292528943 -0500

    fixed missing empty options for createCollection

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 95ac7e638c57fa2a72075ef791608a61f41e7a71
tree 96df33ab86593aaae5658ffe68f9f8beb6ecc6f5
parent 95e5f703b5b7e870c5278378c8c4bfc464154a78
author Oliver Gierke <info@olivergierke.de> 1292501150 +0100
committer Oliver Gierke <info@olivergierke.de> 1292501150 +0100

    DATADOC-18 - Let Repository subsystem use MongoOperations instead of MongoTemplate.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/config/MongoRepositoryConfigDefinitionParser.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml
M	src/docbkx/index.xml

commit 95e5f703b5b7e870c5278378c8c4bfc464154a78
tree bdea55b86fcfcd92632a768c3282717575bcbe1e
parent b24e004377089ce7fa93b38c97982ae2ff13a0ab
author Thomas Risberg <trisberg@vmware.com> 1292454005 -0500
committer Thomas Risberg <trisberg@vmware.com> 1292454005 -0500

    DATADOC-1 addded tests for enums

M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SomeEnumTest.java

commit b24e004377089ce7fa93b38c97982ae2ff13a0ab
tree 46983691bacb57766436285e3a9156d8f98d35de
parent 5f78e01aa35e1ce3e9a7c17560c1c16968d7d10b
author Thomas Risberg <trisberg@vmware.com> 1292453958 -0500
committer Thomas Risberg <trisberg@vmware.com> 1292453958 -0500

    updated classpath

M	spring-data-mongodb/.classpath
M	spring-data-mongodb/.settings/org.eclipse.wst.common.component

commit 5f78e01aa35e1ce3e9a7c17560c1c16968d7d10b
tree e8b8da293501fe613e896198ca228f071f2a66e3
parent 8479de82a71e06117cbea069ac33600014bfd7a0
author Thomas Risberg <trisberg@vmware.com> 1292434623 -0500
committer Thomas Risberg <trisberg@vmware.com> 1292434676 -0500

    DATADOC-18 extracted common MongoTemplate methods into MongoOperations interface

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOperations.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 8479de82a71e06117cbea069ac33600014bfd7a0
tree 69b92457d149f91e7ca4f755e587ca4941eb8976
parent 2674565246afd068c23f1a1f94cd7b1cb07735a1
author Thomas Risberg <trisberg@vmware.com> 1292434203 -0500
committer Thomas Risberg <trisberg@vmware.com> 1292434676 -0500

    DATADOC-1 addded support for List and arrays

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/TradeBatch.java

commit 2674565246afd068c23f1a1f94cd7b1cb07735a1
tree 0e29a1f018e22b04ed48655e4a3d02d1eda75f32
parent 8c4ba74d01519b18aa3bb4ed72c8dc3658ff08a1
author Thomas Risberg <trisberg@vmware.com> 1292434078 -0500
committer Thomas Risberg <trisberg@vmware.com> 1292434676 -0500

    DATADOC-16 added insert/insertList methods

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 8c4ba74d01519b18aa3bb4ed72c8dc3658ff08a1
tree 9d122e9e5c6a36cddd8376c8364afcb076e4ad00
parent dd64a2bdf70bcdbb54c3c5a6ff6158ff8d9d4154
author Oliver Gierke <info@olivergierke.de> 1291751338 +0100
committer Oliver Gierke <info@olivergierke.de> 1291751422 +0100

    Reactivate integration tests for now.

M	spring-data-document-parent/pom.xml

commit dd64a2bdf70bcdbb54c3c5a6ff6158ff8d9d4154
tree 52d25a02f8be8c3aa1bd7af2372d80a687775d04
parent be372c549e55a2f10e448e3260c6de30edcef833
author Oliver Gierke <info@olivergierke.de> 1291667749 +0100
committer Oliver Gierke <info@olivergierke.de> 1291751422 +0100

    DATADOC-20 - Implemented namespace for Mongo repositories.
    
    Created Mongo specific implementation of basic namespace functionality from Spring Data Commons. Allows classpath scanning for MongoRepository based repository interfaces.

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/config/MongoRepositoryConfigDefinitionParser.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/config/MongoRepositoryNamespaceHandler.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/config/SimpleMongoRepositoryConfiguration.java
A	spring-data-mongodb/src/main/resources/META-INF/spring.handlers
A	spring-data-mongodb/src/main/resources/META-INF/spring.schemas
A	spring-data-mongodb/src/main/resources/META-INF/spring.tooling
A	spring-data-mongodb/src/main/resources/org/springframework/data/document/mongodb/repository/config/spring-mongo-1.0.xsd
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/AbstractPersonRepositoryIntegrationTests.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests.java
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml
A	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/config/MongoNamespaceIntegrationTests-context.xml
M	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/infrastructure.xml

commit be372c549e55a2f10e448e3260c6de30edcef833
tree e6f6e242349a0fb548f79f126a7a76b195bbe6c3
parent 61b0fbdad2f6ea1879b88868650b2ae1277dfff2
author Oliver Gierke <info@olivergierke.de> 1291667548 +0100
committer Oliver Gierke <info@olivergierke.de> 1291751421 +0100

    Removed invalid manifest file from invalid location.

D	spring-data-mongodb/src/main/java/META-INF/MANIFEST.MF

commit 61b0fbdad2f6ea1879b88868650b2ae1277dfff2
tree 9924660b89a239516257ce99cb3d0d531fdb048a
parent 0fda8f7520838267696c31fb96bf54abafd8e90b
author Thomas Risberg <trisberg@vmware.com> 1291652650 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291652650 -0500

    completed the set of modifier operations for UpdateBuilder

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/UpdateBuilder.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/UpdateBuilderTests.java

commit 0fda8f7520838267696c31fb96bf54abafd8e90b
tree 3267dc023c02acfec58971abe5baafb49ac12fdb
parent 4d490681171cafeae1cc9e4048ba5ab8d48c8e86
author Thomas Risberg <trisberg@vmware.com> 1291649186 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291649186 -0500

    added $unset to UpdateBuilder

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/UpdateBuilder.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/UpdateBuilderTests.java

commit 4d490681171cafeae1cc9e4048ba5ab8d48c8e86
tree 16f8caad5c28a2af02a13b12beb689dbbe406223
parent 69ca5e2a98184988a0cb1c23b978b87b924d58bd
author Thomas Risberg <trisberg@vmware.com> 1291406535 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291406584 -0500

    fixed maven artifactId for Mongo

M	README.md

commit 69ca5e2a98184988a0cb1c23b978b87b924d58bd
tree 5e1d605ed9a6a497b8705a1d0c8fd6b7bd3c08f1
parent 72a71166e03631db6bc79ee211c0e14808c4f079
parent 9500bcbe29de7824088c3b12c6b52fe398bb96ae
author Oliver Gierke <info@olivergierke.de> 1291406226 +0100
committer Oliver Gierke <info@olivergierke.de> 1291406226 +0100

    Merge branch 'master' of github.com:SpringSource/spring-data-document
    
    * 'master' of github.com:SpringSource/spring-data-document:
      added a simple UpdateBuilder implementation
      README updates.
      README updates.
      README updates.
      README updates.
      README updates.
      README updates.
      README updates.
      README updates.
      README updates.
      Add initial README
      DATADOC-23 removed DocumentSource and its subclasses

commit 72a71166e03631db6bc79ee211c0e14808c4f079
tree 657fa3a768238c1caac7ab87ae9b5551f15bbaac
parent cbc1f8b1890da7ae84ac8b457840a75e5a1b4072
author Oliver Gierke <info@olivergierke.de> 1291406201 +0100
committer Oliver Gierke <info@olivergierke.de> 1291406201 +0100

    DATADOC-22 - Added pagination and sorting to repository and finders.
    
    - added CursorCallback to be able to apply limit, skip and sorting to the query execution
    - added paged execution for queries and extended SimpleMongoRepository to support paging and sorting as well
    - minor JavaDoc polishing.

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CursorPreparer.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoCursorUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQuery.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepository.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Person.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests.java

commit 9500bcbe29de7824088c3b12c6b52fe398bb96ae
tree 01177d87892e9988b0331238baf2ea3569cfcc3a
parent 3cb857ef0561f7c5808ca75f166d65fbe82f412a
author Thomas Risberg <trisberg@vmware.com> 1291405767 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291405788 -0500

    added a simple UpdateBuilder implementation

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/UpdateBuilder.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/UpdateBuilderTests.java

commit 3cb857ef0561f7c5808ca75f166d65fbe82f412a
tree 0c7480ed9678a0e5e7ab47cbc05c7416c8091d8d
parent 01775d288eac8f4bd66be63417c59ae2af8ee9a6
author Mark Pollack <mark.pollack@springsource.com> 1291395427 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291395427 -0500

    README updates.

M	README.md

commit 01775d288eac8f4bd66be63417c59ae2af8ee9a6
tree 4df06c2cf18fed93dbbe194f16a492a17576ff78
parent 2b0c85b235d7ee8d4915e419961a2b4850d6839e
author Mark Pollack <mark.pollack@springsource.com> 1291392510 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291392510 -0500

    README updates.

M	README.md

commit 2b0c85b235d7ee8d4915e419961a2b4850d6839e
tree 0e9af72b2be069232e95fef286aa1dc82360aad0
parent 1429a12fe4cec46baa2d31f1b20394e28e8860f4
author Mark Pollack <mark.pollack@springsource.com> 1291392460 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291392460 -0500

    README updates.

M	README.md

commit 1429a12fe4cec46baa2d31f1b20394e28e8860f4
tree 429fd64997f36e1a9e6d58bcfe240aa667909bbe
parent 3bafb886622d73807f030d04d9038823e1342f96
author Mark Pollack <mark.pollack@springsource.com> 1291392424 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291392424 -0500

    README updates.

M	README.md

commit 3bafb886622d73807f030d04d9038823e1342f96
tree 280361b0564d689e3e80f3692aade76b61536975
parent 8732b957de60a0b91e8cf9657f8c97a3a68fc4d1
author Mark Pollack <mark.pollack@springsource.com> 1291392186 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291392186 -0500

    README updates.

M	README.md

commit 8732b957de60a0b91e8cf9657f8c97a3a68fc4d1
tree b53d96a5628fdcacc64b0f2db09f513817983387
parent 60f7dfb5c75a2ae157d703762ac1167a3a3a4b60
author Mark Pollack <mark.pollack@springsource.com> 1291392072 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291392072 -0500

    README updates.

M	README.md

commit 60f7dfb5c75a2ae157d703762ac1167a3a3a4b60
tree 0648807dc4268a944ec0176f5c5444f0241af03e
parent d592028890f467f658b4cc52c8c95af49c065d01
author Mark Pollack <mark.pollack@springsource.com> 1291391979 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291391979 -0500

    README updates.

M	README.md

commit d592028890f467f658b4cc52c8c95af49c065d01
tree 43e19500c9a4f7bf89a628d0a6edb8c991e3f049
parent 6858f8c609d75c04635c8e7ae81b933149c8103d
author Mark Pollack <mark.pollack@springsource.com> 1291391921 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291391921 -0500

    README updates.

M	README.md

commit 6858f8c609d75c04635c8e7ae81b933149c8103d
tree b62de2285b9447c20f09cb6895edca298f4d4c55
parent c68088fe55f1ce7f00b10aac29d77f234cec5a4e
author Mark Pollack <mark.pollack@springsource.com> 1291391618 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291391618 -0500

    README updates.

M	README.md

commit c68088fe55f1ce7f00b10aac29d77f234cec5a4e
tree 0baf8014fb141cf146e358b0ac513eb4db59c73d
parent 7599a2d0b74e1293e1fc110186de93cea982d35f
parent 38ca06bd4903b33a2d1f8535da40e68e2b5ab7c2
author Mark Pollack <mark.pollack@springsource.com> 1291391464 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291391464 -0500

    Merge remote branch 'origin/master'

commit 7599a2d0b74e1293e1fc110186de93cea982d35f
tree 40337b4650fba4bf7e52a227049dcb4ecfe51fc1
parent cbc1f8b1890da7ae84ac8b457840a75e5a1b4072
author Mark Pollack <mark.pollack@springsource.com> 1291391452 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291391452 -0500

    Add initial README

A	README.md

commit 38ca06bd4903b33a2d1f8535da40e68e2b5ab7c2
tree 7397a280a5af289320d4e46f53568feaab62d120
parent cbc1f8b1890da7ae84ac8b457840a75e5a1b4072
author Thomas Risberg <trisberg@vmware.com> 1291386807 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291386933 -0500

    DATADOC-23 removed DocumentSource and its subclasses

D	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CouchDocumentSource.java
M	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CouchTemplate.java
D	spring-data-document-core/src/main/java/org/springframework/data/document/DocumentSource.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDocumentSource.java

commit cbc1f8b1890da7ae84ac8b457840a75e5a1b4072
tree 9792475669875916c22566a5e6d9c1b7976e108b
parent 36a6f4ec866582d153f31d872a3104ce16e2f3da
author Oliver Gierke <info@olivergierke.de> 1291365418 +0100
committer Oliver Gierke <info@olivergierke.de> 1291365418 +0100

    Removed code I actually shouldn't have committed yet ^^.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java

commit 36a6f4ec866582d153f31d872a3104ce16e2f3da
tree 6a6de842c016bb563d2d2b567ffde3b95263d5fe
parent 4a80c2c7dc444f8e61e5e6772cdb77bdeb03b46a
author Oliver Gierke <info@olivergierke.de> 1291364874 +0100
committer Oliver Gierke <info@olivergierke.de> 1291364874 +0100

    DATADOC-17 - Added support for 'Like' keyword in finders.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests.java

commit 4a80c2c7dc444f8e61e5e6772cdb77bdeb03b46a
tree 8f9eef324cf54e8cbe9ad92625cd567b090bb24d
parent fdb8726542a40c13d9d2f74a1a231deea81c8893
author Oliver Gierke <info@olivergierke.de> 1291337610 +0100
committer Oliver Gierke <info@olivergierke.de> 1291337610 +0100

    DATADOC-17 - Added initial draft of repository implementation for MongoDB.
    
    Currently only supports executing finders for collections and single entities (i.e. no pagination support currently).

M	spring-data-mongodb/pom.xml
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoExceptionTranslator.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoEntityInformation.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoQueryCreator.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepository.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/MongoRepositoryFactoryBean.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/repository/SimpleMongoRepository.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoEntityInformationUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/MongoQueryCreatorUnitTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/Person.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepository.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests.java
A	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/PersonRepositoryIntegrationTests-context.xml
A	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/repository/infrastructure.xml
M	spring-data-mongodb/template.mf

commit fdb8726542a40c13d9d2f74a1a231deea81c8893
tree 4c96607259d84e5a25a836795ce2cd7663b6d5df
parent d982683418756d2f86761f9ae8c72e588dfb3eaf
author Oliver Gierke <info@olivergierke.de> 1291337281 +0100
committer Oliver Gierke <info@olivergierke.de> 1291337281 +0100

    Renamed datastore folder to data in src/test/resources.

A	spring-data-mongodb/src/test/resources/org/springframework/data/document/mongodb/MongoBeanPropertyDocumentMapper-context.xml
D	spring-data-mongodb/src/test/resources/org/springframework/datastore/document/mongodb/MongoBeanPropertyDocumentMapper-context.xml

commit d982683418756d2f86761f9ae8c72e588dfb3eaf
tree 48ee310ebcbad8bf3a209eb77674b60f133816a4
parent 0dae45fa7f2f2f9a85ee9ab6db5255300c360d05
parent 7a85c0cab34950c4f30f92cb56d3bdfc37e346cc
author Mark Pollack <mark.pollack@springsource.com> 1291327839 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291327839 -0500

    Merge remote branch 'origin/master'

commit 7a85c0cab34950c4f30f92cb56d3bdfc37e346cc
tree 5bf979f8b12be6c91380c66afd7fd7fb73e30ce4
parent 81c0b4fbde08a39154c0f7846a0b1ce73c277669
author Thomas Risberg <trisberg@vmware.com> 1291327680 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291327680 -0500

    polished

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/DBCallback.java

commit 0dae45fa7f2f2f9a85ee9ab6db5255300c360d05
tree 544452be4b52a9f8433cbe18560b49333119d18a
parent 81c0b4fbde08a39154c0f7846a0b1ce73c277669
author Mark Pollack <mark.pollack@springsource.com> 1291327227 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291327239 -0500

    trying to fix pom to upload javadocs

M	pom.xml
M	spring-data-document-parent/pom.xml

commit 81c0b4fbde08a39154c0f7846a0b1ce73c277669
tree 4f68b05ae1426f73ee4b2de4b100a8001a96b50a
parent 3c8861e274567966b80ee50679b92711e690de3e
parent 2e561f920227087a9f54af19061ffd91416fc55e
author Mark Pollack <mark.pollack@springsource.com> 1291326000 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291326000 -0500

    Merge remote branch 'origin/master'

commit 3c8861e274567966b80ee50679b92711e690de3e
tree 87d1e2e7f8e0e073244a17cff603c635f138b55c
parent 8a8dc2b06b62484d4db010ef15508fcbb6c6a282
parent 885e9575f247a3e9444202b17dca0b55bcbca11d
author Mark Pollack <mark.pollack@springsource.com> 1291325732 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291325986 -0500

    trying to fix pom to upload javadocs

commit 2e561f920227087a9f54af19061ffd91416fc55e
tree 7f90aebc5dc91542f7b4f8813bd00f4e148af291
parent 885e9575f247a3e9444202b17dca0b55bcbca11d
author Thomas Risberg <trisberg@vmware.com> 1291325759 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291325759 -0500

    DATADOC-11 removing query builder experimental code from master branch

D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicQuery.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/CriteriaSpec.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/FieldSpecification.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/OrCriteria.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Query.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryBuilder.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/SliceSpecification.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/SortSpecification.java

commit 8a8dc2b06b62484d4db010ef15508fcbb6c6a282
tree 81421328a48dc94509e310e18da09ebab8727295
parent 69dfe329a6f2bbd6d05efcaa13b2a30479a36b66
author Mark Pollack <mark.pollack@springsource.com> 1291325717 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291325717 -0500

    trying to fix pom to upload javadocs

M	pom.xml

commit 885e9575f247a3e9444202b17dca0b55bcbca11d
tree bbb7d75ffbc5b464618b03f4388db731c7d90b0c
parent 69dfe329a6f2bbd6d05efcaa13b2a30479a36b66
author Thomas Risberg <trisberg@vmware.com> 1291325091 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291325091 -0500

    DATADOC-16 added updateMulti and updateFirst methods

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 69dfe329a6f2bbd6d05efcaa13b2a30479a36b66
tree bb5939e2aa9fd368b905d7f25c81173df505264b
parent d5900e217bbc9d59fed949fea8f704239e804e35
parent 1cba030dc9960ea3843f40e0344ff7fd02919964
author Thomas Risberg <trisberg@vmware.com> 1291323116 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291323116 -0500

    Merge branch 'master' of github.com:SpringSource/spring-data-document

commit d5900e217bbc9d59fed949fea8f704239e804e35
tree 103254c8ff2a089a8a9160f6475a7a1b78208d26
parent effffcbe0e92e1746f1c15a710af94036ea4579d
author Thomas Risberg <trisberg@vmware.com> 1291323097 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291323097 -0500

    DATADOC-16 added remove methods

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 1cba030dc9960ea3843f40e0344ff7fd02919964
tree c4814c042ed2755a9d374bf6f2970f66b356356a
parent 00de6896ad1dcb3140417278eaeee609f18d9662
author Mark Pollack <mark.pollack@springsource.com> 1291322931 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291322931 -0500

    DATADOC-19 Move FactoryBeans in bean.factory package to root namespace

A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoFactoryBean.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoOptionsFactoryBean.java

commit 00de6896ad1dcb3140417278eaeee609f18d9662
tree 13cfee3ae501f0b8e3df045d6beda42d605eafb1
parent 6bd97203b187596282eec5610b01f960547452a9
author Mark Pollack <mark.pollack@springsource.com> 1291322869 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291322869 -0500

    DATADOC-19 Move FactoryBeans in bean.factory package to root namespace

D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/bean/factory/MongoFactoryBean.java
D	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/bean/factory/MongoOptionsFactoryBean.java

commit effffcbe0e92e1746f1c15a710af94036ea4579d
tree f650db51d11a75dc2962c16d20183fc251cf3136
parent 6bd97203b187596282eec5610b01f960547452a9
author Thomas Risberg <trisberg@vmware.com> 1291322370 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291322370 -0500

    DATADOC-16 added update methods

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 6bd97203b187596282eec5610b01f960547452a9
tree ae1c597cd4d3f63e0e1fdaee4998a43ef21eb5bd
parent 2af7e5729912690027f31fbff6cd4595acbb3216
author Mark Pollack <mark.pollack@springsource.com> 1291316449 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291316469 -0500

    DATADOC-12 - Rename query methods in MongoTemplate

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java

commit 2af7e5729912690027f31fbff6cd4595acbb3216
tree 8d825dace663ddf5e69bf3fbf402541cccbd204b
parent 6ff41e8a53a1aebacf855fd700b771ed4643d548
author Mark Pollack <mark.pollack@springsource.com> 1291315389 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291315389 -0500

    DATADOC-13 Add query method that uses the default collection name in MongoTemplate

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 6ff41e8a53a1aebacf855fd700b771ed4643d548
tree 446bc26d5332f9122263b8f2ca2dd9a9e36fc261
parent abe658458f2407f6417d03d1be84380c602d98f4
author Mark Pollack <mark.pollack@springsource.com> 1291315024 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291315024 -0500

    DATADOC-11 - Move org.springframework.datastore.document.mongodb.query to a different branch
    Just remove methods in MongoTemplate that referred to this package.

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit abe658458f2407f6417d03d1be84380c602d98f4
tree 1f823fc9c981d03b8b5296b8a90c2c6377f356c5
parent d2d2238a57cd75b2f2de2bbe66dce2746df6c48e
author Mark Pollack <mark.pollack@springsource.com> 1291314426 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291314426 -0500

    DATADOC-10 - Remove use of AbstractDocumentStoreTemplate in MongoTemplate

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
M	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java

commit d2d2238a57cd75b2f2de2bbe66dce2746df6c48e
tree 4c2d3656226cb1607fb2373e35a54465c69ccec2
parent 23eeaff5b44e1ad49240058e3117b6e0ec1ce8b0
parent 5d5688fd1bbc70a15646f18e4f978508a718a0b5
author Mark Pollack <mark.pollack@springsource.com> 1291311690 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291311690 -0500

    Merge remote branch 'origin/master'

commit 23eeaff5b44e1ad49240058e3117b6e0ec1ce8b0
tree 13f61912860d921f04aa5dad4a5b71683b032d1b
parent 50e48b570b3aae8a2b6577b76e4583733472e788
author Mark Pollack <mark.pollack@springsource.com> 1291311628 -0500
committer Mark Pollack <mark.pollack@springsource.com> 1291311628 -0500

    Remove unused DB field

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 5d5688fd1bbc70a15646f18e4f978508a718a0b5
tree 161896eab59db8015766a3baef523fe7aa09bc52
parent 50e48b570b3aae8a2b6577b76e4583733472e788
author Thomas Risberg <trisberg@vmware.com> 1291310909 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291310909 -0500

    added quick fix to populate generated _id in saved object

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 50e48b570b3aae8a2b6577b76e4583733472e788
tree 1f26ec927203dd1a2811475890ecf2664dfd4e80
parent 38043d4ea6bce71107afd837eb753cddc1bfdff5
author Thomas Risberg <trisberg@vmware.com> 1291296335 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291296335 -0500

    added fallback to use String for non ObjectId type '_id' fields

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java

commit 38043d4ea6bce71107afd837eb753cddc1bfdff5
tree bb0885a64db959af02b73e141a76f70990f71a07
parent 4c096b041c570edeb5c45a0d13dc8903a2e0f9de
author Thomas Risberg <trisberg@vmware.com> 1291295899 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291295899 -0500

    fixed mapping of String to ObjectId for '_id' field

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java

commit 4c096b041c570edeb5c45a0d13dc8903a2e0f9de
tree 6714921d3edc5f1b6e2e07f17505a6dba7fe5141
parent 77189f169ad5bdbcbb3424aa537df06a3619292c
author Thomas Risberg <trisberg@vmware.com> 1291254575 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291254575 -0500

    cleanup

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java

commit 77189f169ad5bdbcbb3424aa537df06a3619292c
tree edcf87bcb9c94e1cb0b3766028eebb1eb8afd2dc
parent 4f4d93f41ec7af17125ea3cb8f5bcf292dbd6be7
author Thomas Risberg <trisberg@vmware.com> 1291254118 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291254118 -0500

    added handling of ObjectId fields

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java

commit 4f4d93f41ec7af17125ea3cb8f5bcf292dbd6be7
tree 3010c37cb3ba3f5bde59c2f60e9769eda1674b8c
parent 94776dd24dd6635c19b2bdfe04a4cd69742da59c
author Thomas Risberg <trisberg@vmware.com> 1291242668 -0500
committer Thomas Risberg <trisberg@vmware.com> 1291242668 -0500

    added back basic enum support; added the support for mapping 'id' properties to '_id' key

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java

commit 94776dd24dd6635c19b2bdfe04a4cd69742da59c
tree 4c8ae4ab4f15d20abd5a7913781bcaaa1351ac5b
parent 4deafda2084102f5f32fc8fc3385b2fa492a5db7
author Thomas Risberg <trisberg@vmware.com> 1290093584 -0500
committer Thomas Risberg <trisberg@vmware.com> 1290093584 -0500

    changed a few remaining "datastore" to "data"

M	.project
M	spring-data-document-parent/.project
M	src/ant/upload-dist.xml
M	src/assembly/distribution.xml

commit 4deafda2084102f5f32fc8fc3385b2fa492a5db7
tree b85591032d4f7bd893032b2b87f9459671799e89
parent 532e4a48063ed0d2f86c50be838d3e98cdbcdf43
author Graeme Rocher <graeme.rocher@gmail.com> 1289488028 +0100
committer Graeme Rocher <graeme.rocher@gmail.com> 1289488028 +0100

    Support for defining replica sets or pairs

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/bean/factory/MongoFactoryBean.java

commit 532e4a48063ed0d2f86c50be838d3e98cdbcdf43
tree c313d8a87b985f58ac39c6a07cc1a478a5a9f1e1
parent 433900cd9f13ff74a39576f2f4151589cb3d9957
author Graeme Rocher <graeme.rocher@gmail.com> 1289474751 +0100
committer Graeme Rocher <graeme.rocher@gmail.com> 1289474751 +0100

    Support for authentication via MongoTemplate and a new execute method that doesn't start and finish a request

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CannotGetMongoDbConnectionException.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbUtils.java
M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java

commit 433900cd9f13ff74a39576f2f4151589cb3d9957
tree fa20e518351386675e429ae0a4757c208782dcfb
parent bd064120b2ab33282d0b5067c6a88c2897ccd8ea
author Graeme Rocher <graeme.rocher@gmail.com> 1289396224 +0100
committer Graeme Rocher <graeme.rocher@gmail.com> 1289396224 +0100

    Support for configuring replication sets

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/bean/factory/MongoFactoryBean.java

commit bd064120b2ab33282d0b5067c6a88c2897ccd8ea
tree c58a6f0cf021eec1f1c44d2ae2fe1e249c07ba63
parent cf04bf7d7a2eb15b695842abc38206600d3389de
author Graeme Rocher <graeme.rocher@gmail.com> 1289394636 +0100
committer Graeme Rocher <graeme.rocher@gmail.com> 1289394636 +0100

    fixed manifest

M	spring-data-couchdb/template.mf

commit cf04bf7d7a2eb15b695842abc38206600d3389de
tree a50d8eabc722e34137c6dde89d26bace7a9c2dc3
parent ede9c6ed8b19bab9246ec7c1679dfebc831c2b51
author Graeme Rocher <graeme.rocher@gmail.com> 1289393830 +0100
committer Graeme Rocher <graeme.rocher@gmail.com> 1289393830 +0100

    allow configuration of host and port when MongoOptions exists

M	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/bean/factory/MongoFactoryBean.java

commit ede9c6ed8b19bab9246ec7c1679dfebc831c2b51
tree 45955477e91980b373673436f2bcc6ad4a04bfd2
parent 243e13ec55a48a46823fd738152b32c24ede21a5
author Graeme Rocher <graeme.rocher@gmail.com> 1289389387 +0100
committer Graeme Rocher <graeme.rocher@gmail.com> 1289389387 +0100

    Renamed packages from datastore to data

M	pom.xml
A	spring-data-couchdb/.classpath
A	spring-data-couchdb/.project
A	spring-data-couchdb/.settings/org.eclipse.jdt.core.prefs
A	spring-data-couchdb/.settings/org.maven.ide.eclipse.prefs
A	spring-data-couchdb/pom.xml
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CannotGetCouchDbConnectionException.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CouchDbFactoryBean.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CouchDbUtils.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CouchDocumentSource.java
A	spring-data-couchdb/src/main/java/org/springframework/data/document/couchdb/CouchTemplate.java
A	spring-data-couchdb/template.mf
A	spring-data-document-core/.classpath
A	spring-data-document-core/.project
A	spring-data-document-core/.settings/org.eclipse.jdt.core.prefs
A	spring-data-document-core/.settings/org.eclipse.wst.common.component
A	spring-data-document-core/.settings/org.eclipse.wst.common.project.facet.core.xml
A	spring-data-document-core/.settings/org.maven.ide.eclipse.prefs
A	spring-data-document-core/pom.xml
A	spring-data-document-core/src/main/java/META-INF/MANIFEST.MF
A	spring-data-document-core/src/main/java/org/springframework/data/document/AbstractDocumentStoreTemplate.java
A	spring-data-document-core/src/main/java/org/springframework/data/document/DocumentMapper.java
A	spring-data-document-core/src/main/java/org/springframework/data/document/DocumentSource.java
A	spring-data-document-core/src/main/java/org/springframework/data/document/DocumentStoreConnectionCallback.java
A	spring-data-document-core/src/main/java/org/springframework/data/document/InvalidDocumentStoreApiUageException.java
A	spring-data-document-core/src/main/java/org/springframework/data/document/UncategorizedDocumentStoreException.java
A	spring-data-document-core/src/main/java/org/springframework/data/document/analytics/ControllerCounter.java
A	spring-data-document-core/src/main/java/org/springframework/data/document/analytics/MvcEvent.java
A	spring-data-document-core/src/main/java/org/springframework/data/document/analytics/Parameters.java
A	spring-data-document-core/src/main/java/org/springframework/data/document/web/bind/annotation/support/HandlerMethodInvoker.java
A	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/ActionExecutedContext.java
A	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/ActionExecutingContext.java
A	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/ActionInterceptor.java
A	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/mvc/annotation/AnnotationMethodHandlerAdapter.java
A	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/mvc/annotation/ServletAnnotationMappingUtils.java
A	spring-data-document-core/src/main/java/org/springframework/data/document/web/servlet/mvc/annotation/support/InterceptingHandlerMethodInvoker.java
A	spring-data-document-core/template.mf
A	spring-data-document-parent/.project
A	spring-data-document-parent/.settings/org.maven.ide.eclipse.prefs
A	spring-data-document-parent/pom.xml
A	spring-data-mongodb/.classpath
A	spring-data-mongodb/.project
A	spring-data-mongodb/.settings/org.eclipse.jdt.core.prefs
A	spring-data-mongodb/.settings/org.eclipse.wst.common.component
A	spring-data-mongodb/.settings/org.eclipse.wst.common.project.facet.core.xml
A	spring-data-mongodb/.settings/org.maven.ide.eclipse.prefs
A	spring-data-mongodb/pom.xml
A	spring-data-mongodb/src/main/java/META-INF/MANIFEST.MF
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CannotGetMongoDbConnectionException.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CollectionCallback.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/CollectionOptions.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/DBCallback.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/DBHolder.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/FluentDbObject.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbUtils.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDocumentSource.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDocumentWriter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoReader.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoReaderWriter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoSynchronization.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoWriter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/bean/factory/MongoFactoryBean.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/bean/factory/MongoOptionsFactoryBean.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicQuery.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/CriteriaSpec.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/FieldSpecification.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/OrCriteria.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Query.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryBuilder.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/SliceSpecification.java
A	spring-data-mongodb/src/main/java/org/springframework/data/document/mongodb/query/SortSpecification.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Person.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Portfolio.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/Trade.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/User.java
A	spring-data-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java
A	spring-data-mongodb/src/test/resources/log4j.properties
A	spring-data-mongodb/src/test/resources/org/springframework/datastore/document/mongodb/MongoBeanPropertyDocumentMapper-context.xml
A	spring-data-mongodb/template.mf
D	spring-datastore-couchdb/.classpath
D	spring-datastore-couchdb/.project
D	spring-datastore-couchdb/.settings/org.eclipse.jdt.core.prefs
D	spring-datastore-couchdb/.settings/org.maven.ide.eclipse.prefs
D	spring-datastore-couchdb/pom.xml
D	spring-datastore-couchdb/src/main/java/org/springframework/datastore/document/couchdb/CannotGetCouchDbConnectionException.java
D	spring-datastore-couchdb/src/main/java/org/springframework/datastore/document/couchdb/CouchDbFactoryBean.java
D	spring-datastore-couchdb/src/main/java/org/springframework/datastore/document/couchdb/CouchDbUtils.java
D	spring-datastore-couchdb/src/main/java/org/springframework/datastore/document/couchdb/CouchDocumentSource.java
D	spring-datastore-couchdb/src/main/java/org/springframework/datastore/document/couchdb/CouchTemplate.java
D	spring-datastore-couchdb/template.mf
D	spring-datastore-document-core/.classpath
D	spring-datastore-document-core/.project
D	spring-datastore-document-core/.settings/org.eclipse.jdt.core.prefs
D	spring-datastore-document-core/.settings/org.eclipse.wst.common.component
D	spring-datastore-document-core/.settings/org.eclipse.wst.common.project.facet.core.xml
D	spring-datastore-document-core/.settings/org.maven.ide.eclipse.prefs
D	spring-datastore-document-core/pom.xml
D	spring-datastore-document-core/src/main/java/META-INF/MANIFEST.MF
D	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/AbstractDocumentStoreTemplate.java
D	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/DocumentMapper.java
D	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/DocumentSource.java
D	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/DocumentStoreConnectionCallback.java
D	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/InvalidDocumentStoreApiUageException.java
D	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/UncategorizedDocumentStoreException.java
D	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/analytics/ControllerCounter.java
D	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/analytics/MvcEvent.java
D	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/analytics/Parameters.java
D	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/web/bind/annotation/support/HandlerMethodInvoker.java
D	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/web/servlet/ActionExecutedContext.java
D	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/web/servlet/ActionExecutingContext.java
D	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/web/servlet/ActionInterceptor.java
D	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/web/servlet/mvc/annotation/AnnotationMethodHandlerAdapter.java
D	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/web/servlet/mvc/annotation/ServletAnnotationMappingUtils.java
D	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/web/servlet/mvc/annotation/support/InterceptingHandlerMethodInvoker.java
D	spring-datastore-document-core/template.mf
D	spring-datastore-document-parent/.project
D	spring-datastore-document-parent/.settings/org.maven.ide.eclipse.prefs
D	spring-datastore-document-parent/pom.xml
D	spring-datastore-mongodb/.classpath
D	spring-datastore-mongodb/.settings/org.eclipse.jdt.core.prefs
D	spring-datastore-mongodb/.settings/org.eclipse.wst.common.component
D	spring-datastore-mongodb/.settings/org.eclipse.wst.common.project.facet.core.xml
D	spring-datastore-mongodb/.settings/org.maven.ide.eclipse.prefs
D	spring-datastore-mongodb/pom.xml
D	spring-datastore-mongodb/src/main/java/META-INF/MANIFEST.MF
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/CannotGetMongoDbConnectionException.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/CollectionCallback.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/CollectionOptions.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/DBCallback.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/DBHolder.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/FluentDbObject.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoConverter.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbUtils.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDocumentSource.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDocumentWriter.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoReader.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoReaderWriter.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoSynchronization.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoWriter.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/bean/factory/MongoFactoryBean.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/bean/factory/MongoOptionsFactoryBean.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicQuery.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/CriteriaSpec.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/FieldSpecification.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/OrCriteria.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Query.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryBuilder.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/SliceSpecification.java
D	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/SortSpecification.java
D	spring-datastore-mongodb/src/test/java/org/springframework/data/document/mongodb/Person.java
D	spring-datastore-mongodb/src/test/java/org/springframework/data/document/mongodb/Portfolio.java
D	spring-datastore-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
D	spring-datastore-mongodb/src/test/java/org/springframework/data/document/mongodb/Trade.java
D	spring-datastore-mongodb/src/test/java/org/springframework/data/document/mongodb/User.java
D	spring-datastore-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java
D	spring-datastore-mongodb/src/test/resources/log4j.properties
D	spring-datastore-mongodb/src/test/resources/org/springframework/datastore/document/mongodb/MongoBeanPropertyDocumentMapper-context.xml
D	spring-datastore-mongodb/template.mf

commit 243e13ec55a48a46823fd738152b32c24ede21a5
tree 151adae25b7099640bd6c59c623d7f84e059579c
parent 1a628d0648ce824aab1bad7dc5dfd83e39c4def0
author Graeme Rocher <graeme.rocher@gmail.com> 1289387879 +0100
committer Graeme Rocher <graeme.rocher@gmail.com> 1289387879 +0100

    new MongoOptionsFactoryBean for easy config of the MongoOptions instance

A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/bean/factory/MongoOptionsFactoryBean.java

commit 1a628d0648ce824aab1bad7dc5dfd83e39c4def0
tree 41e5eef8b1a889959f9a7ed27fab57223db22dd5
parent 0a9d3973f98acda2cf38294fd9f86ad516813885
author Graeme Rocher <graeme.rocher@gmail.com> 1289387856 +0100
committer Graeme Rocher <graeme.rocher@gmail.com> 1289387856 +0100

    Renamed packages etc.

M	spring-datastore-mongodb/.project
M	spring-datastore-mongodb/.settings/org.eclipse.wst.common.component
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/CannotGetMongoDbConnectionException.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/CollectionCallback.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/CollectionOptions.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/DBCallback.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/DBHolder.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/FluentDbObject.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoConverter.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDbUtils.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDocumentSource.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoDocumentWriter.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoReader.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoReaderWriter.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoSynchronization.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoTemplate.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/MongoWriter.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/SimpleMongoConverter.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/bean/factory/MongoFactoryBean.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/BasicQuery.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Criteria.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/CriteriaSpec.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/FieldSpecification.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/OrCriteria.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/Query.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/QueryBuilder.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/SliceSpecification.java
A	spring-datastore-mongodb/src/main/java/org/springframework/data/document/mongodb/query/SortSpecification.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/CannotGetMongoDbConnectionException.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/CollectionCallback.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/CollectionOptions.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/DBCallback.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/DBHolder.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/FluentDbObject.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoConverter.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoDbUtils.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoDocumentSource.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoDocumentWriter.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoFactoryBean.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoReader.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoReaderWriter.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoSynchronization.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoWriter.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/SimpleMongoConverter.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/BasicQuery.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/Criteria.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/CriteriaSpec.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/FieldSpecification.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/OrCriteria.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/Query.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/QueryBuilder.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/SliceSpecification.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/SortSpecification.java
A	spring-datastore-mongodb/src/test/java/org/springframework/data/document/mongodb/Person.java
A	spring-datastore-mongodb/src/test/java/org/springframework/data/document/mongodb/Portfolio.java
A	spring-datastore-mongodb/src/test/java/org/springframework/data/document/mongodb/SimpleMongoConverterTests.java
A	spring-datastore-mongodb/src/test/java/org/springframework/data/document/mongodb/Trade.java
A	spring-datastore-mongodb/src/test/java/org/springframework/data/document/mongodb/User.java
A	spring-datastore-mongodb/src/test/java/org/springframework/data/document/mongodb/analytics/MvcAnalyticsTests.java
D	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/Person.java
D	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/Portfolio.java
D	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/SimpleMongoConverterTests.java
D	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/Trade.java
D	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/User.java
D	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/analytics/MvcAnalyticsTests.java

commit 0a9d3973f98acda2cf38294fd9f86ad516813885
tree 4de1ea7e9fafd232de09f7b26282d151e463637a
parent fb42907fb87df9df070d69b49a152b54bff03126
author Graeme Rocher <graeme.rocher@gmail.com> 1289313129 +0100
committer Graeme Rocher <graeme.rocher@gmail.com> 1289313129 +0100

    fixed bug where we were referencing the null dbHolder instead of the instantiated one

M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoDbUtils.java

commit fb42907fb87df9df070d69b49a152b54bff03126
tree ef269d25f35ee4d8876fbb0aac571d0bd71c6cb6
parent 42b2746fc9815d1468caf2a94130b8a8c912ddb2
parent 9f90b9776ef7f9035e671cf52553516b026bbaf5
author Graeme Rocher <graeme.rocher@gmail.com> 1288955029 +0100
committer Graeme Rocher <graeme.rocher@gmail.com> 1288955029 +0100

    Merge branch 'master' of git.springsource.org:spring-data/datastore-document

commit 42b2746fc9815d1468caf2a94130b8a8c912ddb2
tree d02590e99cede6757584d8fcf846d787c43b0c3e
parent ab051120a69d21791255850370d6c0530944aea9
author Graeme Rocher <graeme.rocher@gmail.com> 1288955018 +0100
committer Graeme Rocher <graeme.rocher@gmail.com> 1288955018 +0100

    moved warning message so its only printed if the host isn't specified

M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoFactoryBean.java

commit 9f90b9776ef7f9035e671cf52553516b026bbaf5
tree 5644f8c9d1b5f364ce47e08e4e4cab65e0d208bb
parent 28fb505dc23db2f3a069fee6bf29f96f66c2ed75
author Thomas Risberg <trisberg@vmware.com> 1288884389 -0400
committer Thomas Risberg <trisberg@vmware.com> 1288884389 -0400

    upgraded docbkx-maven-plugin to 2.0.7

M	pom.xml

commit 28fb505dc23db2f3a069fee6bf29f96f66c2ed75
tree 8aed04a4c22074dedcd23fb72bfcd6543d9058d4
parent 6962cb4fba1afcc40d89b4531a10cc2e124725bd
parent ab051120a69d21791255850370d6c0530944aea9
author Costin Leau <cleau@vmware.com> 1288713311 +0200
committer Costin Leau <cleau@vmware.com> 1288713311 +0200

    Merge branch 'master' of git.springsource.org:spring-data/datastore-document

commit 6962cb4fba1afcc40d89b4531a10cc2e124725bd
tree 27ca5d3a1c9418af3ee06aa22e9f05581e7b1238
parent 995b7326b8c340274e1bf884b63b052d3853e19e
author Costin Leau <cleau@vmware.com> 1288713274 +0200
committer Costin Leau <cleau@vmware.com> 1288713274 +0200

    + update snapshot site
    + downgrade Maven AWS

M	pom.xml
M	spring-datastore-document-parent/pom.xml

commit ab051120a69d21791255850370d6c0530944aea9
tree 3db6df1f291bd59c615bf3abc06b16b5c240c61a
parent 995b7326b8c340274e1bf884b63b052d3853e19e
author Graeme Rocher <graeme.rocher@gmail.com> 1288704718 +0100
committer Graeme Rocher <graeme.rocher@gmail.com> 1288704718 +0100

    Updates to MongoTemplate to use a Mongo instance to lazily create DB instances rather than directly using a DB instance. Also integrated with Spring TransactionSynchronization so a single DB instance can be shared by multiple templates in a single thread

A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/DBHolder.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoDbFactoryBean.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoDbUtils.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoFactoryBean.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoSynchronization.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java
M	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/analytics/MvcAnalyticsTests.java
M	spring-datastore-mongodb/template.mf

commit 995b7326b8c340274e1bf884b63b052d3853e19e
tree d3aa28b468a3b1bd88c9112180f7e1af65a82188
parent c9b1068eb299906a5efb3ffbcc92a613967249ce
author Mark Pollack <mark.pollack@springsource.com> 1288037086 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1288037086 -0400

    additional query method on mongotemplate using default collection

M	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/analytics/ControllerCounter.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/FluentDbObject.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoReader.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java
M	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/analytics/MvcAnalyticsTests.java

commit c9b1068eb299906a5efb3ffbcc92a613967249ce
tree 52d8eccd5af253aa3647be4899297a741f74658b
parent 39846d625dbdb382be2e9854aa98c0b1ede5480c
author Mark Pollack <mark.pollack@springsource.com> 1287296860 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1287296860 -0400

    removed old mapper interfaces

D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoBeanPropertyDocumentMapper.java
D	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoBeanPropertyDocumentSource.java

commit 39846d625dbdb382be2e9854aa98c0b1ede5480c
tree 4205296f1fa0e025ee1fdce696e3af38fa97908e
parent fbdc2b9928a3d6b7192a357c27e62d0b1e3c005d
author Mark Pollack <mark.pollack@springsource.com> 1287296659 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1287296659 -0400

    Add @Ignore for MvcAnalyticsTests

M	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/analytics/MvcAnalyticsTests.java

commit fbdc2b9928a3d6b7192a357c27e62d0b1e3c005d
tree c7de6701bdb7ced6aad4c22f0dd152f929e23391
parent f850239c7bf0510a7c6fd2b5d499c48c15680722
author Mark Pollack <mark.pollack@springsource.com> 1287296582 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1287296582 -0400

    Add Map support to reflection based serializer

M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/SimpleMongoConverter.java
M	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/Portfolio.java
M	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/SimpleMongoConverterTests.java
M	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/analytics/MvcAnalyticsTests.java

commit f850239c7bf0510a7c6fd2b5d499c48c15680722
tree 02dff629f78593654f4dac7de6ff9800247f6f01
parent ec1e8a8c1c490ed4bc0601b5774ad7a2f13555af
author Mark Pollack <mark.pollack@springsource.com> 1287296551 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1287296551 -0400

    add callback so DB operations use same connection across multiple operations

A	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/analytics/ControllerCounter.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/DBCallback.java

commit ec1e8a8c1c490ed4bc0601b5774ad7a2f13555af
tree dfb6a12e021a43f043ac7ebaa7e72587eb2431f4
parent e2a9193a7fd7d749b5c03b5c99162a70b562d0ee
author Mark Pollack <mark.pollack@springsource.com> 1287216131 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1287216131 -0400

    Add some tests for conversion, nested object conversion support, and base classes for use in MVC analystics

M	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/SimpleMongoConverterTests.java

commit e2a9193a7fd7d749b5c03b5c99162a70b562d0ee
tree 5a996164894a8c036205729a4f920c715385aac6
parent ffe37a71eb2b7064765107a71d7690e2b3557f20
author Mark Pollack <mark.pollack@springsource.com> 1287216043 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1287216068 -0400

    Add some tests for conversion, nested object conversion support, and base classes for use in MVC analystics

A	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/analytics/MvcEvent.java
A	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/analytics/Parameters.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/SimpleMongoConverter.java
A	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/Person.java
A	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/Portfolio.java
M	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/SimpleMongoConverterTests.java
A	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/Trade.java
A	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/User.java
A	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/analytics/MvcAnalyticsTests.java

commit ffe37a71eb2b7064765107a71d7690e2b3557f20
tree b234bf4009905ba43e924d92ebc5dc1229711866
parent 980b284739a90052ea64a5c6079ead8d989d77e9
author Mark Pollack <mark.pollack@springsource.com> 1287160172 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1287160172 -0400

    add apache headers

M	spring-datastore-document-core/.classpath
M	spring-datastore-document-core/.project
M	spring-datastore-document-core/.settings/org.eclipse.jdt.core.prefs
M	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/web/servlet/mvc/annotation/AnnotationMethodHandlerAdapter.java
M	spring-datastore-mongodb/.classpath
M	spring-datastore-mongodb/.project
M	spring-datastore-mongodb/.settings/org.eclipse.jdt.core.prefs
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/CannotGetMongoDbConnectionException.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/CollectionCallback.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/CollectionOptions.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoConverter.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoDocumentSource.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoDocumentWriter.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoReader.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoReaderWriter.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoWriter.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/SimpleMongoConverter.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/BasicQuery.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/Criteria.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/CriteriaSpec.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/FieldSpecification.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/OrCriteria.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/Query.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/QueryBuilder.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/SliceSpecification.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/SortSpecification.java

commit 980b284739a90052ea64a5c6079ead8d989d77e9
tree 89141a298d9e481344eb94b44097152cbb117690
parent 6a071e542627c657d2748a1ab803ecc5e4a35f54
author Mark Pollack <mark.pollack@springsource.com> 1287160120 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1287160120 -0400

    Initial implementation of controller 'action' method interceptor support.

A	spring-datastore-document-core/.settings/org.eclipse.wst.common.component
A	spring-datastore-document-core/.settings/org.eclipse.wst.common.project.facet.core.xml
A	spring-datastore-document-core/src/main/java/META-INF/MANIFEST.MF
A	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/web/servlet/ActionExecutedContext.java
A	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/web/servlet/ActionExecutingContext.java
A	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/web/servlet/ActionInterceptor.java
A	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/web/servlet/mvc/annotation/support/InterceptingHandlerMethodInvoker.java
A	spring-datastore-mongodb/.settings/org.eclipse.wst.common.component
A	spring-datastore-mongodb/.settings/org.eclipse.wst.common.project.facet.core.xml
A	spring-datastore-mongodb/src/main/java/META-INF/MANIFEST.MF
A	spring-datastore-mongodb/src/test/java/org/springframework/datastore/document/mongodb/SimpleMongoConverterTests.java

commit 6a071e542627c657d2748a1ab803ecc5e4a35f54
tree 44cb915564d4f4b946e6733b351b672cb4ad6549
parent 2cd4516c09925acca2df58ea2418cc9c606d8764
author Thomas Risberg <trisberg@vmware.com> 1286903497 -0400
committer Thomas Risberg <trisberg@vmware.com> 1286903497 -0400

    added constructor that takes converter

M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java

commit 2cd4516c09925acca2df58ea2418cc9c606d8764
tree 85cb783ca11a8985065cfd20a5f9f3848ca7a1d7
parent dca1e6dcf9ae4e7a99533fa11c04e98b87dcdb07
author Thomas Risberg <trisberg@vmware.com> 1286901892 -0400
committer Thomas Risberg <trisberg@vmware.com> 1286901892 -0400

    added  org.springframework.validation to template.mf

M	spring-datastore-document-core/template.mf

commit dca1e6dcf9ae4e7a99533fa11c04e98b87dcdb07
tree 38399c020b8321be50c7bd6769c13461820458c8
parent 259e3c478e69d076b3120bac3cd0cd04247527b0
author Mark Pollack <mark.pollack@springsource.com> 1286899333 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1286899400 -0400

    development on converter infrastructure

A	.project
A	.settings/org.maven.ide.eclipse.prefs
M	spring-datastore-couchdb/.classpath
M	spring-datastore-document-core/.classpath
M	spring-datastore-document-core/pom.xml
A	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/web/bind/annotation/support/HandlerMethodInvoker.java
A	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/web/servlet/mvc/annotation/AnnotationMethodHandlerAdapter.java
A	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/web/servlet/mvc/annotation/ServletAnnotationMappingUtils.java
M	spring-datastore-document-core/template.mf
M	spring-datastore-mongodb/.classpath
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/CollectionCallback.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoBeanPropertyDocumentSource.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoConverter.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoDocumentWriter.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoReader.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoReaderWriter.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoWriter.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/SimpleMongoConverter.java
A	spring-datastore-mongodb/src/test/resources/log4j.properties
A	spring-datastore-mongodb/src/test/resources/org/springframework/datastore/document/mongodb/MongoBeanPropertyDocumentMapper-context.xml

commit 259e3c478e69d076b3120bac3cd0cd04247527b0
tree 69aec8b64604e7f3a3dc1dde1fa90aed6c89b821
parent 25b9e71644352dba88f47f07e7ef60b7b1179268
author Mark Pollack <mark.pollack@springsource.com> 1286570483 -0400
committer Mark Pollack <mark.pollack@springsource.com> 1286570530 -0400

    updates related to collection creation

A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/CollectionOptions.java
M	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java

commit 25b9e71644352dba88f47f07e7ef60b7b1179268
tree 5235f16ae02f9e64273630e5c9836d711b69b0bc
parent d250019ec3f468d5c903c39241ccc6ec2de2a0d9
author Thomas Risberg <trisberg@vmware.com> 1286476162 -0400
committer Thomas Risberg <trisberg@vmware.com> 1286476162 -0400

    cleanup

D	.project
D	.settings/org.maven.ide.eclipse.prefs
M	pom.xml

commit d250019ec3f468d5c903c39241ccc6ec2de2a0d9
tree 794f80a03882bddbc67dab88fd522c15d404b479
parent a8468d040037a7a405da37a6209cfab9e11954fc
author Thomas Risberg <trisberg@vmware.com> 1286458055 -0400
committer Thomas Risberg <trisberg@vmware.com> 1286458055 -0400

    fixed copyright and footer

M	src/docbkx/resources/xsl/fopdf.xsl

commit a8468d040037a7a405da37a6209cfab9e11954fc
tree 2e9061ca342314e0e5c822a2b4b72f13c8774bde
parent fc5105381f9500a9d9b7b078cd1cd13d746fd530
author Thomas Risberg <trisberg@vmware.com> 1286454616 -0400
committer Thomas Risberg <trisberg@vmware.com> 1286454616 -0400

    minor fixes to build scripts

M	spring-datastore-couchdb/template.mf
M	spring-datastore-document-core/pom.xml
M	spring-datastore-mongodb/template.mf
M	src/assembly/distribution.xml

commit fc5105381f9500a9d9b7b078cd1cd13d746fd530
tree d647b36d28227e3517e45a75c27c5565da091221
parent c981b6a5e2b18a90170739300681ee950f8de443
author Thomas Risberg <trisberg@vmware.com> 1286391964 -0400
committer Thomas Risberg <trisberg@vmware.com> 1286391964 -0400

    Changed to Datastore Document

M	pom.xml

commit c981b6a5e2b18a90170739300681ee950f8de443
tree 4ef7b9da098ed9b02b41e1e0b9264a44accd2ee2
parent 7e8b5971080360d66e0bc70692d05d3feffa7590
author Thomas Risberg <trisberg@vmware.com> 1286391721 -0400
committer Thomas Risberg <trisberg@vmware.com> 1286391721 -0400

    Switched to use new project layout; updated build; moved things around

D	.classpath
M	.gitignore
M	.project
D	.settings/org.eclipse.jdt.core.prefs
M	.settings/org.maven.ide.eclipse.prefs
M	pom.xml
A	spring-datastore-couchdb/.classpath
A	spring-datastore-couchdb/.project
A	spring-datastore-couchdb/.settings/org.eclipse.jdt.core.prefs
A	spring-datastore-couchdb/.settings/org.maven.ide.eclipse.prefs
A	spring-datastore-couchdb/pom.xml
A	spring-datastore-couchdb/src/main/java/org/springframework/datastore/document/couchdb/CannotGetCouchDbConnectionException.java
A	spring-datastore-couchdb/src/main/java/org/springframework/datastore/document/couchdb/CouchDbFactoryBean.java
A	spring-datastore-couchdb/src/main/java/org/springframework/datastore/document/couchdb/CouchDbUtils.java
A	spring-datastore-couchdb/src/main/java/org/springframework/datastore/document/couchdb/CouchDocumentSource.java
A	spring-datastore-couchdb/src/main/java/org/springframework/datastore/document/couchdb/CouchTemplate.java
A	spring-datastore-couchdb/template.mf
A	spring-datastore-document-core/.classpath
A	spring-datastore-document-core/.project
A	spring-datastore-document-core/.settings/org.eclipse.jdt.core.prefs
A	spring-datastore-document-core/.settings/org.maven.ide.eclipse.prefs
A	spring-datastore-document-core/pom.xml
A	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/AbstractDocumentStoreTemplate.java
A	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/DocumentMapper.java
A	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/DocumentSource.java
A	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/DocumentStoreConnectionCallback.java
A	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/InvalidDocumentStoreApiUageException.java
A	spring-datastore-document-core/src/main/java/org/springframework/datastore/document/UncategorizedDocumentStoreException.java
A	spring-datastore-document-core/template.mf
A	spring-datastore-document-parent/.project
A	spring-datastore-document-parent/.settings/org.maven.ide.eclipse.prefs
A	spring-datastore-document-parent/pom.xml
A	spring-datastore-mongodb/.classpath
A	spring-datastore-mongodb/.project
A	spring-datastore-mongodb/.settings/org.eclipse.jdt.core.prefs
A	spring-datastore-mongodb/.settings/org.maven.ide.eclipse.prefs
A	spring-datastore-mongodb/pom.xml
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/CannotGetMongoDbConnectionException.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoBeanPropertyDocumentMapper.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoBeanPropertyDocumentSource.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoDbFactoryBean.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoDbUtils.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoDocumentSource.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/BasicQuery.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/Criteria.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/CriteriaSpec.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/FieldSpecification.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/OrCriteria.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/Query.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/QueryBuilder.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/SliceSpecification.java
A	spring-datastore-mongodb/src/main/java/org/springframework/datastore/document/mongodb/query/SortSpecification.java
A	spring-datastore-mongodb/template.mf
A	src/ant/upload-dist.xml
A	src/assembly/distribution.xml
A	src/docbkx/index.xml
A	src/docbkx/preface.xml
A	src/docbkx/resources/css/highlight.css
A	src/docbkx/resources/css/html.css
A	src/docbkx/resources/css/stylesheet.css
A	src/docbkx/resources/images/callouts/1.png
A	src/docbkx/resources/images/callouts/10.png
A	src/docbkx/resources/images/callouts/11.png
A	src/docbkx/resources/images/callouts/12.png
A	src/docbkx/resources/images/callouts/13.png
A	src/docbkx/resources/images/callouts/14.png
A	src/docbkx/resources/images/callouts/15.png
A	src/docbkx/resources/images/callouts/2.png
A	src/docbkx/resources/images/callouts/3.png
A	src/docbkx/resources/images/callouts/4.png
A	src/docbkx/resources/images/callouts/5.png
A	src/docbkx/resources/images/callouts/6.png
A	src/docbkx/resources/images/callouts/7.png
A	src/docbkx/resources/images/callouts/8.png
A	src/docbkx/resources/images/callouts/9.png
A	src/docbkx/resources/images/logo.png
A	src/docbkx/resources/images/xdev-spring_logo.jpg
A	src/docbkx/resources/xsl/fopdf.xsl
A	src/docbkx/resources/xsl/html.xsl
A	src/docbkx/resources/xsl/html/html_chunk.xsl
A	src/docbkx/resources/xsl/html/titlepage.xml
A	src/docbkx/resources/xsl/html_chunk.xsl
A	src/docbkx/resources/xsl/pdf/fopdf.xsl
A	src/docbkx/resources/xsl/pdf/titlepage.xml
D	src/main/java/org/springframework/datastore/document/AbstractDocumentStoreTemplate.java
D	src/main/java/org/springframework/datastore/document/DocumentMapper.java
D	src/main/java/org/springframework/datastore/document/DocumentSource.java
D	src/main/java/org/springframework/datastore/document/DocumentStoreConnectionCallback.java
D	src/main/java/org/springframework/datastore/document/InvalidDocumentStoreApiUageException.java
D	src/main/java/org/springframework/datastore/document/UncategorizedDocumentStoreException.java
D	src/main/java/org/springframework/datastore/document/couchdb/CannotGetCouchDbConnectionException.java
D	src/main/java/org/springframework/datastore/document/couchdb/CouchDbFactoryBean.java
D	src/main/java/org/springframework/datastore/document/couchdb/CouchDbUtils.java
D	src/main/java/org/springframework/datastore/document/couchdb/CouchDocumentSource.java
D	src/main/java/org/springframework/datastore/document/couchdb/CouchTemplate.java
D	src/main/java/org/springframework/datastore/document/mongodb/CannotGetMongoDbConnectionException.java
D	src/main/java/org/springframework/datastore/document/mongodb/MongoBeanPropertyDocumentMapper.java
D	src/main/java/org/springframework/datastore/document/mongodb/MongoBeanPropertyDocumentSource.java
D	src/main/java/org/springframework/datastore/document/mongodb/MongoDbFactoryBean.java
D	src/main/java/org/springframework/datastore/document/mongodb/MongoDbUtils.java
D	src/main/java/org/springframework/datastore/document/mongodb/MongoDocumentSource.java
D	src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java
D	src/main/java/org/springframework/datastore/document/mongodb/query/BasicQuery.java
D	src/main/java/org/springframework/datastore/document/mongodb/query/Criteria.java
D	src/main/java/org/springframework/datastore/document/mongodb/query/CriteriaSpec.java
D	src/main/java/org/springframework/datastore/document/mongodb/query/FieldSpecification.java
D	src/main/java/org/springframework/datastore/document/mongodb/query/OrCriteria.java
D	src/main/java/org/springframework/datastore/document/mongodb/query/Query.java
D	src/main/java/org/springframework/datastore/document/mongodb/query/QueryBuilder.java
D	src/main/java/org/springframework/datastore/document/mongodb/query/SliceSpecification.java
D	src/main/java/org/springframework/datastore/document/mongodb/query/SortSpecification.java
A	src/main/javadoc/doc-files/th-background.png
A	src/main/javadoc/spring-javadoc.css
A	src/main/resources/apache-license.txt
A	src/main/resources/changelog.txt
A	src/main/resources/notice.txt
A	src/main/resources/readme.txt
D	template.mf

commit 7e8b5971080360d66e0bc70692d05d3feffa7590
tree 0d2fcc25f74233b46f6156caea2d5cbc76a848f7
parent 9e22617751ec7c8def53b6465c4acd290bbe53ad
author Thomas Risberg <trisberg@vmware.com> 1284910159 -0400
committer Thomas Risberg <trisberg@vmware.com> 1284910159 -0400

    added support for $or criteria

A	src/main/java/org/springframework/datastore/document/mongodb/query/BasicQuery.java
A	src/main/java/org/springframework/datastore/document/mongodb/query/Criteria.java
A	src/main/java/org/springframework/datastore/document/mongodb/query/CriteriaSpec.java
A	src/main/java/org/springframework/datastore/document/mongodb/query/OrCriteria.java
M	src/main/java/org/springframework/datastore/document/mongodb/query/QueryBuilder.java
D	src/main/java/org/springframework/datastore/document/mongodb/query/QueryCriterion.java

commit 9e22617751ec7c8def53b6465c4acd290bbe53ad
tree de41ebc92fec0cf9e3c309ee974dcde0ee2bb0a4
parent ef2ddad903e72b1e912ed03d23d5f77791ddaee0
author Thomas Risberg <trisberg@vmware.com> 1284841341 -0400
committer Thomas Risberg <trisberg@vmware.com> 1284841341 -0400

    revorked MongoTemplate to use Query object

M	src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java

commit ef2ddad903e72b1e912ed03d23d5f77791ddaee0
tree 2afc786f2aee0af05c193335fedaf780edf01dda
parent fc180f071fc3dfc4c9c4f3c81ee89bf157680b97
author Thomas Risberg <trisberg@vmware.com> 1284840940 -0400
committer Thomas Risberg <trisberg@vmware.com> 1284840940 -0400

    revorked MongoTemplate to use Query object

M	src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java

commit fc180f071fc3dfc4c9c4f3c81ee89bf157680b97
tree 57e790ef4c0d0844def89e9429bfef74bb498c96
parent 67fe5173795c910ebabef7c9a6df4cffc80d9271
author Thomas Risberg <trisberg@vmware.com> 1284840515 -0400
committer Thomas Risberg <trisberg@vmware.com> 1284840515 -0400

    beginning of a simple query builder

M	.project
A	src/main/java/org/springframework/datastore/document/mongodb/query/FieldSpecification.java
A	src/main/java/org/springframework/datastore/document/mongodb/query/Query.java
A	src/main/java/org/springframework/datastore/document/mongodb/query/QueryBuilder.java
A	src/main/java/org/springframework/datastore/document/mongodb/query/QueryCriterion.java
A	src/main/java/org/springframework/datastore/document/mongodb/query/SliceSpecification.java
A	src/main/java/org/springframework/datastore/document/mongodb/query/SortSpecification.java

commit 67fe5173795c910ebabef7c9a6df4cffc80d9271
tree 8039e43a1b22eb538d9d64db3e6f80a39d9de3fb
parent a08f5f3b3a00b4a19676430103d5e163c7cc391d
author Thomas Risberg <trisberg@vmware.com> 1284494803 -0400
committer Thomas Risberg <trisberg@vmware.com> 1284494803 -0400

    added additional execute signatures

M	src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java

commit a08f5f3b3a00b4a19676430103d5e163c7cc391d
tree 288f5e3166f0a8ee87fefbc1c5c8a75cb5609b32
parent 9c8c442b3d31d62cd12a81124c382e61556c46f9
author Thomas Risberg <trisberg@vmware.com> 1284492596 -0400
committer Thomas Risberg <trisberg@vmware.com> 1284492596 -0400

    added additional query signatures

M	src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java

commit 9c8c442b3d31d62cd12a81124c382e61556c46f9
tree aa153aaeb03aba5a5edb59b7cd872a38d0dd76ff
parent 2515607121797ef4051ffaed296074e9383b838a
author Thomas Risberg <trisberg@vmware.com> 1284484045 -0400
committer Thomas Risberg <trisberg@vmware.com> 1284484045 -0400

    updated to use parent pom; added query methods

M	pom.xml
A	src/main/java/org/springframework/datastore/document/InvalidDocumentStoreApiUageException.java
M	src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java
A	template.mf

commit 2515607121797ef4051ffaed296074e9383b838a
tree ec1db23442ba0ded8062a986c89e093cbb8c5333
parent 7966aba1e07f04efa16dd62be92f1062c1de0465
author Thomas Risberg <trisberg@vmware.com> 1283265220 -0400
committer Thomas Risberg <trisberg@vmware.com> 1283265220 -0400

    refactoring connection factory bean; adding exception translation hooks

M	src/main/java/org/springframework/datastore/document/AbstractDocumentStoreTemplate.java
D	src/main/java/org/springframework/datastore/document/DocumentStoreConnectionFactory.java
D	src/main/java/org/springframework/datastore/document/couchdb/CouchDbConnectionFactory.java
A	src/main/java/org/springframework/datastore/document/couchdb/CouchDbFactoryBean.java
A	src/main/java/org/springframework/datastore/document/couchdb/CouchDbUtils.java
M	src/main/java/org/springframework/datastore/document/couchdb/CouchTemplate.java
M	src/main/java/org/springframework/datastore/document/mongodb/MongoBeanPropertyDocumentSource.java
D	src/main/java/org/springframework/datastore/document/mongodb/MongoDbConnectionFactory.java
M	src/main/java/org/springframework/datastore/document/mongodb/MongoDbFactoryBean.java
A	src/main/java/org/springframework/datastore/document/mongodb/MongoDbUtils.java
M	src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java

commit 7966aba1e07f04efa16dd62be92f1062c1de0465
tree bb8350859e71969126ee50177ee234574abd9fa4
parent 307481edb44a9bfed74ba069f768e3669a9ed4b1
author Thomas Risberg <trisberg@vmware.com> 1282956533 -0400
committer Thomas Risberg <trisberg@vmware.com> 1282956533 -0400

    some more refactoring

M	src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java

commit 307481edb44a9bfed74ba069f768e3669a9ed4b1
tree 271ae47cbda9181091a887213b8ecbdd2254b747
parent 7f05a7e212ba529f1bec3810360da70810463c37
author Thomas Risberg <trisberg@vmware.com> 1282946367 -0400
committer Thomas Risberg <trisberg@vmware.com> 1282946367 -0400

    refactoring

M	src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java

commit 7f05a7e212ba529f1bec3810360da70810463c37
tree 078ab3dc318d507e920eb79d42b91d68ec9b20d6
parent 1b295fd65dd7d05611d22eff8397339aa726b7e9
author Thomas Risberg <trisberg@vmware.com> 1282946012 -0400
committer Thomas Risberg <trisberg@vmware.com> 1282946012 -0400

    renaming, refactoring, adding MongoBeanPropertyDocumentSource

D	src/main/java/org/springframework/datastore/document/couchdb/CouchDbDocumentSource.java
D	src/main/java/org/springframework/datastore/document/couchdb/CouchDbTemplate.java
A	src/main/java/org/springframework/datastore/document/couchdb/CouchDocumentSource.java
A	src/main/java/org/springframework/datastore/document/couchdb/CouchTemplate.java
M	src/main/java/org/springframework/datastore/document/mongodb/MongoBeanPropertyDocumentMapper.java
A	src/main/java/org/springframework/datastore/document/mongodb/MongoBeanPropertyDocumentSource.java
D	src/main/java/org/springframework/datastore/document/mongodb/MongoConnectionFactory.java
A	src/main/java/org/springframework/datastore/document/mongodb/MongoDbConnectionFactory.java
D	src/main/java/org/springframework/datastore/document/mongodb/MongoDbDocumentSource.java
M	src/main/java/org/springframework/datastore/document/mongodb/MongoDbFactoryBean.java
A	src/main/java/org/springframework/datastore/document/mongodb/MongoDocumentSource.java
M	src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java

commit 1b295fd65dd7d05611d22eff8397339aa726b7e9
tree dd92acac58266ce5e7224ef6427aa869d1beb165
parent 7d16a974884d7687297906f097695ba13b4febf7
author Thomas Risberg <trisberg@vmware.com> 1282885850 -0400
committer Thomas Risberg <trisberg@vmware.com> 1282885850 -0400

    adding beginning of DocumentTemplates for MongoDB and CouchDB; added simple MongBeanPropertyDocumentMapper

M	.classpath
M	.project
M	.settings/org.eclipse.jdt.core.prefs
A	.settings/org.maven.ide.eclipse.prefs
M	pom.xml
A	src/main/java/org/springframework/datastore/document/AbstractDocumentStoreTemplate.java
M	src/main/java/org/springframework/datastore/document/DocumentSource.java
A	src/main/java/org/springframework/datastore/document/DocumentStoreConnectionCallback.java
A	src/main/java/org/springframework/datastore/document/DocumentStoreConnectionFactory.java
A	src/main/java/org/springframework/datastore/document/UncategorizedDocumentStoreException.java
A	src/main/java/org/springframework/datastore/document/couchdb/CannotGetCouchDbConnectionException.java
A	src/main/java/org/springframework/datastore/document/couchdb/CouchDbConnectionFactory.java
A	src/main/java/org/springframework/datastore/document/couchdb/CouchDbDocumentSource.java
A	src/main/java/org/springframework/datastore/document/couchdb/CouchDbTemplate.java
A	src/main/java/org/springframework/datastore/document/mongodb/CannotGetMongoDbConnectionException.java
A	src/main/java/org/springframework/datastore/document/mongodb/MongoBeanPropertyDocumentMapper.java
M	src/main/java/org/springframework/datastore/document/mongodb/MongoConnectionFactory.java
D	src/main/java/org/springframework/datastore/document/mongodb/MongoDatastoreTemplate.java
A	src/main/java/org/springframework/datastore/document/mongodb/MongoDbDocumentSource.java
A	src/main/java/org/springframework/datastore/document/mongodb/MongoTemplate.java

commit 7d16a974884d7687297906f097695ba13b4febf7
tree 5fc65d51aa41dbc49f463d8b838b2832b78294ff
parent 8f96a7d41a955c22837530c67bc062750975ed6d
author trisberg <trisberg@vmware.com> 1280240245 -0400
committer trisberg <trisberg@vmware.com> 1280240245 -0400

    fixed spring dependencies

M	pom.xml

commit 8f96a7d41a955c22837530c67bc062750975ed6d
tree 1ed7ee0ee7cb15f90b36f8df084756a0fe670c1a
parent eca4edc1afbd00203fc569a5cd2dcdd29fe690f7
author trisberg <trisberg@vmware.com> 1279568572 -0400
committer trisberg <trisberg@vmware.com> 1279568572 -0400

    adding beginnings of some Mongo abstractions

M	.classpath
M	pom.xml
A	src/main/java/org/springframework/datastore/document/mongodb/MongoConnectionFactory.java
A	src/main/java/org/springframework/datastore/document/mongodb/MongoDatastoreTemplate.java
M	src/main/java/org/springframework/datastore/document/mongodb/MongoDbFactoryBean.java

commit eca4edc1afbd00203fc569a5cd2dcdd29fe690f7
tree d138cbe043da568b1f79c0d882d4eb5392d5f65c
author trisberg <trisberg@vmware.com> 1279226443 -0400
committer trisberg <trisberg@vmware.com> 1279226443 -0400

    beginning of the MongoDB support

A	.classpath
A	.gitignore
A	.project
A	.settings/org.eclipse.jdt.core.prefs
A	pom.xml
A	src/main/java/org/springframework/datastore/document/DocumentMapper.java
A	src/main/java/org/springframework/datastore/document/DocumentSource.java
A	src/main/java/org/springframework/datastore/document/mongodb/MongoDbFactoryBean.java
