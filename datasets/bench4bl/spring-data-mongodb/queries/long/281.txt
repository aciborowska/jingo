The MongoDbFactoryParser curently tests for blank username and password but if you use property placeholders, then thay have not been resolved at this stage, so we still create a UserCredentials bean. We should add tests in the SimpleMongoDbFactory constructor to test for empty values there too and only set the instance variables if there actually are some values provided.