The EventHandler and StepHandler interfaces allow user code to be called by ODE integrators at some points. Both interfaces provide an "init" method which get the initial state as a double array "y0".
The "g" and "eventOccurred" methods also get a double array "y" corresponding to current state. The size of the array in these two methods correspond only to the primary state whereas in the "init" methods it holds both the primary state and the secondary states.
It would be better to always provide the complete state (primary and secondary) in all methods, so users can also trigger events based on secondary states.