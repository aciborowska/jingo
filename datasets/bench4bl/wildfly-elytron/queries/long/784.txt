It looks like I made a mistake in the XSD - for whatever reason I was under the impression that it was possible to embed a "choice" under an "all"; my IDE now has decided to point out that this is not allowed (not sure why it didn't do so earlier).
So now there needs to be a solution which allows this element setup, hopefully without resorting to "sequence".