Error in constructor resolving algorithm