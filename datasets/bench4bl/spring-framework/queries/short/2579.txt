TagUtils.hasAncestorOfType should be using isAssignableFrom to check ancestors