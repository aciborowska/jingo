http://forum.springframework.org/showthread.php?p=74123
The problem is that the PersistenceAnnotationBeanPostProcessor does a lookup of all EntityManagerFactory classes in the application context when it encounters a @PersistenceContext annotation and then at that point caches the list and uses that from then on even though more EntityManagerFactories could be defined later on in the application context.