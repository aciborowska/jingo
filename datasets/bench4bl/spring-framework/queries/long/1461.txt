Set a ClassLoader set on a WebApplicationContext that is NOT the current thread's ClassLoader.
This ClassLoader is used to load beans.
But if you try to inject Class properties into those beans then it uses the current thread's context ClassLoader.
The same ClassLoader should be used in both cases - ideally the one set on the WebApplicationContext.
org.springframework.beans.propertyeditors.ClassEditor.setAsText calls ClassUtils.forName(String className).
This method is hardwired to use the current thread's context ClassLoader.
Any call to ClassUtils.forName(String className)  should be changed to the version that accepts a ClassLoader.
Thanks.