The recent addition of Hibernate 3 typedef support in LocalSessionFactoryBean does not add the typedefs to the configuration early enough for Hibernate's binder to actually use the definitions. Also, if there are no parameters defined (in which case the Properties instance remains null), Hibernate's Mappings.addTypeDef throws a NullPointerException.
I am attaching a patch against 1.2final that fixes these two issues.
The first is fixed by moving the processing of typeDefinitions in LocalSessionFactoryBean before the processing of configLocation. This makes the typedefs that Spring adds available to Hibernate at bind time (Hibernate binds the type eagerly while loading the class' definition in the mapping document).
The second is fixed by giving the parameters field in TypeDefinitionBean a default initialization of "new Properties()".