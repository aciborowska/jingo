MockPortalContext provides a list of valid modes and states, this same list should be used by the MockPortletURL when setPortletMode and setWindowState are called. If the client code attempts to set a mode or state that is not in the list the appropriate exception should be thrown. It would be preferable for these lists to be configurable.