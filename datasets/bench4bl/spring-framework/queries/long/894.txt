The getTargetClass() method of the org.springframework.beans.factory.dynamic.AbstractRefreshableTargetSource class accesses the "currentTarget" member variable directly, instead of calling getTarget(). 
"currentTarget" is initialized upon refresh only. When subclassing AbstractRefreshableTargetSource and calling markModified() to trigger a refresh upon initialization, getTargetClass() will still return null, because it doesn't trigger a refresh.
getTargetClass() is called by the Cglib2AopProxy constructor, which fails when it encounters the null value.
It is possible to work around this issue by subclassing getTargetClass() or explicitly calling refresh() after initialization, but I thought the behavior still qualifies as a minor bug.