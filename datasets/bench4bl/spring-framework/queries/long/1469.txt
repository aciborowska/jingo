It looks like there is a bug in how the actualTransaction flag is set when resuming.  If a transaction with PROPAGATION_SUPPORTS, the flag is correctly set to false.  But if the tx is suspended by calling code with REQUIRES_NEW, the reume method will always restore the flag with the value 'true' rather than check to see whether or not the resumed transaction was real or not.  Subsequent checks to see if the TX is an actual transaction or not will fail.
I'll attach test code shortly...