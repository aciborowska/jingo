Finally blocks in DispatcherPortlet.doActionService() and doRenderService() reset Thread-bound references held by by LocaleContextHolder and RequestContextHolder. This is problematic for clients that require access to scoped beans following DispatcherPortlet invocation. For example, a portlet container may depend on request- or session-scoped beans initialized by a ServletRequestListener or Filter. Such a container likely expects those beans to be accessible for the complete lifetime of a request and may be unpleasantly suprised by DispatcherPortlet's aggressive cleanup behavior. Ideally, DispatcherPortlet would behave like DispatcherServlet and restore the received state of LocaleContextHolder and RequestContextHolder after it completes its internal request handling.