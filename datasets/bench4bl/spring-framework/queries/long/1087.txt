I'm trying to configure a SchedulerFactoryBean (SFB) that has a couple triggers and a couple job details defined (the job details don't initially have triggers associated with them).
In setJobDetails(JobDetail[]) in SFB, Arrays.asList() is used to build the private List jobDetails.
This results in a bug in the registerJobsAndTriggers method. When the triggers are processed, an UnsupportedOperationException is thrown when a job detail associated with a trigger is added to the jobDetails List.
That's because the List returned by Arrays.asList() is a private static class called ArrayList defined in the Arrays class. This class extends AbstractList, but it does not implement the add(int, Object) method. This is presumably because the List is meant to be a fixed-length and objects cannot be added.
This error does not occur if setJobDetails is not called, because a LinkedList is used instead.
I believe setJobDetails should be changed so that a new LinkedList is built, and the contents of the JobDetail[] are manually inserted. This will allow for more JobDetail's to be added to the list when the triggers are processed.
(see http://forum.springframework.org/viewtopic.php?t=2894 for the whole thread)