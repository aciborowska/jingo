ConnectedAttrProcessor is hardcoded to use SpringWebContext from thymeleaf-spring3. It should be flexible enough to also work when thymeleaf-spring4 is in play.