For rejection-style transformer tests, the subsystem test framework stores expected rejected operations in a map keyed by PathAddress.  This is fine when the subsystem's parser only generates add operations.  However, if the parser generates an add operation as well as a a write-attribute operation, these 2 operations will have the same path address.  If we expect one of these operations to be rejected, but not the other, we end up with an unexpected rejection - and the test fails.
This is a little hard to explain in the abstract, so let me know if any of the above doesn't make sense.