ExtensionRegistry maintains state that OSHs modify during Stage.MODEL. But ExtensionRegistry doesn't (and can't, readily) support the copy-on-write/publish-on-commit behavior that is ideal in Stage.MODEL, so those state changes need to be reverted by the OSH if the operation rolls back.
Affects ExtensionAddHandler, ExtensionRemoveHandler, ApplyMissingDomainModelResourcesHandler and ApplyExtensionsHandler.