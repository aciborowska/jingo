WriteAttributeHandler is adding a bunch of steps that make up elements of its Stage.MODEL execution, but it isn't adding them with the 'addFirst' param set to true. This means the effective order of model changes within a composite op is not going to match the logical order of the steps in the op, and step 2 might not execute with the expected starting state.