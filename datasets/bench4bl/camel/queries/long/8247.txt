The S3 Producer component does not take the ObjectMetaData set into account when the type of the exchange is a File. It does takes it into account when the exchange in an InputStream. This is a serious problem because a lot of S3 metadata set in camel headers are not considered at all.