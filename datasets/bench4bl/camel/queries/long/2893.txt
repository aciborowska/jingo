looks like a simple logic bug to me. Have a fix locally - just checking it works...