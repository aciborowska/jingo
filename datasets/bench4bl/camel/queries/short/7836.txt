ConcurrentModificationException when creating dynamic routes