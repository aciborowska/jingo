when a chunk is throwing an exception during process while it is recovering from an exception/rollback on write, i am facing a reproducible deadlock.
seems the second-run processing is then tried 3 times (RetryTemplate default?) and then the commitCount keeps just growing with the logs showing some kind of loop involving constantly busy inputs around https://github.com/spring-projects/spring-batch/blob/master/spring-batch-core/src/main/java/org/springframework/batch/core/step/item/ChunkOrientedTasklet.java#L81.
example project based on batch getting started guide showing the problem attached (gradle build, 2.0 wrapper included).
thanks, zyro