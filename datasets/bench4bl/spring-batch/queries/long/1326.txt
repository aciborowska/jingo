Restart after <stop/> doesn't work if any previous steps have allowStartIfComplete=true.  The system tries to detect a restart by looking for a stopped step at the start of a job.  If one of the previous steps was already re-executed after being COMPLETED then this is wrong.