The SimpleStepExecutionSplitter creates a HashSet of StepExecutions to be returned.  Once the HashSet is populated, it's passed to the JobRepository to be saved.  During the saving, the job execution id for each StepExecution in the set is updated, thereby changing the hashcode of each object.  This renders each of the StepExecution unreferenceable without looping through the Set.  See the reference URL for more information about this type of issue.