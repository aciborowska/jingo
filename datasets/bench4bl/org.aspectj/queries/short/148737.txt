IllegalStateException for non-generic type