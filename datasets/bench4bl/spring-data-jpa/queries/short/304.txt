Code doesn't compile with JDK 6 due to generic method signature