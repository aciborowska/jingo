CryptoOutputStream does not call write in a loop when underlying channel works in non-block mode.