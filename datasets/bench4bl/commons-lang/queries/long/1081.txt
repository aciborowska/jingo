Only testing == without testing equals() seems wrong.
Should an equals() test be added after determining that the parameters are not arrays?