[lang] Make StopWatch validate state transitions