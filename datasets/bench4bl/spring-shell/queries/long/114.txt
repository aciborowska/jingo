At the end of the Bootstrap.createApplicationContext() method, after having inited the pluging's ApplicationContext, the ctx is refreshed again. This lead to the destruction and recreation of all the beans declared in the context. This is may looks like a small thing, but it can lead to problems if some beans allocate important or spare resources.