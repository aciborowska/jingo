(In reply to Tom van den Berge from comment #6)  I'm getting the same stack trace with Eclipse SDK 4.5M6. In my case, it  seems have something to do with null annotations and/or generics. I managed  to isolate the problem in the following code:    @NonNullByDefault  public class EclipseBug {    public void method(Class ? extends String  commandType) {  String command = (String)getCommand(commandType);  }    public static  T extends String  T getCommand(Class T  commandType) {  try {  return commandType.newInstance();  } catch (InstantiationException | IllegalAccessException e) {  throw new RuntimeException();  }  }  }    Compiling this class results in mentioned stack trace, and makes that I  can't compile my project anymore. This problem didn't occur in Eclipse 4.4  though.I can reproduce the following exception:java.lang.NullPointerException at org.eclipse.jdt.internal.compiler.ast.Expression.computeConversion(Expression.java:672) at org.eclipse.jdt.internal.compiler.ast.MessageSend.computeConversion(MessageSend.java:409) at org.eclipse.jdt.internal.compiler.ast.CastExpression.resolveType(CastExpression.java:562) at org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve(LocalDeclaration.java:252) at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements(AbstractMethodDeclaration.java:639) at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements(MethodDeclaration.java:307) at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:549) at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1188) at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1301) at org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:590) at org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:803) at org.eclipse.jdt.internal.compiler.ProcessTaskManager.run(ProcessTaskManager.java:141) at java.lang.Thread.run(Thread.java:745)