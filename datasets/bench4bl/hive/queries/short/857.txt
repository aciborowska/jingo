Transform should produce objects in the same type as specified at runtime