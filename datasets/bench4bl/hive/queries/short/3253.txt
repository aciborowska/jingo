ArrayIndexOutOfBounds exception for deeply nested structs