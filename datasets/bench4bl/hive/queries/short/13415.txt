Decouple Sessions from thrift binary transport