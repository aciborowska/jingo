In Java 7 it is assumed the iteration order is always the same as the insert order, but that's not guaranteed. In Java 8 some unit test breaks because of this ordering change. Solution is to use LinkedHashMap.