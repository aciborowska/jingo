The plan for any given query optimized by CBO will always contain a Project operator on top of the TS that prunes that columns that are not needed.
Thus, there is no need for Hive optimizer to traverse the whole plan to check which columns can be pruned. In fact, Hive ColumnPruner optimizer only needs to match TS operators when CBO optimized the plan.