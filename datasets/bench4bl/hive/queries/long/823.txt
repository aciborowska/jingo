If we use table alias in upper case for MAPJOIN hint, it is ignored. It must be specified in lower case.
Example query:
SELECT /*+ MAPJOIN(N) */ parse_url(ADATA.url,'HOST') AS domain, N.type AS type
FROM nikeusers N join adserves ADATA on (ADATA.user_id = N.uid)
WHERE ADATA.data_date = '20090901'
This query features reducers in its execution. Attached is output of explain extended.
After changing query to:
SELECT /*+ MAPJOIN */ parse_url(adata.url,'HOST') AS domain, n.type AS type
FROM nikeusers n join adserves adata on (adata.user_id = N.uid)
WHERE adata.data_date = '20090901'
It executes as expected. Attached is output of explain extended.
Thanks to Zheng for helping and catching this.