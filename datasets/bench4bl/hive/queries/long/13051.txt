currentTimeMillis is not a correct way to measure intervals of time; it can easily be adjusted e.g. by ntpd. System.nanoTime should be used.
It's also unsafe for failure cases, and doesn't appear to update from config updates correctly.