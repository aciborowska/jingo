ql.metadata.Hive#close() always does a metaStoreClient.close(), even though it might be null.
I'd like to reuse the same thread for multiple queries from different users. Since it's a different user, HiveConf has a new ugi. But it's not easy to get rid of (or update) the cached ql.metadata.Hive. The cleanest way seems to be Hive.closeCurrent(), which unfortunately doesn't check for the metaStoreClient being null.