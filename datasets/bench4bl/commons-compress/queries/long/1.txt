When entering the ArchiveInputStream, the header will be investigated. If offset = 0, then for <arch> will be searched with a read method from InputStream. The offset var will not be updated of course and stays 0. Next time an invalid header exception is thrown.
Solution: all read operations must update the offset field in ArchiveInputStream