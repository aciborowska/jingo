I can compile the code but not execute it because a class seems to be missing. I guess the class is not part of the API but used internally.
When I use the constructor of org.apache.commons.compress.compressors.xz.XZCompressorOutputStream, then I need org/tukaani/xz/FilterOptions at run-time, which is not part of apache-compress.jar.
It's at least not immediately obvious that other .jar files are required to use some of the functionality. Maybe this was intended to be included in the distribution?