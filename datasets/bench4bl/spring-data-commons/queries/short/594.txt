Strange generics behaviour for multiply nested generic types