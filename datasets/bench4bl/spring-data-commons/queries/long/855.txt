Missing equals and hashCode methods in org.springframework.data.util.TypeDiscoverer$SyntheticParamterizedType may be causing a memory leak. 
In the attached code (Application.java). The size of persistentEntities map keeps growing in org.springframework.data.mapping.context.AbstractMappingContext, even though I am reading the same object in a loop.