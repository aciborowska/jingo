Both, AbstractRepositoryMetadata as well as QueryMethod do not resolve array return types for query methods correctly. AbstractRepositoryMetadata.getReturnedDomainClass() should return the array component type. QueryMethod has to consider a method with an array return type as collection query.