I followed the upgrade instructions here: http://www.springsource.org/roo/guide?w=upgrade relating to the new conversion stuff. Now I have an ApplicationConversionServiceFactoryBean with my cusom converters installed. However I am getting the following exception as it seems that the SPEL expression evaluation context does not know about my custom converters. It seems as though only the GenericConversionService with the default converters installed.
DEBUG BasicTilesContainer - Render request recieved for definition 'uncaughtException'
ay_9(org.apache.jsp.WEB_002dINF.views.users.show_j spx:276)
at org.apache.jsp.WEB_002dINF.views.users.show_jspx.a ccess$9(org.apache.jsp.WEB_002dINF.views.users.sho w_jspx:261)
at org.apache.jsp.WEB_002dINF.views.users.show_jspx$s how_jspxHelper.invoke0(org.apache.jsp.WEB_002dINF. views.users.show_jspx:409)
at org.apache.jsp.WEB_002dINF.views.users.show_jspx$s how_jspxHelper.invoke(org.apache.jsp.WEB_002dINF.v iews.users.show_jspx:435)
at org.apache.jsp.tag.web.form.show_tagx._jspx_meth_c _when_1(org.apache.jsp.tag.web.form.show_tagx:730)
at org.apache.jsp.tag.web.form.show_tagx._jspx_meth_c _choose_1(org.apache.jsp.tag.web.form.show_tagx:69 9)
at org.apache.jsp.tag.web.form.show_tagx._jspx_meth_c _if_0(org.apache.jsp.tag.web.form.show_tagx:282)
at org.apache.jsp.tag.web.form.show_tagx.doTag(org.ap ache.jsp.tag.web.form.show_tagx:240)
at org.apache.jsp.WEB_002dINF.views.users.show_jspx._ jspx_meth_page_show_0(org.apache.jsp.WEB_002dINF.v iews.users.show_jspx:83)
at org.apache.jsp.WEB_002dINF.views.users.show_jspx._ jspService(org.apache.jsp.WEB_002dINF.views.users. show_jspx:53)
at org.apache.jasper.runtime.HttpJspBase.service(Http JspBase.java:93)
at javax.servlet.http.HttpServlet.service(HttpServlet .java:820)
at org.apache.jasper.servlet.JspServletWrapper.servic e(JspServletWrapper.java:373)
at org.apache.jasper.servlet.JspServlet.serviceJspFil e(JspServlet.java:470)
at org.apache.jasper.servlet.JspServlet.service(JspSe rvlet.java:364)
at javax.servlet.http.HttpServlet.service(HttpServlet .java:820)
at org.mortbay.jetty.servlet.ServletHolder.handle(Ser vletHolder.java:487)
at org.mortbay.jetty.servlet.ServletHandler.handle(Se rvletHandler.java:362)
at org.mortbay.jetty.security.SecurityHandler.handle( SecurityHandler.java:216)
at org.mortbay.jetty.servlet.SessionHandler.handle(Se ssionHandler.java:181)
at org.mortbay.jetty.handler.ContextHandler.handle(Co ntextHandler.java:722)
at org.mortbay.jetty.webapp.WebAppContext.handle(WebA ppContext.java:404)
at org.mortbay.jetty.servlet.Dispatcher.include(Dispa tcher.java:192)
at org.apache.jasper.runtime.JspRuntimeLibrary.includ e(JspRuntimeLibrary.java:997)
at org.apache.jasper.runtime.PageContextImpl.include( PageContextImpl.java:682)
at org.apache.tiles.jsp.context.JspTilesRequestContex t.include(JspTilesRequestContext.java:103)
... 95 more
Caused by: org.springframework.expression.spel.SpelEvaluation Exception: EL1001Epos 0): Type conversion problem, cannot convert from [TypeDescriptor @javax.persistence.ManyToOne @javax.persistence.JoinColumn com.linguisys.pb.domain.users.Organisation] to [TypeDescriptor java.lang.String]
at org.springframework.expression.spel.support.Standa rdTypeConverter.convertValue(StandardTypeConverter .java:73)
at org.springframework.expression.common.ExpressionUt ils.convertTypedValue(ExpressionUtils.java:67)
at org.springframework.expression.spel.standard.SpelE xpression.getValue(SpelExpression.java:98)
at org.springframework.web.servlet.tags.EvalTag.doEnd Tag(EvalTag.java:113)
at org.apache.jsp.tag.web.form.fields.display_tagx._j spx_meth_spring_eval_0(org.apache.jsp.tag.web.form .fields.display_tagx:653)
at org.apache.jsp.tag.web.form.fields.display_tagx._j spx_meth_c_otherwise_0(org.apache.jsp.tag.web.form .fields.display_tagx:627)
at org.apache.jsp.tag.web.form.fields.display_tagx._j spx_meth_c_choose_0(org.apache.jsp.tag.web.form.fi elds.display_tagx:429)
at org.apache.jsp.tag.web.form.fields.display_tagx._j spx_meth_c_if_0(org.apache.jsp.tag.web.form.fields .display_tagx:248)
at org.apache.jsp.tag.web.form.fields.display_tagx.do Tag(org.apache.jsp.tag.web.form.fields.display_tag x:202)
... 121 more
Caused by: org.springframework.core.convert.ConverterNotFound Exception: No converter found capable of converting from 'com.linguisys.pb.domain.users.Organisation' to 'java.lang.String'
at org.springframework.core.convert.support.GenericCo nversionService.convert(GenericConversionService.j ava:180)
at org.springframework.expression.spel.support.Standa rdTypeConverter.convertValue(StandardTypeConverter .java:70)
... 129 more
