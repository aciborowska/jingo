If you have configured to use security:jee and likely expect request#getUserPrincipal to return the original principal created by your container, you are out of luck.
Preauth implementation completely removes the ability to access the original principal. Disabling servlet-api-provision gives you access but the employed Authentication implementation is not aware of and we have a disparity. It should be either resolved or at least documented to be problematic.